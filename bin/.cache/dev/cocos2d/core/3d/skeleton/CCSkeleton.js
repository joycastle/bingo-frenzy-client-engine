(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/3d/skeleton/CCSkeleton.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        var Skeleton = cc.Class({
            name: 'cc.Skeleton',
            extends: cc.Asset,
            ctor: function ctor() {
                this._bindposes = [];
                this._uniqueBindPoses = [];
                this._jointPaths = [];
            },
            properties: {
                _model: cc.Model,
                _jointIndices: [],
                _skinIndex: -1,
                jointPaths: {
                    get: function get() {
                        return this._jointPaths;
                    }
                },
                bindposes: {
                    get: function get() {
                        return this._bindposes;
                    }
                },
                uniqueBindPoses: {
                    get: function get() {
                        return this._uniqueBindPoses;
                    }
                },
                model: {
                    get: function get() {
                        return this._model;
                    }
                }
            },
            onLoad: function onLoad() {
                var nodes = this._model.nodes;
                var jointIndices = this._jointIndices;
                var jointPaths = this._jointPaths;
                var bindposes = this._bindposes;
                var uniqueBindPoses = this._uniqueBindPoses;
                for (var i = 0; i < jointIndices.length; i++) {
                    var node = nodes[jointIndices[i]];
                    jointPaths[i] = node.path;
                    if (node.uniqueBindPose) {
                        bindposes[i] = uniqueBindPoses[i] = node.uniqueBindPose;
                    } else {
                        bindposes[i] = node.bindpose[this._skinIndex];
                    }
                }
            }
        });
        cc.Skeleton = module.exports = Skeleton;
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNDU2tlbGV0b24uanMiLCIvVXNlcnMvU2hhcmVkL2JpbmdvX2ZyZW56eS9lbmdpbmUvY29jb3MyZC9jb3JlLzNkL3NrZWxldG9uL0NDU2tlbGV0b24uanMiXSwibmFtZXMiOlsiU2tlbGV0b24iLCJjYyIsIkNsYXNzIiwibmFtZSIsImV4dGVuZHMiLCJBc3NldCIsImN0b3IiLCJfYmluZHBvc2VzIiwiX3VuaXF1ZUJpbmRQb3NlcyIsIl9qb2ludFBhdGhzIiwicHJvcGVydGllcyIsIl9tb2RlbCIsIk1vZGVsIiwiX2pvaW50SW5kaWNlcyIsIl9za2luSW5kZXgiLCJqb2ludFBhdGhzIiwiZ2V0IiwiYmluZHBvc2VzIiwidW5pcXVlQmluZFBvc2VzIiwibW9kZWwiLCJvbkxvYWQiLCJub2RlcyIsImpvaW50SW5kaWNlcyIsImkiLCJsZW5ndGgiLCJub2RlIiwicGF0aCIsInVuaXF1ZUJpbmRQb3NlIiwiYmluZHBvc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiO0lBQUEsSUFBQSxPQUFBLEdBQUEsT0FBQSxPQUFBLEtBQUEsV0FBQSxJQUFBLE9BQUEsT0FBQSxLQUFBLFdBQUE7Ozs7Ozs7Ozs7Ozs7UUEwQkEsSUFBSUEsUUFBQUEsR0FBV0MsRUFBQUEsQ0FBR0MsS0FBSEQsQ0FBUztBQUFBLFlBQ3BCRSxJQUFBQSxFQUFNLGFBRGM7QUFBQSxZQUVwQkMsT0FBQUEsRUFBU0gsRUFBQUEsQ0FBR0ksS0FGUTtBQUFBLFlBSXBCQyxJQUFBQSxFQUpvQixTQUFBLElBQUEsR0FJWjtBQUFBLGdCQUNKLEtBQUtDLFVBQUwsR0FBa0IsRUFBbEIsQ0FESTtBQUFBLGdCQUVKLEtBQUtDLGdCQUFMLEdBQXdCLEVBQXhCLENBRkk7QUFBQSxnQkFHSixLQUFLQyxXQUFMLEdBQW1CLEVBQW5CLENBSEk7QUFBQSxhQUpZO0FBQUEsWUFVcEJDLFVBQUFBLEVBQVk7QUFBQSxnQkFDUkMsTUFBQUEsRUFBUVYsRUFBQUEsQ0FBR1csS0FESDtBQUFBLGdCQUVSQyxhQUFBQSxFQUFlLEVBRlA7QUFBQSxnQkFHUkMsVUFBQUEsRUFBWSxDQUFDLENBSEw7QUFBQSxnQkFLUkMsVUFBQUEsRUFBWTtBQUFBLG9CQUNSQyxHQUFBQSxFQURRLFNBQUEsR0FBQSxHQUNEO0FBQUEsd0JBQ0gsT0FBTyxLQUFLUCxXQUFaLENBREc7QUFBQSxxQkFEQztBQUFBLGlCQUxKO0FBQUEsZ0JBVVJRLFNBQUFBLEVBQVc7QUFBQSxvQkFDUEQsR0FBQUEsRUFETyxTQUFBLEdBQUEsR0FDQTtBQUFBLHdCQUNILE9BQU8sS0FBS1QsVUFBWixDQURHO0FBQUEscUJBREE7QUFBQSxpQkFWSDtBQUFBLGdCQWVSVyxlQUFBQSxFQUFpQjtBQUFBLG9CQUNiRixHQUFBQSxFQURhLFNBQUEsR0FBQSxHQUNOO0FBQUEsd0JBQ0gsT0FBTyxLQUFLUixnQkFBWixDQURHO0FBQUEscUJBRE07QUFBQSxpQkFmVDtBQUFBLGdCQW9CUlcsS0FBQUEsRUFBTztBQUFBLG9CQUNISCxHQUFBQSxFQURHLFNBQUEsR0FBQSxHQUNJO0FBQUEsd0JBQ0gsT0FBTyxLQUFLTCxNQUFaLENBREc7QUFBQSxxQkFESjtBQUFBLGlCQXBCQztBQUFBLGFBVlE7QUFBQSxZQXFDcEJTLE1BQUFBLEVBckNvQixTQUFBLE1BQUEsR0FxQ1Y7QUFBQSxnQkFDTixJQUFJQyxLQUFBQSxHQUFRLEtBQUtWLE1BQUwsQ0FBWVUsS0FBeEIsQ0FETTtBQUFBLGdCQUVOLElBQUlDLFlBQUFBLEdBQWUsS0FBS1QsYUFBeEIsQ0FGTTtBQUFBLGdCQUdOLElBQUlFLFVBQUFBLEdBQWEsS0FBS04sV0FBdEIsQ0FITTtBQUFBLGdCQUlOLElBQUlRLFNBQUFBLEdBQVksS0FBS1YsVUFBckIsQ0FKTTtBQUFBLGdCQUtOLElBQUlXLGVBQUFBLEdBQWtCLEtBQUtWLGdCQUEzQixDQUxNO0FBQUEsZ0JBTU4sS0FBSyxJQUFJZSxDQUFBQSxHQUFJLENBQVIsQ0FBTCxDQUFnQkEsQ0FBQUEsR0FBSUQsWUFBQUEsQ0FBYUUsTUFBakMsRUFBeUNELENBQUFBLEVBQXpDLEVBQThDO0FBQUEsb0JBQzFDLElBQUlFLElBQUFBLEdBQU9KLEtBQUFBLENBQU1DLFlBQUFBLENBQWFDLENBQWJELENBQU5ELENBQVgsQ0FEMEM7QUFBQSxvQkFFMUNOLFVBQUFBLENBQVdRLENBQVhSLElBQWdCVSxJQUFBQSxDQUFLQyxJQUFyQlgsQ0FGMEM7QUFBQSxvQkFHMUMsSUFBSVUsSUFBQUEsQ0FBS0UsY0FBVCxFQUF5QjtBQUFBLHdCQUNyQlYsU0FBQUEsQ0FBVU0sQ0FBVk4sSUFBZUMsZUFBQUEsQ0FBZ0JLLENBQWhCTCxJQUFxQk8sSUFBQUEsQ0FBS0UsY0FBekNWLENBRHFCO0FBQUEscUJBQXpCLE1BR0s7QUFBQSx3QkFDREEsU0FBQUEsQ0FBVU0sQ0FBVk4sSUFBZVEsSUFBQUEsQ0FBS0csUUFBTEgsQ0FBYyxLQUFLWCxVQUFuQlcsQ0FBZlIsQ0FEQztBQUFBLHFCQU5xQztBQUFBLGlCQU54QztBQUFBLGFBckNVO0FBQUEsU0FBVGhCLENBQWY7UUF3REFBLEVBQUFBLENBQUdELFFBQUhDLEdBQWM0QixNQUFBQSxDQUFPQyxPQUFQRCxHQUFpQjdCLFFBQS9CQyIsImZpbGUiOiJDQ1NrZWxldG9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cblxuIGh0dHA6Ly93d3cuY29jb3MuY29tXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiAgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbmxldCBTa2VsZXRvbiA9IGNjLkNsYXNzKHtcbiAgICBuYW1lOiAnY2MuU2tlbGV0b24nLFxuICAgIGV4dGVuZHM6IGNjLkFzc2V0LFxuXG4gICAgY3RvciAoKSB7XG4gICAgICAgIHRoaXMuX2JpbmRwb3NlcyA9IFtdO1xuICAgICAgICB0aGlzLl91bmlxdWVCaW5kUG9zZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fam9pbnRQYXRocyA9IFtdO1xuICAgIH0sXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIF9tb2RlbDogY2MuTW9kZWwsXG4gICAgICAgIF9qb2ludEluZGljZXM6IFtdLFxuICAgICAgICBfc2tpbkluZGV4OiAtMSxcblxuICAgICAgICBqb2ludFBhdGhzOiB7XG4gICAgICAgICAgICBnZXQgKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9qb2ludFBhdGhzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiaW5kcG9zZXM6IHtcbiAgICAgICAgICAgIGdldCAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRwb3NlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdW5pcXVlQmluZFBvc2VzOiB7XG4gICAgICAgICAgICBnZXQgKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91bmlxdWVCaW5kUG9zZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICBnZXQgKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICBsZXQgbm9kZXMgPSB0aGlzLl9tb2RlbC5ub2RlcztcbiAgICAgICAgbGV0IGpvaW50SW5kaWNlcyA9IHRoaXMuX2pvaW50SW5kaWNlcztcbiAgICAgICAgbGV0IGpvaW50UGF0aHMgPSB0aGlzLl9qb2ludFBhdGhzO1xuICAgICAgICBsZXQgYmluZHBvc2VzID0gdGhpcy5fYmluZHBvc2VzO1xuICAgICAgICBsZXQgdW5pcXVlQmluZFBvc2VzID0gdGhpcy5fdW5pcXVlQmluZFBvc2VzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpvaW50SW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG5vZGUgPSBub2Rlc1tqb2ludEluZGljZXNbaV1dO1xuICAgICAgICAgICAgam9pbnRQYXRoc1tpXSA9IG5vZGUucGF0aDtcbiAgICAgICAgICAgIGlmIChub2RlLnVuaXF1ZUJpbmRQb3NlKSB7XG4gICAgICAgICAgICAgICAgYmluZHBvc2VzW2ldID0gdW5pcXVlQmluZFBvc2VzW2ldID0gbm9kZS51bmlxdWVCaW5kUG9zZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJpbmRwb3Nlc1tpXSA9IG5vZGUuYmluZHBvc2VbdGhpcy5fc2tpbkluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jYy5Ta2VsZXRvbiA9IG1vZHVsZS5leHBvcnRzID0gU2tlbGV0b247IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxuXG4gaHR0cDovL3d3dy5jb2Nvcy5jb21cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcbiAgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXG4gIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcbiAgdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxuICBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cblxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBTa2VsZXRvbiA9IGNjLkNsYXNzKHtcbiAgICBuYW1lOiAnY2MuU2tlbGV0b24nLFxuICAgIGV4dGVuZHM6IGNjLkFzc2V0LFxuXG4gICAgY3RvcjogZnVuY3Rpb24gY3RvcigpIHtcbiAgICAgICAgdGhpcy5fYmluZHBvc2VzID0gW107XG4gICAgICAgIHRoaXMuX3VuaXF1ZUJpbmRQb3NlcyA9IFtdO1xuICAgICAgICB0aGlzLl9qb2ludFBhdGhzID0gW107XG4gICAgfSxcblxuXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBfbW9kZWw6IGNjLk1vZGVsLFxuICAgICAgICBfam9pbnRJbmRpY2VzOiBbXSxcbiAgICAgICAgX3NraW5JbmRleDogLTEsXG5cbiAgICAgICAgam9pbnRQYXRoczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2pvaW50UGF0aHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJpbmRwb3Nlczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRwb3NlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdW5pcXVlQmluZFBvc2VzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5pcXVlQmluZFBvc2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uTG9hZDogZnVuY3Rpb24gb25Mb2FkKCkge1xuICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLl9tb2RlbC5ub2RlcztcbiAgICAgICAgdmFyIGpvaW50SW5kaWNlcyA9IHRoaXMuX2pvaW50SW5kaWNlcztcbiAgICAgICAgdmFyIGpvaW50UGF0aHMgPSB0aGlzLl9qb2ludFBhdGhzO1xuICAgICAgICB2YXIgYmluZHBvc2VzID0gdGhpcy5fYmluZHBvc2VzO1xuICAgICAgICB2YXIgdW5pcXVlQmluZFBvc2VzID0gdGhpcy5fdW5pcXVlQmluZFBvc2VzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpvaW50SW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tqb2ludEluZGljZXNbaV1dO1xuICAgICAgICAgICAgam9pbnRQYXRoc1tpXSA9IG5vZGUucGF0aDtcbiAgICAgICAgICAgIGlmIChub2RlLnVuaXF1ZUJpbmRQb3NlKSB7XG4gICAgICAgICAgICAgICAgYmluZHBvc2VzW2ldID0gdW5pcXVlQmluZFBvc2VzW2ldID0gbm9kZS51bmlxdWVCaW5kUG9zZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmluZHBvc2VzW2ldID0gbm9kZS5iaW5kcG9zZVt0aGlzLl9za2luSW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmNjLlNrZWxldG9uID0gbW9kdWxlLmV4cG9ydHMgPSBTa2VsZXRvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklrTkRVMnRsYkdWMGIyNHVhbk1pWFN3aWJtRnRaWE1pT2xzaVUydGxiR1YwYjI0aUxDSmpZeUlzSWtOc1lYTnpJaXdpYm1GdFpTSXNJbVY0ZEdWdVpITWlMQ0pCYzNObGRDSXNJbU4wYjNJaUxDSmZZbWx1WkhCdmMyVnpJaXdpWDNWdWFYRjFaVUpwYm1SUWIzTmxjeUlzSWw5cWIybHVkRkJoZEdoeklpd2ljSEp2Y0dWeWRHbGxjeUlzSWw5dGIyUmxiQ0lzSWsxdlpHVnNJaXdpWDJwdmFXNTBTVzVrYVdObGN5SXNJbDl6YTJsdVNXNWtaWGdpTENKcWIybHVkRkJoZEdoeklpd2laMlYwSWl3aVltbHVaSEJ2YzJWeklpd2lkVzVwY1hWbFFtbHVaRkJ2YzJWeklpd2liVzlrWld3aUxDSnZia3h2WVdRaUxDSnViMlJsY3lJc0ltcHZhVzUwU1c1a2FXTmxjeUlzSW1raUxDSnNaVzVuZEdnaUxDSnViMlJsSWl3aWNHRjBhQ0lzSW5WdWFYRjFaVUpwYm1SUWIzTmxJaXdpWW1sdVpIQnZjMlVpTENKdGIyUjFiR1VpTENKbGVIQnZjblJ6SWwwc0ltMWhjSEJwYm1keklqb2lPenRCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3TzBGQk1FSkJMRWxCUVVsQkxGZEJRVmRETEVkQlFVZERMRXRCUVVnc1EwRkJVenRCUVVOd1FrTXNWVUZCVFN4aFFVUmpPMEZCUlhCQ1F5eGhRVUZUU0N4SFFVRkhTU3hMUVVaUk96dEJRVWx3UWtNc1VVRktiMElzYTBKQlNWbzdRVUZEU2l4aFFVRkxReXhWUVVGTUxFZEJRV3RDTEVWQlFXeENPMEZCUTBFc1lVRkJTME1zWjBKQlFVd3NSMEZCZDBJc1JVRkJlRUk3UVVGRFFTeGhRVUZMUXl4WFFVRk1MRWRCUVcxQ0xFVkJRVzVDTzBGQlEwZ3NTMEZTYlVJN096dEJRVlZ3UWtNc1owSkJRVms3UVVGRFVrTXNaMEpCUVZGV0xFZEJRVWRYTEV0QlJFZzdRVUZGVWtNc2RVSkJRV1VzUlVGR1VEdEJRVWRTUXl4dlFrRkJXU3hEUVVGRExFTkJTRXc3TzBGQlMxSkRMRzlDUVVGWk8wRkJRMUpETEdWQlJGRXNhVUpCUTBRN1FVRkRTQ3gxUWtGQlR5eExRVUZMVUN4WFFVRmFPMEZCUTBnN1FVRklUeXhUUVV4S08wRkJWVkpSTEcxQ1FVRlhPMEZCUTFCRUxHVkJSRThzYVVKQlEwRTdRVUZEU0N4MVFrRkJUeXhMUVVGTFZDeFZRVUZhTzBGQlEwZzdRVUZJVFN4VFFWWklPMEZCWlZKWExIbENRVUZwUWp0QlFVTmlSaXhsUVVSaExHbENRVU5PTzBGQlEwZ3NkVUpCUVU4c1MwRkJTMUlzWjBKQlFWbzdRVUZEU0R0QlFVaFpMRk5CWmxRN1FVRnZRbEpYTEdWQlFVODdRVUZEU0Vnc1pVRkVSeXhwUWtGRFNUdEJRVU5JTEhWQ1FVRlBMRXRCUVV0TUxFMUJRVm83UVVGRFNEdEJRVWhGTzBGQmNFSkRMRXRCVmxFN08wRkJjVU53UWxNc1ZVRnlRMjlDTEc5Q1FYRkRWanRCUVVOT0xGbEJRVWxETEZGQlFWRXNTMEZCUzFZc1RVRkJUQ3hEUVVGWlZTeExRVUY0UWp0QlFVTkJMRmxCUVVsRExHVkJRV1VzUzBGQlMxUXNZVUZCZUVJN1FVRkRRU3haUVVGSlJTeGhRVUZoTEV0QlFVdE9MRmRCUVhSQ08wRkJRMEVzV1VGQlNWRXNXVUZCV1N4TFFVRkxWaXhWUVVGeVFqdEJRVU5CTEZsQlFVbFhMR3RDUVVGclFpeExRVUZMVml4blFrRkJNMEk3UVVGRFFTeGhRVUZMTEVsQlFVbGxMRWxCUVVrc1EwRkJZaXhGUVVGblFrRXNTVUZCU1VRc1lVRkJZVVVzVFVGQmFrTXNSVUZCZVVORUxFZEJRWHBETEVWQlFUaERPMEZCUXpGRExHZENRVUZKUlN4UFFVRlBTaXhOUVVGTlF5eGhRVUZoUXl4RFFVRmlMRU5CUVU0c1EwRkJXRHRCUVVOQlVpeDFRa0ZCVjFFc1EwRkJXQ3hKUVVGblFrVXNTMEZCUzBNc1NVRkJja0k3UVVGRFFTeG5Ra0ZCU1VRc1MwRkJTMFVzWTBGQlZDeEZRVUY1UWp0QlFVTnlRbFlzTUVKQlFWVk5MRU5CUVZZc1NVRkJaVXdzWjBKQlFXZENTeXhEUVVGb1FpeEpRVUZ4UWtVc1MwRkJTMFVzWTBGQmVrTTdRVUZEU0N4aFFVWkVMRTFCUjBzN1FVRkRSRllzTUVKQlFWVk5MRU5CUVZZc1NVRkJaVVVzUzBGQlMwY3NVVUZCVEN4RFFVRmpMRXRCUVV0a0xGVkJRVzVDTEVOQlFXWTdRVUZEU0R0QlFVTktPMEZCUTBvN1FVRnlSRzFDTEVOQlFWUXNRMEZCWmpzN1FVRjNSRUZpTEVkQlFVZEVMRkZCUVVnc1IwRkJZelpDTEU5QlFVOURMRTlCUVZBc1IwRkJhVUk1UWl4UlFVRXZRaUlzSW1acGJHVWlPaUpEUTFOclpXeGxkRzl1TG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lMeW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lwY2JpQkRiM0I1Y21sbmFIUWdLR01wSURJd01UY3RNakF4T0NCWWFXRnRaVzRnV1dGcWFTQlRiMlowZDJGeVpTQkRieTRzSUV4MFpDNWNibHh1SUdoMGRIQTZMeTkzZDNjdVkyOWpiM011WTI5dFhHNWNiaUJRWlhKdGFYTnphVzl1SUdseklHaGxjbVZpZVNCbmNtRnVkR1ZrTENCbWNtVmxJRzltSUdOb1lYSm5aU3dnZEc4Z1lXNTVJSEJsY25OdmJpQnZZblJoYVc1cGJtY2dZU0JqYjNCNVhHNGdiMllnZEdocGN5QnpiMlowZDJGeVpTQmhibVFnWVhOemIyTnBZWFJsWkNCbGJtZHBibVVnYzI5MWNtTmxJR052WkdVZ0tIUm9aU0JjSWxOdlpuUjNZWEpsWENJcExDQmhJR3hwYldsMFpXUXNYRzRnSUhkdmNteGtkMmxrWlN3Z2NtOTVZV3gwZVMxbWNtVmxMQ0J1YjI0dFlYTnphV2R1WVdKc1pTd2djbVYyYjJOaFlteGxJR0Z1WkNCdWIyNHRaWGhqYkhWemFYWmxJR3hwWTJWdWMyVmNiaUIwYnlCMWMyVWdRMjlqYjNNZ1EzSmxZWFJ2Y2lCemIyeGxiSGtnZEc4Z1pHVjJaV3h2Y0NCbllXMWxjeUJ2YmlCNWIzVnlJSFJoY21kbGRDQndiR0YwWm05eWJYTXVJRmx2ZFNCemFHRnNiRnh1SUNCdWIzUWdkWE5sSUVOdlkyOXpJRU55WldGMGIzSWdjMjltZEhkaGNtVWdabTl5SUdSbGRtVnNiM0JwYm1jZ2IzUm9aWElnYzI5bWRIZGhjbVVnYjNJZ2RHOXZiSE1nZEdoaGRDZHpYRzRnSUhWelpXUWdabTl5SUdSbGRtVnNiM0JwYm1jZ1oyRnRaWE11SUZsdmRTQmhjbVVnYm05MElHZHlZVzUwWldRZ2RHOGdjSFZpYkdsemFDd2daR2x6ZEhKcFluVjBaU3hjYmlBZ2MzVmliR2xqWlc1elpTd2dZVzVrTDI5eUlITmxiR3dnWTI5d2FXVnpJRzltSUVOdlkyOXpJRU55WldGMGIzSXVYRzVjYmlCVWFHVWdjMjltZEhkaGNtVWdiM0lnZEc5dmJITWdhVzRnZEdocGN5Qk1hV05sYm5ObElFRm5jbVZsYldWdWRDQmhjbVVnYkdsalpXNXpaV1FzSUc1dmRDQnpiMnhrTGx4dUlGaHBZVzFsYmlCWllXcHBJRk52Wm5SM1lYSmxJRU52TGl3Z1RIUmtMaUJ5WlhObGNuWmxjeUJoYkd3Z2NtbG5hSFJ6SUc1dmRDQmxlSEJ5WlhOemJIa2daM0poYm5SbFpDQjBieUI1YjNVdVhHNWNiaUJVU0VVZ1UwOUdWRmRCVWtVZ1NWTWdVRkpQVmtsRVJVUWdYQ0pCVXlCSlUxd2lMQ0JYU1ZSSVQxVlVJRmRCVWxKQlRsUlpJRTlHSUVGT1dTQkxTVTVFTENCRldGQlNSVk5USUU5U1hHNGdTVTFRVEVsRlJDd2dTVTVEVEZWRVNVNUhJRUpWVkNCT1QxUWdURWxOU1ZSRlJDQlVUeUJVU0VVZ1YwRlNVa0ZPVkVsRlV5QlBSaUJOUlZKRFNFRk9WRUZDU1V4SlZGa3NYRzRnUmtsVVRrVlRVeUJHVDFJZ1FTQlFRVkpVU1VOVlRFRlNJRkJWVWxCUFUwVWdRVTVFSUU1UFRrbE9SbEpKVGtkRlRVVk9WQzRnU1U0Z1RrOGdSVlpGVGxRZ1UwaEJURXdnVkVoRlhHNGdRVlZVU0U5U1V5QlBVaUJEVDFCWlVrbEhTRlFnU0U5TVJFVlNVeUJDUlNCTVNVRkNURVVnUms5U0lFRk9XU0JEVEVGSlRTd2dSRUZOUVVkRlV5QlBVaUJQVkVoRlVseHVJRXhKUVVKSlRFbFVXU3dnVjBoRlZFaEZVaUJKVGlCQlRpQkJRMVJKVDA0Z1QwWWdRMDlPVkZKQlExUXNJRlJQVWxRZ1QxSWdUMVJJUlZKWFNWTkZMQ0JCVWtsVFNVNUhJRVpTVDAwc1hHNGdUMVZVSUU5R0lFOVNJRWxPSUVOUFRrNUZRMVJKVDA0Z1YwbFVTQ0JVU0VVZ1UwOUdWRmRCVWtVZ1QxSWdWRWhGSUZWVFJTQlBVaUJQVkVoRlVpQkVSVUZNU1U1SFV5QkpUbHh1SUZSSVJTQlRUMFpVVjBGU1JTNWNiaUFxS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUwxeHVYRzVjYm14bGRDQlRhMlZzWlhSdmJpQTlJR05qTGtOc1lYTnpLSHRjYmlBZ0lDQnVZVzFsT2lBblkyTXVVMnRsYkdWMGIyNG5MRnh1SUNBZ0lHVjRkR1Z1WkhNNklHTmpMa0Z6YzJWMExGeHVYRzRnSUNBZ1kzUnZjaUFvS1NCN1hHNGdJQ0FnSUNBZ0lIUm9hWE11WDJKcGJtUndiM05sY3lBOUlGdGRPMXh1SUNBZ0lDQWdJQ0IwYUdsekxsOTFibWx4ZFdWQ2FXNWtVRzl6WlhNZ1BTQmJYVHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWZhbTlwYm5SUVlYUm9jeUE5SUZ0ZE8xeHVJQ0FnSUgwc1hHNWNiaUFnSUNCd2NtOXdaWEowYVdWek9pQjdYRzRnSUNBZ0lDQWdJRjl0YjJSbGJEb2dZMk11VFc5a1pXd3NYRzRnSUNBZ0lDQWdJRjlxYjJsdWRFbHVaR2xqWlhNNklGdGRMRnh1SUNBZ0lDQWdJQ0JmYzJ0cGJrbHVaR1Y0T2lBdE1TeGNibHh1SUNBZ0lDQWdJQ0JxYjJsdWRGQmhkR2h6T2lCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JuWlhRZ0tDa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQjBhR2x6TGw5cWIybHVkRkJoZEdoek8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCOUxGeHVJQ0FnSUNBZ0lDQmlhVzVrY0c5elpYTTZJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHZGxkQ0FvS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUhSb2FYTXVYMkpwYm1Sd2IzTmxjenRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmU3hjYmlBZ0lDQWdJQ0FnZFc1cGNYVmxRbWx1WkZCdmMyVnpPaUI3WEc0Z0lDQWdJQ0FnSUNBZ0lDQm5aWFFnS0NrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMbDkxYm1seGRXVkNhVzVrVUc5elpYTTdYRzRnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lIMHNYRzRnSUNBZ0lDQWdJRzF2WkdWc09pQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCblpYUWdLQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUIwYUdsekxsOXRiMlJsYkR0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJSDBzWEc1Y2JpQWdJQ0J2Ymt4dllXUWdLQ2tnZTF4dUlDQWdJQ0FnSUNCc1pYUWdibTlrWlhNZ1BTQjBhR2x6TGw5dGIyUmxiQzV1YjJSbGN6dGNiaUFnSUNBZ0lDQWdiR1YwSUdwdmFXNTBTVzVrYVdObGN5QTlJSFJvYVhNdVgycHZhVzUwU1c1a2FXTmxjenRjYmlBZ0lDQWdJQ0FnYkdWMElHcHZhVzUwVUdGMGFITWdQU0IwYUdsekxsOXFiMmx1ZEZCaGRHaHpPMXh1SUNBZ0lDQWdJQ0JzWlhRZ1ltbHVaSEJ2YzJWeklEMGdkR2hwY3k1ZlltbHVaSEJ2YzJWek8xeHVJQ0FnSUNBZ0lDQnNaWFFnZFc1cGNYVmxRbWx1WkZCdmMyVnpJRDBnZEdocGN5NWZkVzVwY1hWbFFtbHVaRkJ2YzJWek8xeHVJQ0FnSUNBZ0lDQm1iM0lnS0d4bGRDQnBJRDBnTURzZ2FTQThJR3B2YVc1MFNXNWthV05sY3k1c1pXNW5kR2c3SUdrckt5a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2JHVjBJRzV2WkdVZ1BTQnViMlJsYzF0cWIybHVkRWx1WkdsalpYTmJhVjFkTzF4dUlDQWdJQ0FnSUNBZ0lDQWdhbTlwYm5SUVlYUm9jMXRwWFNBOUlHNXZaR1V1Y0dGMGFEdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaHViMlJsTG5WdWFYRjFaVUpwYm1SUWIzTmxLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWW1sdVpIQnZjMlZ6VzJsZElEMGdkVzVwY1hWbFFtbHVaRkJ2YzJWelcybGRJRDBnYm05a1pTNTFibWx4ZFdWQ2FXNWtVRzl6WlR0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNBZ0lHVnNjMlVnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdKcGJtUndiM05sYzF0cFhTQTlJRzV2WkdVdVltbHVaSEJ2YzJWYmRHaHBjeTVmYzJ0cGJrbHVaR1Y0WFR0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJSDFjYm4wcE8xeHVYRzVqWXk1VGEyVnNaWFJ2YmlBOUlHMXZaSFZzWlM1bGVIQnZjblJ6SUQwZ1UydGxiR1YwYjI0N0lsMTkiXX0=