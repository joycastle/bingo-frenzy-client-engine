(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/3d/primitive/torus.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.default = function () {
            var radius = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.4;
            var tube = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.1;
            var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
            var radialSegments = opts.radialSegments || 32;
            var tubularSegments = opts.tubularSegments || 32;
            var arc = opts.arc || 2 * Math.PI;
            var positions = [];
            var normals = [];
            var uvs = [];
            var indices = [];
            var minPos = _vmath.vec3.create(-radius - tube, -tube, -radius - tube);
            var maxPos = _vmath.vec3.create(radius + tube, tube, radius + tube);
            var boundingRadius = radius + tube;
            for (var j = 0; j <= radialSegments; j++) {
                for (var i = 0; i <= tubularSegments; i++) {
                    var u = i / tubularSegments;
                    var v = j / radialSegments;
                    var u1 = u * arc;
                    var v1 = v * Math.PI * 2;
                    var x = (radius + tube * Math.cos(v1)) * Math.sin(u1);
                    var y = tube * Math.sin(v1);
                    var z = (radius + tube * Math.cos(v1)) * Math.cos(u1);
                    var nx = Math.sin(u1) * Math.cos(v1);
                    var ny = Math.sin(v1);
                    var nz = Math.cos(u1) * Math.cos(v1);
                    positions.push(x, y, z);
                    normals.push(nx, ny, nz);
                    uvs.push(u, v);
                    if (i < tubularSegments && j < radialSegments) {
                        var seg1 = tubularSegments + 1;
                        var a = seg1 * j + i;
                        var b = seg1 * (j + 1) + i;
                        var c = seg1 * (j + 1) + i + 1;
                        var d = seg1 * j + i + 1;
                        indices.push(a, d, b);
                        indices.push(d, c, b);
                    }
                }
            }
            return new _vertexData2.default(positions, normals, uvs, indices, minPos, maxPos, boundingRadius);
        };
        var _vmath = require('../../vmath');
        var _vertexData = require('./vertex-data');
        var _vertexData2 = _interopRequireDefault(_vertexData);
        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
        }
        module.exports = exports['default'];
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcnVzLmpzIiwiL1VzZXJzL1NoYXJlZC9iaW5nb19mcmVuenkvZW5naW5lL2NvY29zMmQvY29yZS8zZC9wcmltaXRpdmUvdG9ydXMuanMiXSwibmFtZXMiOlsib3B0cyIsInJhZGlhbFNlZ21lbnRzIiwicmFkaXVzIiwidHViZSIsInR1YnVsYXJTZWdtZW50cyIsImFyYyIsIk1hdGgiLCJQSSIsInBvc2l0aW9ucyIsIm5vcm1hbHMiLCJ1dnMiLCJpbmRpY2VzIiwibWluUG9zIiwidmVjMyIsImNyZWF0ZSIsIm1heFBvcyIsImJvdW5kaW5nUmFkaXVzIiwiaiIsImkiLCJ1IiwidiIsInUxIiwidjEiLCJ4IiwiY29zIiwic2luIiwieSIsInoiLCJueCIsIm55IiwibnoiLCJwdXNoIiwic2VnMSIsImEiLCJiIiwiYyIsImQiLCJWZXJ0ZXhEYXRhIl0sIm1hcHBpbmdzIjoiOzs7OztRQWFlLE9BQStDLE9BQUEsQ0FBQSxPQUFBLENBQS9DO1FBQStDLFVBQUEsT0FBQSxFQUFBO0FBQUEsUUFBQSxPQUFBLGlCQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsRUFBQSxVQUFBLENBQUEsQ0FBQTtBQUFBOztRQUN2Q0EsSUFBS0MsQ0FBQUEsT0FBTEQsRUFBS0M7QUFBQUEsWUFBQUEsaUJBQUFBLENBQTFCLGNBQTBCQSxDQUExQixVQUEwQkEsRUFBMUIsTUFBMEJBLEVBQUFBO0FBQUFBO1FBZDVCO0FBQUEsc0VBQUE7QUFBQSwwQkFhZSxZQUErQztBQUFBLFlBQUEsSUFBckNDLE1BQUFBLEdBQXFDLFNBQUEsQ0FBQSxNQUFBLEdBQUEsQ0FBQSxJQUFBLFNBQUEsQ0FBQSxDQUFBLE1BQUEsU0FBQSxHQUFBLFNBQUEsQ0FBQSxDQUFBLENBQUEsR0FBNUIsR0FBNEIsQ0FBQTtBQUFBLFlBQUEsSUFBdkJDLElBQUFBLEdBQXVCLFNBQUEsQ0FBQSxNQUFBLEdBQUEsQ0FBQSxJQUFBLFNBQUEsQ0FBQSxDQUFBLE1BQUEsU0FBQSxHQUFBLFNBQUEsQ0FBQSxDQUFBLENBQUEsR0FB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ckIsT0FBQUEsQ0FBUW9CLElBQVJwQixDQUFhc0IsQ0FBYnRCLEVBQWdCeUIsQ0FBaEJ6QixFQUFtQnVCLENBQW5CdkIsRUFQaUQ7QUFBQSx3QkFRakRBLE9BQUFBLENBQVFvQixJQUFScEIsQ0FBYXlCLENBQWJ6QixFQUFnQndCLENBQWhCeEIsRUFBbUJ1QixDQUFuQnZCLEVBUmlEO0FBQUEscUJBckJWO0FBQUEsaUJBREg7QUFBQSxhQWJrQjtBQUFBLFlBZ0Q1RCxPQUFPLElBQUkwQixZQUFBQSxDQUFBQSxPQUFKLENBQ0w3QixTQURLLEVBRUxDLE9BRkssRUFHTEMsR0FISyxFQUlMQyxPQUpLLEVBS0xDLE1BTEssRUFNTEcsTUFOSyxFQU9MQyxjQVBLLENBQVAsQ0FoRDREO0FBQUEsVUFiOUQ7QUFBQSxRQUVBLElBQUEsTUFBQSxHQUFBLE9BQUEsQ0FBQSxhQUFBLENBQUEsQ0FGQTtBQUFBLFFBR0EsSUFBQSxXQUFBLEdBQUEsT0FBQSxDQUFBLGVBQUEsQ0FBQSxDQUhBO0FBQUEsK0RBQUE7QUFBQTs7U0FBQTtBQUFBOztJQWdCWSxJQUFZLE9BQVosRUFBa0JWO0FBQUFBLHdEQUFBQTtBQUFBQSxLQUFsQixNQUdWO0FBQUEsUUFDQSxpQkFBQSxDQUFBLGtCQUFBLENBQUEsVUFBQSxFQUFBLFlBQUE7QUFBQSxZQUNBLFFBQUEsQ0FBQSxRQUFBLENBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLEVBREE7QUFBQSxTQUFBLEVBREE7QUFBQSIsImZpbGUiOiJ0b3J1cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgdmVjMyB9IGZyb20gJy4uLy4uL3ZtYXRoJztcbmltcG9ydCBWZXJ0ZXhEYXRhIGZyb20gJy4vdmVydGV4LWRhdGEnO1xuXG4vKipcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcbiAqIEBwYXJhbSB7TnVtYmVyfSB0dWJlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdHMucmFkaWFsU2VnbWVudHNcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRzLnR1YnVsYXJTZWdtZW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdHMuYXJjXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChyYWRpdXMgPSAwLjQsIHR1YmUgPSAwLjEsIG9wdHMgPSB7fSkge1xuICBsZXQgcmFkaWFsU2VnbWVudHMgPSBvcHRzLnJhZGlhbFNlZ21lbnRzIHx8IDMyO1xuICBsZXQgdHVidWxhclNlZ21lbnRzID0gb3B0cy50dWJ1bGFyU2VnbWVudHMgfHwgMzI7XG4gIGxldCBhcmMgPSBvcHRzLmFyYyB8fCAyLjAgKiBNYXRoLlBJO1xuXG4gIGxldCBwb3NpdGlvbnMgPSBbXTtcbiAgbGV0IG5vcm1hbHMgPSBbXTtcbiAgbGV0IHV2cyA9IFtdO1xuICBsZXQgaW5kaWNlcyA9IFtdO1xuICBsZXQgbWluUG9zID0gdmVjMy5jcmVhdGUoLXJhZGl1cyAtIHR1YmUsIC10dWJlLCAtcmFkaXVzIC0gdHViZSk7XG4gIGxldCBtYXhQb3MgPSB2ZWMzLmNyZWF0ZShyYWRpdXMgKyB0dWJlLCB0dWJlLCByYWRpdXMgKyB0dWJlKTtcbiAgbGV0IGJvdW5kaW5nUmFkaXVzID0gcmFkaXVzICsgdHViZTtcblxuICBmb3IgKGxldCBqID0gMDsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHtcbiAgICAgIGxldCB1ID0gaSAvIHR1YnVsYXJTZWdtZW50cztcbiAgICAgIGxldCB2ID0gaiAvIHJhZGlhbFNlZ21lbnRzO1xuXG4gICAgICBsZXQgdTEgPSB1ICogYXJjO1xuICAgICAgbGV0IHYxID0gdiAqIE1hdGguUEkgKiAyO1xuXG4gICAgICAvLyB2ZXJ0ZXhcbiAgICAgIGxldCB4ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2MSkpICogTWF0aC5zaW4odTEpO1xuICAgICAgbGV0IHkgPSB0dWJlICogTWF0aC5zaW4odjEpO1xuICAgICAgbGV0IHogPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYxKSkgKiBNYXRoLmNvcyh1MSk7XG5cbiAgICAgIC8vIHRoaXMgdmVjdG9yIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBub3JtYWxcbiAgICAgIGxldCBueCA9IE1hdGguc2luKHUxKSAqIE1hdGguY29zKHYxKTtcbiAgICAgIGxldCBueSA9IE1hdGguc2luKHYxKTtcbiAgICAgIGxldCBueiA9IE1hdGguY29zKHUxKSAqIE1hdGguY29zKHYxKTtcblxuICAgICAgcG9zaXRpb25zLnB1c2goeCwgeSwgeik7XG4gICAgICBub3JtYWxzLnB1c2gobngsIG55LCBueik7XG4gICAgICB1dnMucHVzaCh1LCB2KTtcblxuICAgICAgaWYgKChpIDwgdHVidWxhclNlZ21lbnRzKSAmJiAoaiA8IHJhZGlhbFNlZ21lbnRzKSkge1xuICAgICAgICBsZXQgc2VnMSA9IHR1YnVsYXJTZWdtZW50cyArIDE7XG4gICAgICAgIGxldCBhID0gc2VnMSAqIGogKyBpO1xuICAgICAgICBsZXQgYiA9IHNlZzEgKiAoaiArIDEpICsgaTtcbiAgICAgICAgbGV0IGMgPSBzZWcxICogKGogKyAxKSArIGkgKyAxO1xuICAgICAgICBsZXQgZCA9IHNlZzEgKiBqICsgaSArIDE7XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKGEsIGQsIGIpO1xuICAgICAgICBpbmRpY2VzLnB1c2goZCwgYywgYik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBWZXJ0ZXhEYXRhKFxuICAgIHBvc2l0aW9ucyxcbiAgICBub3JtYWxzLFxuICAgIHV2cyxcbiAgICBpbmRpY2VzLFxuICAgIG1pblBvcyxcbiAgICBtYXhQb3MsXG4gICAgYm91bmRpbmdSYWRpdXNcbiAgKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmFkaXVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwLjQ7XG4gIHZhciB0dWJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwLjE7XG4gIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICB2YXIgcmFkaWFsU2VnbWVudHMgPSBvcHRzLnJhZGlhbFNlZ21lbnRzIHx8IDMyO1xuICB2YXIgdHVidWxhclNlZ21lbnRzID0gb3B0cy50dWJ1bGFyU2VnbWVudHMgfHwgMzI7XG4gIHZhciBhcmMgPSBvcHRzLmFyYyB8fCAyLjAgKiBNYXRoLlBJO1xuXG4gIHZhciBwb3NpdGlvbnMgPSBbXTtcbiAgdmFyIG5vcm1hbHMgPSBbXTtcbiAgdmFyIHV2cyA9IFtdO1xuICB2YXIgaW5kaWNlcyA9IFtdO1xuICB2YXIgbWluUG9zID0gX3ZtYXRoLnZlYzMuY3JlYXRlKC1yYWRpdXMgLSB0dWJlLCAtdHViZSwgLXJhZGl1cyAtIHR1YmUpO1xuICB2YXIgbWF4UG9zID0gX3ZtYXRoLnZlYzMuY3JlYXRlKHJhZGl1cyArIHR1YmUsIHR1YmUsIHJhZGl1cyArIHR1YmUpO1xuICB2YXIgYm91bmRpbmdSYWRpdXMgPSByYWRpdXMgKyB0dWJlO1xuXG4gIGZvciAodmFyIGogPSAwOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykge1xuICAgICAgdmFyIHUgPSBpIC8gdHVidWxhclNlZ21lbnRzO1xuICAgICAgdmFyIHYgPSBqIC8gcmFkaWFsU2VnbWVudHM7XG5cbiAgICAgIHZhciB1MSA9IHUgKiBhcmM7XG4gICAgICB2YXIgdjEgPSB2ICogTWF0aC5QSSAqIDI7XG5cbiAgICAgIC8vIHZlcnRleFxuICAgICAgdmFyIHggPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYxKSkgKiBNYXRoLnNpbih1MSk7XG4gICAgICB2YXIgeSA9IHR1YmUgKiBNYXRoLnNpbih2MSk7XG4gICAgICB2YXIgeiA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModjEpKSAqIE1hdGguY29zKHUxKTtcblxuICAgICAgLy8gdGhpcyB2ZWN0b3IgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIG5vcm1hbFxuICAgICAgdmFyIG54ID0gTWF0aC5zaW4odTEpICogTWF0aC5jb3ModjEpO1xuICAgICAgdmFyIG55ID0gTWF0aC5zaW4odjEpO1xuICAgICAgdmFyIG56ID0gTWF0aC5jb3ModTEpICogTWF0aC5jb3ModjEpO1xuXG4gICAgICBwb3NpdGlvbnMucHVzaCh4LCB5LCB6KTtcbiAgICAgIG5vcm1hbHMucHVzaChueCwgbnksIG56KTtcbiAgICAgIHV2cy5wdXNoKHUsIHYpO1xuXG4gICAgICBpZiAoaSA8IHR1YnVsYXJTZWdtZW50cyAmJiBqIDwgcmFkaWFsU2VnbWVudHMpIHtcbiAgICAgICAgdmFyIHNlZzEgPSB0dWJ1bGFyU2VnbWVudHMgKyAxO1xuICAgICAgICB2YXIgYSA9IHNlZzEgKiBqICsgaTtcbiAgICAgICAgdmFyIGIgPSBzZWcxICogKGogKyAxKSArIGk7XG4gICAgICAgIHZhciBjID0gc2VnMSAqIChqICsgMSkgKyBpICsgMTtcbiAgICAgICAgdmFyIGQgPSBzZWcxICogaiArIGkgKyAxO1xuXG4gICAgICAgIGluZGljZXMucHVzaChhLCBkLCBiKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGQsIGMsIGIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgX3ZlcnRleERhdGEyLmRlZmF1bHQocG9zaXRpb25zLCBub3JtYWxzLCB1dnMsIGluZGljZXMsIG1pblBvcywgbWF4UG9zLCBib3VuZGluZ1JhZGl1cyk7XG59O1xuXG52YXIgX3ZtYXRoID0gcmVxdWlyZSgnLi4vLi4vdm1hdGgnKTtcblxudmFyIF92ZXJ0ZXhEYXRhID0gcmVxdWlyZSgnLi92ZXJ0ZXgtZGF0YScpO1xuXG52YXIgX3ZlcnRleERhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmVydGV4RGF0YSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKipcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcbiAqIEBwYXJhbSB7TnVtYmVyfSB0dWJlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdHMucmFkaWFsU2VnbWVudHNcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRzLnR1YnVsYXJTZWdtZW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdHMuYXJjXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkluUnZjblZ6TG1weklsMHNJbTVoYldWeklqcGJJbkpoWkdsMWN5SXNJblIxWW1VaUxDSnZjSFJ6SWl3aWNtRmthV0ZzVTJWbmJXVnVkSE1pTENKMGRXSjFiR0Z5VTJWbmJXVnVkSE1pTENKaGNtTWlMQ0pOWVhSb0lpd2lVRWtpTENKd2IzTnBkR2x2Ym5NaUxDSnViM0p0WVd4eklpd2lkWFp6SWl3aWFXNWthV05sY3lJc0ltMXBibEJ2Y3lJc0luWmxZek1pTENKamNtVmhkR1VpTENKdFlYaFFiM01pTENKaWIzVnVaR2x1WjFKaFpHbDFjeUlzSW1vaUxDSnBJaXdpZFNJc0luWWlMQ0oxTVNJc0luWXhJaXdpZUNJc0ltTnZjeUlzSW5OcGJpSXNJbmtpTENKNklpd2libmdpTENKdWVTSXNJbTU2SWl3aWNIVnphQ0lzSW5ObFp6RWlMQ0poSWl3aVlpSXNJbU1pTENKa0lpd2lWbVZ5ZEdWNFJHRjBZU0pkTENKdFlYQndhVzVuY3lJNklrRkJRVUU3T3pzN096dHJRa0ZoWlN4WlFVRXJRenRCUVVGQkxFMUJRWEpEUVN4TlFVRnhReXgxUlVGQk5VSXNSMEZCTkVJN1FVRkJRU3hOUVVGMlFrTXNTVUZCZFVJc2RVVkJRV2hDTEVkQlFXZENPMEZCUVVFc1RVRkJXRU1zU1VGQlZ5eDFSVUZCU2l4RlFVRkpPenRCUVVNMVJDeE5RVUZKUXl4cFFrRkJhVUpFTEV0QlFVdERMR05CUVV3c1NVRkJkVUlzUlVGQk5VTTdRVUZEUVN4TlFVRkpReXhyUWtGQmEwSkdMRXRCUVV0RkxHVkJRVXdzU1VGQmQwSXNSVUZCT1VNN1FVRkRRU3hOUVVGSlF5eE5RVUZOU0N4TFFVRkxSeXhIUVVGTUxFbEJRVmtzVFVGQlRVTXNTMEZCUzBNc1JVRkJha003TzBGQlJVRXNUVUZCU1VNc1dVRkJXU3hGUVVGb1FqdEJRVU5CTEUxQlFVbERMRlZCUVZVc1JVRkJaRHRCUVVOQkxFMUJRVWxETEUxQlFVMHNSVUZCVmp0QlFVTkJMRTFCUVVsRExGVkJRVlVzUlVGQlpEdEJRVU5CTEUxQlFVbERMRk5CUVZORExGbEJRVXRETEUxQlFVd3NRMEZCV1N4RFFVRkRaQ3hOUVVGRUxFZEJRVlZETEVsQlFYUkNMRVZCUVRSQ0xFTkJRVU5CTEVsQlFUZENMRVZCUVcxRExFTkJRVU5FTEUxQlFVUXNSMEZCVlVNc1NVRkJOME1zUTBGQllqdEJRVU5CTEUxQlFVbGpMRk5CUVZOR0xGbEJRVXRETEUxQlFVd3NRMEZCV1dRc1UwRkJVME1zU1VGQmNrSXNSVUZCTWtKQkxFbEJRVE5DTEVWQlFXbERSQ3hUUVVGVFF5eEpRVUV4UXl4RFFVRmlPMEZCUTBFc1RVRkJTV1VzYVVKQlFXbENhRUlzVTBGQlUwTXNTVUZCT1VJN08wRkJSVUVzVDBGQlN5eEpRVUZKWjBJc1NVRkJTU3hEUVVGaUxFVkJRV2RDUVN4TFFVRkxaQ3hqUVVGeVFpeEZRVUZ4UTJNc1IwRkJja01zUlVGQk1FTTdRVUZEZUVNc1UwRkJTeXhKUVVGSlF5eEpRVUZKTEVOQlFXSXNSVUZCWjBKQkxFdEJRVXRrTEdWQlFYSkNMRVZCUVhORFl5eEhRVUYwUXl4RlFVRXlRenRCUVVONlF5eFZRVUZKUXl4SlFVRkpSQ3hKUVVGSlpDeGxRVUZhTzBGQlEwRXNWVUZCU1dkQ0xFbEJRVWxJTEVsQlFVbGtMR05CUVZvN08wRkJSVUVzVlVGQlNXdENMRXRCUVV0R0xFbEJRVWxrTEVkQlFXSTdRVUZEUVN4VlFVRkphVUlzUzBGQlMwWXNTVUZCU1dRc1MwRkJTME1zUlVGQlZDeEhRVUZqTEVOQlFYWkNPenRCUVVWQk8wRkJRMEVzVlVGQlNXZENMRWxCUVVrc1EwRkJRM1pDTEZOQlFWTkRMRTlCUVU5TExFdEJRVXRyUWl4SFFVRk1MRU5CUVZOR0xFVkJRVlFzUTBGQmFrSXNTVUZCYVVOb1FpeExRVUZMYlVJc1IwRkJUQ3hEUVVGVFNpeEZRVUZVTEVOQlFYcERPMEZCUTBFc1ZVRkJTVXNzU1VGQlNYcENMRTlCUVU5TExFdEJRVXR0UWl4SFFVRk1MRU5CUVZOSUxFVkJRVlFzUTBGQlpqdEJRVU5CTEZWQlFVbExMRWxCUVVrc1EwRkJRek5DTEZOQlFWTkRMRTlCUVU5TExFdEJRVXRyUWl4SFFVRk1MRU5CUVZOR0xFVkJRVlFzUTBGQmFrSXNTVUZCYVVOb1FpeExRVUZMYTBJc1IwRkJUQ3hEUVVGVFNDeEZRVUZVTEVOQlFYcERPenRCUVVWQk8wRkJRMEVzVlVGQlNVOHNTMEZCUzNSQ0xFdEJRVXR0UWl4SFFVRk1MRU5CUVZOS0xFVkJRVlFzU1VGQlpXWXNTMEZCUzJ0Q0xFZEJRVXdzUTBGQlUwWXNSVUZCVkN4RFFVRjRRanRCUVVOQkxGVkJRVWxQTEV0QlFVdDJRaXhMUVVGTGJVSXNSMEZCVEN4RFFVRlRTQ3hGUVVGVUxFTkJRVlE3UVVGRFFTeFZRVUZKVVN4TFFVRkxlRUlzUzBGQlMydENMRWRCUVV3c1EwRkJVMGdzUlVGQlZDeEpRVUZsWml4TFFVRkxhMElzUjBGQlRDeERRVUZUUml4RlFVRlVMRU5CUVhoQ096dEJRVVZCWkN4blFrRkJWWFZDTEVsQlFWWXNRMEZCWlZJc1EwRkJaaXhGUVVGclFrY3NRMEZCYkVJc1JVRkJjVUpETEVOQlFYSkNPMEZCUTBGc1FpeGpRVUZSYzBJc1NVRkJVaXhEUVVGaFNDeEZRVUZpTEVWQlFXbENReXhGUVVGcVFpeEZRVUZ4UWtNc1JVRkJja0k3UVVGRFFYQkNMRlZCUVVseFFpeEpRVUZLTEVOQlFWTmFMRU5CUVZRc1JVRkJXVU1zUTBGQldqczdRVUZGUVN4VlFVRkxSaXhKUVVGSlpDeGxRVUZNTEVsQlFUQkNZU3hKUVVGSlpDeGpRVUZzUXl4RlFVRnRSRHRCUVVOcVJDeFpRVUZKTmtJc1QwRkJUelZDTEd0Q1FVRnJRaXhEUVVFM1FqdEJRVU5CTEZsQlFVazJRaXhKUVVGSlJDeFBRVUZQWml4RFFVRlFMRWRCUVZkRExFTkJRVzVDTzBGQlEwRXNXVUZCU1dkQ0xFbEJRVWxHTEZGQlFWRm1MRWxCUVVrc1EwRkJXaXhKUVVGcFFrTXNRMEZCZWtJN1FVRkRRU3haUVVGSmFVSXNTVUZCU1Vnc1VVRkJVV1lzU1VGQlNTeERRVUZhTEVsQlFXbENReXhEUVVGcVFpeEhRVUZ4UWl4RFFVRTNRanRCUVVOQkxGbEJRVWxyUWl4SlFVRkpTaXhQUVVGUFppeERRVUZRTEVkQlFWZERMRU5CUVZnc1IwRkJaU3hEUVVGMlFqczdRVUZGUVZBc1owSkJRVkZ2UWl4SlFVRlNMRU5CUVdGRkxFTkJRV0lzUlVGQlowSkhMRU5CUVdoQ0xFVkJRVzFDUml4RFFVRnVRanRCUVVOQmRrSXNaMEpCUVZGdlFpeEpRVUZTTEVOQlFXRkxMRU5CUVdJc1JVRkJaMEpFTEVOQlFXaENMRVZCUVcxQ1JDeERRVUZ1UWp0QlFVTkVPMEZCUTBZN1FVRkRSanM3UVVGRlJDeFRRVUZQTEVsQlFVbEhMRzlDUVVGS0xFTkJRMHczUWl4VFFVUkxMRVZCUlV4RExFOUJSa3NzUlVGSFRFTXNSMEZJU3l4RlFVbE1ReXhQUVVwTExFVkJTMHhETEUxQlRFc3NSVUZOVEVjc1RVRk9TeXhGUVU5TVF5eGpRVkJMTEVOQlFWQTdRVUZUUkN4RE96dEJRWEJGUkRzN1FVRkRRVHM3T3pzN096czdRVUZGUVNJc0ltWnBiR1VpT2lKMGIzSjFjeTVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklpZDFjMlVnYzNSeWFXTjBKenRjYmx4dWFXMXdiM0owSUhzZ2RtVmpNeUI5SUdaeWIyMGdKeTR1THk0dUwzWnRZWFJvSnp0Y2JtbHRjRzl5ZENCV1pYSjBaWGhFWVhSaElHWnliMjBnSnk0dmRtVnlkR1Y0TFdSaGRHRW5PMXh1WEc0dktpcGNiaUFxSUVCd1lYSmhiU0I3VG5WdFltVnlmU0J5WVdScGRYTmNiaUFxSUVCd1lYSmhiU0I3VG5WdFltVnlmU0IwZFdKbFhHNGdLaUJBY0dGeVlXMGdlMDlpYW1WamRIMGdiM0IwYzF4dUlDb2dRSEJoY21GdElIdE9kVzFpWlhKOUlHOXdkSE11Y21Ga2FXRnNVMlZuYldWdWRITmNiaUFxSUVCd1lYSmhiU0I3VG5WdFltVnlmU0J2Y0hSekxuUjFZblZzWVhKVFpXZHRaVzUwYzF4dUlDb2dRSEJoY21GdElIdE9kVzFpWlhKOUlHOXdkSE11WVhKalhHNGdLaTljYm1WNGNHOXlkQ0JrWldaaGRXeDBJR1oxYm1OMGFXOXVJQ2h5WVdScGRYTWdQU0F3TGpRc0lIUjFZbVVnUFNBd0xqRXNJRzl3ZEhNZ1BTQjdmU2tnZTF4dUlDQnNaWFFnY21Ga2FXRnNVMlZuYldWdWRITWdQU0J2Y0hSekxuSmhaR2xoYkZObFoyMWxiblJ6SUh4OElETXlPMXh1SUNCc1pYUWdkSFZpZFd4aGNsTmxaMjFsYm5SeklEMGdiM0IwY3k1MGRXSjFiR0Z5VTJWbmJXVnVkSE1nZkh3Z016STdYRzRnSUd4bGRDQmhjbU1nUFNCdmNIUnpMbUZ5WXlCOGZDQXlMakFnS2lCTllYUm9MbEJKTzF4dVhHNGdJR3hsZENCd2IzTnBkR2x2Ym5NZ1BTQmJYVHRjYmlBZ2JHVjBJRzV2Y20xaGJITWdQU0JiWFR0Y2JpQWdiR1YwSUhWMmN5QTlJRnRkTzF4dUlDQnNaWFFnYVc1a2FXTmxjeUE5SUZ0ZE8xeHVJQ0JzWlhRZ2JXbHVVRzl6SUQwZ2RtVmpNeTVqY21WaGRHVW9MWEpoWkdsMWN5QXRJSFIxWW1Vc0lDMTBkV0psTENBdGNtRmthWFZ6SUMwZ2RIVmlaU2s3WEc0Z0lHeGxkQ0J0WVhoUWIzTWdQU0IyWldNekxtTnlaV0YwWlNoeVlXUnBkWE1nS3lCMGRXSmxMQ0IwZFdKbExDQnlZV1JwZFhNZ0t5QjBkV0psS1R0Y2JpQWdiR1YwSUdKdmRXNWthVzVuVW1Ga2FYVnpJRDBnY21Ga2FYVnpJQ3NnZEhWaVpUdGNibHh1SUNCbWIzSWdLR3hsZENCcUlEMGdNRHNnYWlBOFBTQnlZV1JwWVd4VFpXZHRaVzUwY3pzZ2Fpc3JLU0I3WEc0Z0lDQWdabTl5SUNoc1pYUWdhU0E5SURBN0lHa2dQRDBnZEhWaWRXeGhjbE5sWjIxbGJuUnpPeUJwS3lzcElIdGNiaUFnSUNBZ0lHeGxkQ0IxSUQwZ2FTQXZJSFIxWW5Wc1lYSlRaV2R0Wlc1MGN6dGNiaUFnSUNBZ0lHeGxkQ0IySUQwZ2FpQXZJSEpoWkdsaGJGTmxaMjFsYm5Sek8xeHVYRzRnSUNBZ0lDQnNaWFFnZFRFZ1BTQjFJQ29nWVhKak8xeHVJQ0FnSUNBZ2JHVjBJSFl4SUQwZ2RpQXFJRTFoZEdndVVFa2dLaUF5TzF4dVhHNGdJQ0FnSUNBdkx5QjJaWEowWlhoY2JpQWdJQ0FnSUd4bGRDQjRJRDBnS0hKaFpHbDFjeUFySUhSMVltVWdLaUJOWVhSb0xtTnZjeWgyTVNrcElDb2dUV0YwYUM1emFXNG9kVEVwTzF4dUlDQWdJQ0FnYkdWMElIa2dQU0IwZFdKbElDb2dUV0YwYUM1emFXNG9kakVwTzF4dUlDQWdJQ0FnYkdWMElIb2dQU0FvY21Ga2FYVnpJQ3NnZEhWaVpTQXFJRTFoZEdndVkyOXpLSFl4S1NrZ0tpQk5ZWFJvTG1OdmN5aDFNU2s3WEc1Y2JpQWdJQ0FnSUM4dklIUm9hWE1nZG1WamRHOXlJR2x6SUhWelpXUWdkRzhnWTJGc1kzVnNZWFJsSUhSb1pTQnViM0p0WVd4Y2JpQWdJQ0FnSUd4bGRDQnVlQ0E5SUUxaGRHZ3VjMmx1S0hVeEtTQXFJRTFoZEdndVkyOXpLSFl4S1R0Y2JpQWdJQ0FnSUd4bGRDQnVlU0E5SUUxaGRHZ3VjMmx1S0hZeEtUdGNiaUFnSUNBZ0lHeGxkQ0J1ZWlBOUlFMWhkR2d1WTI5ektIVXhLU0FxSUUxaGRHZ3VZMjl6S0hZeEtUdGNibHh1SUNBZ0lDQWdjRzl6YVhScGIyNXpMbkIxYzJnb2VDd2dlU3dnZWlrN1hHNGdJQ0FnSUNCdWIzSnRZV3h6TG5CMWMyZ29ibmdzSUc1NUxDQnVlaWs3WEc0Z0lDQWdJQ0IxZG5NdWNIVnphQ2gxTENCMktUdGNibHh1SUNBZ0lDQWdhV1lnS0NocElEd2dkSFZpZFd4aGNsTmxaMjFsYm5SektTQW1KaUFvYWlBOElISmhaR2xoYkZObFoyMWxiblJ6S1NrZ2UxeHVJQ0FnSUNBZ0lDQnNaWFFnYzJWbk1TQTlJSFIxWW5Wc1lYSlRaV2R0Wlc1MGN5QXJJREU3WEc0Z0lDQWdJQ0FnSUd4bGRDQmhJRDBnYzJWbk1TQXFJR29nS3lCcE8xeHVJQ0FnSUNBZ0lDQnNaWFFnWWlBOUlITmxaekVnS2lBb2FpQXJJREVwSUNzZ2FUdGNiaUFnSUNBZ0lDQWdiR1YwSUdNZ1BTQnpaV2N4SUNvZ0tHb2dLeUF4S1NBcklHa2dLeUF4TzF4dUlDQWdJQ0FnSUNCc1pYUWdaQ0E5SUhObFp6RWdLaUJxSUNzZ2FTQXJJREU3WEc1Y2JpQWdJQ0FnSUNBZ2FXNWthV05sY3k1d2RYTm9LR0VzSUdRc0lHSXBPMXh1SUNBZ0lDQWdJQ0JwYm1ScFkyVnpMbkIxYzJnb1pDd2dZeXdnWWlrN1hHNGdJQ0FnSUNCOVhHNGdJQ0FnZlZ4dUlDQjlYRzVjYmlBZ2NtVjBkWEp1SUc1bGR5QldaWEowWlhoRVlYUmhLRnh1SUNBZ0lIQnZjMmwwYVc5dWN5eGNiaUFnSUNCdWIzSnRZV3h6TEZ4dUlDQWdJSFYyY3l4Y2JpQWdJQ0JwYm1ScFkyVnpMRnh1SUNBZ0lHMXBibEJ2Y3l4Y2JpQWdJQ0J0WVhoUWIzTXNYRzRnSUNBZ1ltOTFibVJwYm1kU1lXUnBkWE5jYmlBZ0tUdGNibjFjYmlKZGZRPT0iXX0=