(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/load-pipeline/auto-release-utils.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        var _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (obj) {
            return typeof obj;
        } : function (obj) {
            return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;
        };
        var js = require('../platform/js');
        function parseDepends(key, parsed) {
            var item = cc.loader.getItem(key);
            if (item) {
                var depends = item.dependKeys;
                if (depends) {
                    for (var i = 0; i < depends.length; i++) {
                        var depend = depends[i];
                        if (!parsed[depend]) {
                            parsed[depend] = true;
                            parseDepends(depend, parsed);
                        }
                    }
                }
            }
        }
        function visitAsset(asset, excludeMap) {
            if (!asset._uuid) {
                return;
            }
            var key = cc.loader._getReferenceKey(asset);
            if (!excludeMap[key]) {
                excludeMap[key] = true;
                parseDepends(key, excludeMap);
            }
        }
        function visitComponent(comp, excludeMap) {
            var props = Object.getOwnPropertyNames(comp);
            for (var i = 0; i < props.length; i++) {
                var value = comp[props[i]];
                if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value) {
                    if (Array.isArray(value)) {
                        for (var j = 0; j < value.length; j++) {
                            var val = value[j];
                            if (val instanceof cc.RawAsset) {
                                visitAsset(val, excludeMap);
                            }
                        }
                    } else if (!value.constructor || value.constructor === Object) {
                        var keys = Object.getOwnPropertyNames(value);
                        for (var _j = 0; _j < keys.length; _j++) {
                            var _val = value[keys[_j]];
                            if (_val instanceof cc.RawAsset) {
                                visitAsset(_val, excludeMap);
                            }
                        }
                    } else if (value instanceof cc.RawAsset) {
                        visitAsset(value, excludeMap);
                    }
                }
            }
        }
        function visitNode(node, excludeMap) {
            for (var i = 0; i < node._components.length; i++) {
                visitComponent(node._components[i], excludeMap);
            }
            for (var _i = 0; _i < node._children.length; _i++) {
                visitNode(node._children[_i], excludeMap);
            }
        }
        module.exports = {
            autoRelease: function autoRelease(oldSceneAssets, nextSceneAssets, persistNodes) {
                var releaseSettings = cc.loader._autoReleaseSetting;
                var excludeMap = js.createMap();
                if (nextSceneAssets) {
                    for (var i = 0; i < nextSceneAssets.length; i++) {
                        excludeMap[nextSceneAssets[i]] = true;
                    }
                }
                for (var _i2 = 0; _i2 < persistNodes.length; _i2++) {
                    visitNode(persistNodes[_i2], excludeMap);
                }
                if (oldSceneAssets) {
                    for (var _i3 = 0; _i3 < oldSceneAssets.length; _i3++) {
                        var key = oldSceneAssets[_i3];
                        if (releaseSettings[key] !== false && !excludeMap[key]) {
                            cc.loader.release(key);
                        }
                    }
                }
                var keys = Object.keys(releaseSettings);
                for (var _i4 = 0; _i4 < keys.length; _i4++) {
                    var _key = keys[_i4];
                    if (releaseSettings[_key] === true && !excludeMap[_key]) {
                        cc.loader.release(_key);
                    }
                }
            },
            getDependsRecursively: function getDependsRecursively(key) {
                var depends = {};
                parseDepends(key, depends);
                return Object.keys(depends);
            }
        };
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dG8tcmVsZWFzZS11dGlscy5qcyIsIi9Vc2Vycy9TaGFyZWQvYmluZ29fZnJlbnp5L2VuZ2luZS9jb2NvczJkL2NvcmUvbG9hZC1waXBlbGluZS9hdXRvLXJlbGVhc2UtdXRpbHMuanMiXSwibmFtZXMiOlsianMiLCJyZXF1aXJlIiwicGFyc2VEZXBlbmRzIiwia2V5IiwicGFyc2VkIiwiaXRlbSIsImNjIiwibG9hZGVyIiwiZ2V0SXRlbSIsImRlcGVuZHMiLCJkZXBlbmRLZXlzIiwiaSIsImxlbmd0aCIsImRlcGVuZCIsInZpc2l0QXNzZXQiLCJhc3NldCIsImV4Y2x1ZGVNYXAiLCJfdXVpZCIsIl9nZXRSZWZlcmVuY2VLZXkiLCJ2aXNpdENvbXBvbmVudCIsImNvbXAiLCJwcm9wcyIsIk9iamVjdCIsImdldE93blByb3BlcnR5TmFtZXMiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImoiLCJ2YWwiLCJSYXdBc3NldCIsImNvbnN0cnVjdG9yIiwia2V5cyIsInZpc2l0Tm9kZSIsIm5vZGUiLCJfY29tcG9uZW50cyIsIl9jaGlsZHJlbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJhdXRvUmVsZWFzZSIsIm9sZFNjZW5lQXNzZXRzIiwibmV4dFNjZW5lQXNzZXRzIiwicGVyc2lzdE5vZGVzIiwicmVsZWFzZVNldHRpbmdzIiwiX2F1dG9SZWxlYXNlU2V0dGluZyIsImNyZWF0ZU1hcCIsInJlbGVhc2UiLCJnZXREZXBlbmRzUmVjdXJzaXZlbHkiXSwibWFwcGluZ3MiOiI7OztJQUFBLElBQUEsVUFBQSxHQUFBLDZEQUFBOzs7Ozs7Ozs7Ozs7Ozs7O1FBMEJBLElBQUlBLEVBQUFBLEdBQUtDLE9BQUFBLENBQVEsZ0JBQVJBLENBQVQ7UUFFQSxTQUFTQyxZQUFULENBQXVCQyxHQUF2QixFQUE0QkMsTUFBNUIsRUFBb0M7QUFBQSxZQUNoQyxJQUFJQyxJQUFBQSxHQUFPQyxFQUFBQSxDQUFHQyxNQUFIRCxDQUFVRSxPQUFWRixDQUFrQkgsR0FBbEJHLENBQVgs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c2UtdXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiAgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG52YXIganMgPSByZXF1aXJlKCcuLi9wbGF0Zm9ybS9qcycpO1xuXG5mdW5jdGlvbiBwYXJzZURlcGVuZHMgKGtleSwgcGFyc2VkKSB7XG4gICAgdmFyIGl0ZW0gPSBjYy5sb2FkZXIuZ2V0SXRlbShrZXkpO1xuICAgIGlmIChpdGVtKSB7XG4gICAgICAgIHZhciBkZXBlbmRzID0gaXRlbS5kZXBlbmRLZXlzO1xuICAgICAgICBpZiAoZGVwZW5kcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcGVuZCA9IGRlcGVuZHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCAhcGFyc2VkW2RlcGVuZF0gKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFtkZXBlbmRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VEZXBlbmRzKGRlcGVuZCwgcGFyc2VkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHZpc2l0QXNzZXQgKGFzc2V0LCBleGNsdWRlTWFwKSB7XG4gICAgLy8gU2tpcCBhc3NldHMgZ2VuZXJhdGVkIHByb2dyYW1tYXRpY2FsbHkgb3IgYnkgdXNlciAoZS5nLiBsYWJlbCB0ZXh0dXJlKVxuICAgIGlmICghYXNzZXQuX3V1aWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5ID0gY2MubG9hZGVyLl9nZXRSZWZlcmVuY2VLZXkoYXNzZXQpO1xuICAgIGlmICggIWV4Y2x1ZGVNYXBba2V5XSApIHtcbiAgICAgICAgZXhjbHVkZU1hcFtrZXldID0gdHJ1ZTtcbiAgICAgICAgcGFyc2VEZXBlbmRzKGtleSwgZXhjbHVkZU1hcCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB2aXNpdENvbXBvbmVudCAoY29tcCwgZXhjbHVkZU1hcCkge1xuICAgIHZhciBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNvbXApO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gY29tcFtwcm9wc1tpXV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWwgPSB2YWx1ZVtqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIGNjLlJhd0Fzc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpdEFzc2V0KHZhbCwgZXhjbHVkZU1hcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdmFsdWUuY29uc3RydWN0b3IgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsID0gdmFsdWVba2V5c1tqXV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBjYy5SYXdBc3NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRBc3NldCh2YWwsIGV4Y2x1ZGVNYXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBjYy5SYXdBc3NldCkge1xuICAgICAgICAgICAgICAgIHZpc2l0QXNzZXQodmFsdWUsIGV4Y2x1ZGVNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiB2aXNpdE5vZGUgKG5vZGUsIGV4Y2x1ZGVNYXApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuX2NvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmlzaXRDb21wb25lbnQobm9kZS5fY29tcG9uZW50c1tpXSwgZXhjbHVkZU1hcCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmlzaXROb2RlKG5vZGUuX2NoaWxkcmVuW2ldLCBleGNsdWRlTWFwKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIGRvIGF1dG8gcmVsZWFzZVxuICAgIGF1dG9SZWxlYXNlOiBmdW5jdGlvbiAob2xkU2NlbmVBc3NldHMsIG5leHRTY2VuZUFzc2V0cywgcGVyc2lzdE5vZGVzKSB7XG4gICAgICAgIHZhciByZWxlYXNlU2V0dGluZ3MgPSBjYy5sb2FkZXIuX2F1dG9SZWxlYXNlU2V0dGluZztcbiAgICAgICAgdmFyIGV4Y2x1ZGVNYXAgPSBqcy5jcmVhdGVNYXAoKTtcblxuICAgICAgICAvLyBjb2xsZWN0IG5leHQgc2NlbmUgYXNzZXRzXG4gICAgICAgIGlmIChuZXh0U2NlbmVBc3NldHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dFNjZW5lQXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXhjbHVkZU1hcFtuZXh0U2NlbmVBc3NldHNbaV1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbGxlY3QgYXNzZXRzIHVzZWQgYnkgcGVyc2lzdCBub2Rlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBlcnNpc3ROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmlzaXROb2RlKHBlcnNpc3ROb2Rlc1tpXSwgZXhjbHVkZU1hcClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB1bnVuc2VkIHNjZW5lIGFzc2V0c1xuICAgICAgICBpZiAob2xkU2NlbmVBc3NldHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkU2NlbmVBc3NldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gb2xkU2NlbmVBc3NldHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHJlbGVhc2VTZXR0aW5nc1trZXldICE9PSBmYWxzZSAmJiAhZXhjbHVkZU1hcFtrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNjLmxvYWRlci5yZWxlYXNlKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGF1dG8gcmVsZWFzZSBhc3NldHNcbiAgICAgICAgLy8gKHJlbGVhc2luZyBhc3NldCB3aWxsIGNoYW5nZSBfYXV0b1JlbGVhc2VTZXR0aW5nLCBzbyBkb24ndCB1c2UgZm9yLWluKVxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGVhc2VTZXR0aW5ncyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBpZiAocmVsZWFzZVNldHRpbmdzW2tleV0gPT09IHRydWUgJiYgIWV4Y2x1ZGVNYXBba2V5XSkge1xuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5yZWxlYXNlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gZ2V0IGRlcGVuZGVuY2llcyBub3QgaW5jbHVkaW5nIHNlbGZcbiAgICBnZXREZXBlbmRzUmVjdXJzaXZlbHk6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIGRlcGVuZHMgPSB7fTtcbiAgICAgICAgcGFyc2VEZXBlbmRzKGtleSwgZGVwZW5kcyk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhkZXBlbmRzKTtcbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gQ29weXJpZ2h0IChjKSAyMDE2IENodWtvbmcgVGVjaG5vbG9naWVzIEluYy5cbiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cblxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcbiAgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXG4gIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcbiAgdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxuICBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cblxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBqcyA9IHJlcXVpcmUoJy4uL3BsYXRmb3JtL2pzJyk7XG5cbmZ1bmN0aW9uIHBhcnNlRGVwZW5kcyhrZXksIHBhcnNlZCkge1xuICAgIHZhciBpdGVtID0gY2MubG9hZGVyLmdldEl0ZW0oa2V5KTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgICB2YXIgZGVwZW5kcyA9IGl0ZW0uZGVwZW5kS2V5cztcbiAgICAgICAgaWYgKGRlcGVuZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXBlbmQgPSBkZXBlbmRzW2ldO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkW2RlcGVuZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkW2RlcGVuZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwYXJzZURlcGVuZHMoZGVwZW5kLCBwYXJzZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gdmlzaXRBc3NldChhc3NldCwgZXhjbHVkZU1hcCkge1xuICAgIC8vIFNraXAgYXNzZXRzIGdlbmVyYXRlZCBwcm9ncmFtbWF0aWNhbGx5IG9yIGJ5IHVzZXIgKGUuZy4gbGFiZWwgdGV4dHVyZSlcbiAgICBpZiAoIWFzc2V0Ll91dWlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGtleSA9IGNjLmxvYWRlci5fZ2V0UmVmZXJlbmNlS2V5KGFzc2V0KTtcbiAgICBpZiAoIWV4Y2x1ZGVNYXBba2V5XSkge1xuICAgICAgICBleGNsdWRlTWFwW2tleV0gPSB0cnVlO1xuICAgICAgICBwYXJzZURlcGVuZHMoa2V5LCBleGNsdWRlTWFwKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHZpc2l0Q29tcG9uZW50KGNvbXAsIGV4Y2x1ZGVNYXApIHtcbiAgICB2YXIgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjb21wKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGNvbXBbcHJvcHNbaV1dO1xuICAgICAgICBpZiAoKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsdWUpKSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IHZhbHVlW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgY2MuUmF3QXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0QXNzZXQodmFsLCBleGNsdWRlTWFwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlLmNvbnN0cnVjdG9yIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwga2V5cy5sZW5ndGg7IF9qKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF92YWwgPSB2YWx1ZVtrZXlzW19qXV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdmFsIGluc3RhbmNlb2YgY2MuUmF3QXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0QXNzZXQoX3ZhbCwgZXhjbHVkZU1hcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgY2MuUmF3QXNzZXQpIHtcbiAgICAgICAgICAgICAgICB2aXNpdEFzc2V0KHZhbHVlLCBleGNsdWRlTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gdmlzaXROb2RlKG5vZGUsIGV4Y2x1ZGVNYXApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuX2NvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmlzaXRDb21wb25lbnQobm9kZS5fY29tcG9uZW50c1tpXSwgZXhjbHVkZU1hcCk7XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBub2RlLl9jaGlsZHJlbi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmlzaXROb2RlKG5vZGUuX2NoaWxkcmVuW19pXSwgZXhjbHVkZU1hcCk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAvLyBkbyBhdXRvIHJlbGVhc2VcbiAgICBhdXRvUmVsZWFzZTogZnVuY3Rpb24gYXV0b1JlbGVhc2Uob2xkU2NlbmVBc3NldHMsIG5leHRTY2VuZUFzc2V0cywgcGVyc2lzdE5vZGVzKSB7XG4gICAgICAgIHZhciByZWxlYXNlU2V0dGluZ3MgPSBjYy5sb2FkZXIuX2F1dG9SZWxlYXNlU2V0dGluZztcbiAgICAgICAgdmFyIGV4Y2x1ZGVNYXAgPSBqcy5jcmVhdGVNYXAoKTtcblxuICAgICAgICAvLyBjb2xsZWN0IG5leHQgc2NlbmUgYXNzZXRzXG4gICAgICAgIGlmIChuZXh0U2NlbmVBc3NldHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV4dFNjZW5lQXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXhjbHVkZU1hcFtuZXh0U2NlbmVBc3NldHNbaV1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbGxlY3QgYXNzZXRzIHVzZWQgYnkgcGVyc2lzdCBub2Rlc1xuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwZXJzaXN0Tm9kZXMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgdmlzaXROb2RlKHBlcnNpc3ROb2Rlc1tfaTJdLCBleGNsdWRlTWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB1bnVuc2VkIHNjZW5lIGFzc2V0c1xuICAgICAgICBpZiAob2xkU2NlbmVBc3NldHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IG9sZFNjZW5lQXNzZXRzLmxlbmd0aDsgX2kzKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb2xkU2NlbmVBc3NldHNbX2kzXTtcbiAgICAgICAgICAgICAgICBpZiAocmVsZWFzZVNldHRpbmdzW2tleV0gIT09IGZhbHNlICYmICFleGNsdWRlTWFwW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2MubG9hZGVyLnJlbGVhc2Uoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYXV0byByZWxlYXNlIGFzc2V0c1xuICAgICAgICAvLyAocmVsZWFzaW5nIGFzc2V0IHdpbGwgY2hhbmdlIF9hdXRvUmVsZWFzZVNldHRpbmcsIHNvIGRvbid0IHVzZSBmb3ItaW4pXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsZWFzZVNldHRpbmdzKTtcbiAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwga2V5cy5sZW5ndGg7IF9pNCsrKSB7XG4gICAgICAgICAgICB2YXIgX2tleSA9IGtleXNbX2k0XTtcbiAgICAgICAgICAgIGlmIChyZWxlYXNlU2V0dGluZ3NbX2tleV0gPT09IHRydWUgJiYgIWV4Y2x1ZGVNYXBbX2tleV0pIHtcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIucmVsZWFzZShfa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBnZXQgZGVwZW5kZW5jaWVzIG5vdCBpbmNsdWRpbmcgc2VsZlxuICAgIGdldERlcGVuZHNSZWN1cnNpdmVseTogZnVuY3Rpb24gZ2V0RGVwZW5kc1JlY3Vyc2l2ZWx5KGtleSkge1xuICAgICAgICB2YXIgZGVwZW5kcyA9IHt9O1xuICAgICAgICBwYXJzZURlcGVuZHMoa2V5LCBkZXBlbmRzKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGRlcGVuZHMpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbUYxZEc4dGNtVnNaV0Z6WlMxMWRHbHNjeTVxY3lKZExDSnVZVzFsY3lJNld5SnFjeUlzSW5KbGNYVnBjbVVpTENKd1lYSnpaVVJsY0dWdVpITWlMQ0pyWlhraUxDSndZWEp6WldRaUxDSnBkR1Z0SWl3aVkyTWlMQ0pzYjJGa1pYSWlMQ0puWlhSSmRHVnRJaXdpWkdWd1pXNWtjeUlzSW1SbGNHVnVaRXRsZVhNaUxDSnBJaXdpYkdWdVozUm9JaXdpWkdWd1pXNWtJaXdpZG1semFYUkJjM05sZENJc0ltRnpjMlYwSWl3aVpYaGpiSFZrWlUxaGNDSXNJbDkxZFdsa0lpd2lYMmRsZEZKbFptVnlaVzVqWlV0bGVTSXNJblpwYzJsMFEyOXRjRzl1Wlc1MElpd2lZMjl0Y0NJc0luQnliM0J6SWl3aVQySnFaV04wSWl3aVoyVjBUM2R1VUhKdmNHVnlkSGxPWVcxbGN5SXNJblpoYkhWbElpd2lRWEp5WVhraUxDSnBjMEZ5Y21GNUlpd2lhaUlzSW5aaGJDSXNJbEpoZDBGemMyVjBJaXdpWTI5dWMzUnlkV04wYjNJaUxDSnJaWGx6SWl3aWRtbHphWFJPYjJSbElpd2libTlrWlNJc0lsOWpiMjF3YjI1bGJuUnpJaXdpWDJOb2FXeGtjbVZ1SWl3aWJXOWtkV3hsSWl3aVpYaHdiM0owY3lJc0ltRjFkRzlTWld4bFlYTmxJaXdpYjJ4a1UyTmxibVZCYzNObGRITWlMQ0p1WlhoMFUyTmxibVZCYzNObGRITWlMQ0p3WlhKemFYTjBUbTlrWlhNaUxDSnlaV3hsWVhObFUyVjBkR2x1WjNNaUxDSmZZWFYwYjFKbGJHVmhjMlZUWlhSMGFXNW5JaXdpWTNKbFlYUmxUV0Z3SWl3aWNtVnNaV0Z6WlNJc0ltZGxkRVJsY0dWdVpITlNaV04xY25OcGRtVnNlU0pkTENKdFlYQndhVzVuY3lJNklqczdPenRCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3p0QlFUQkNRU3hKUVVGSlFTeExRVUZMUXl4UlFVRlJMR2RDUVVGU0xFTkJRVlE3TzBGQlJVRXNVMEZCVTBNc1dVRkJWQ3hEUVVGMVFrTXNSMEZCZGtJc1JVRkJORUpETEUxQlFUVkNMRVZCUVc5RE8wRkJRMmhETEZGQlFVbERMRTlCUVU5RExFZEJRVWRETEUxQlFVZ3NRMEZCVlVNc1QwRkJWaXhEUVVGclFrd3NSMEZCYkVJc1EwRkJXRHRCUVVOQkxGRkJRVWxGTEVsQlFVb3NSVUZCVlR0QlFVTk9MRmxCUVVsSkxGVkJRVlZLTEV0QlFVdExMRlZCUVc1Q08wRkJRMEVzV1VGQlNVUXNUMEZCU2l4RlFVRmhPMEZCUTFRc2FVSkJRVXNzU1VGQlNVVXNTVUZCU1N4RFFVRmlMRVZCUVdkQ1FTeEpRVUZKUml4UlFVRlJSeXhOUVVFMVFpeEZRVUZ2UTBRc1IwRkJjRU1zUlVGQmVVTTdRVUZEY2tNc2IwSkJRVWxGTEZOQlFWTktMRkZCUVZGRkxFTkJRVklzUTBGQllqdEJRVU5CTEc5Q1FVRkxMRU5CUVVOUUxFOUJRVTlUTEUxQlFWQXNRMEZCVGl4RlFVRjFRanRCUVVOdVFsUXNNa0pCUVU5VExFMUJRVkFzU1VGQmFVSXNTVUZCYWtJN1FVRkRRVmdzYVVOQlFXRlhMRTFCUVdJc1JVRkJjVUpVTEUxQlFYSkNPMEZCUTBnN1FVRkRTanRCUVVOS08wRkJRMG83UVVGRFNqczdRVUZGUkN4VFFVRlRWU3hWUVVGVUxFTkJRWEZDUXl4TFFVRnlRaXhGUVVFMFFrTXNWVUZCTlVJc1JVRkJkME03UVVGRGNFTTdRVUZEUVN4UlFVRkpMRU5CUVVORUxFMUJRVTFGTEV0QlFWZ3NSVUZCYTBJN1FVRkRaRHRCUVVOSU8wRkJRMFFzVVVGQlNXUXNUVUZCVFVjc1IwRkJSME1zVFVGQlNDeERRVUZWVnl4blFrRkJWaXhEUVVFeVFrZ3NTMEZCTTBJc1EwRkJWanRCUVVOQkxGRkJRVXNzUTBGQlEwTXNWMEZCVjJJc1IwRkJXQ3hEUVVGT0xFVkJRWGRDTzBGQlEzQkNZU3h0UWtGQlYySXNSMEZCV0N4SlFVRnJRaXhKUVVGc1FqdEJRVU5CUkN4eFFrRkJZVU1zUjBGQllpeEZRVUZyUW1Fc1ZVRkJiRUk3UVVGRFNEdEJRVU5LT3p0QlFVVkVMRk5CUVZOSExHTkJRVlFzUTBGQmVVSkRMRWxCUVhwQ0xFVkJRU3RDU2l4VlFVRXZRaXhGUVVFeVF6dEJRVU4yUXl4UlFVRkpTeXhSUVVGUlF5eFBRVUZQUXl4dFFrRkJVQ3hEUVVFeVFrZ3NTVUZCTTBJc1EwRkJXanRCUVVOQkxGTkJRVXNzU1VGQlNWUXNTVUZCU1N4RFFVRmlMRVZCUVdkQ1FTeEpRVUZKVlN4TlFVRk5WQ3hOUVVFeFFpeEZRVUZyUTBRc1IwRkJiRU1zUlVGQmRVTTdRVUZEYmtNc1dVRkJTV0VzVVVGQlVVb3NTMEZCUzBNc1RVRkJUVllzUTBGQlRpeERRVUZNTEVOQlFWbzdRVUZEUVN4WlFVRkpMRkZCUVU5aExFdEJRVkFzZVVOQlFVOUJMRXRCUVZBc1QwRkJhVUlzVVVGQmFrSXNTVUZCTmtKQkxFdEJRV3BETEVWQlFYZERPMEZCUTNCRExHZENRVUZKUXl4TlFVRk5ReXhQUVVGT0xFTkJRV05HTEV0QlFXUXNRMEZCU2l4RlFVRXdRanRCUVVOMFFpeHhRa0ZCU3l4SlFVRkpSeXhKUVVGSkxFTkJRV0lzUlVGQlowSkJMRWxCUVVsSUxFMUJRVTFhTEUxQlFURkNMRVZCUVd0RFpTeEhRVUZzUXl4RlFVRjFRenRCUVVOdVF5eDNRa0ZCU1VNc1RVRkJUVW9zVFVGQlRVY3NRMEZCVGl4RFFVRldPMEZCUTBFc2QwSkJRVWxETEdWQlFXVjBRaXhIUVVGSGRVSXNVVUZCZEVJc1JVRkJaME03UVVGRE5VSm1MRzFEUVVGWFl5eEhRVUZZTEVWQlFXZENXaXhWUVVGb1FqdEJRVU5JTzBGQlEwbzdRVUZEU2l4aFFWQkVMRTFCVVVzc1NVRkJTU3hEUVVGRFVTeE5RVUZOVFN4WFFVRlFMRWxCUVhOQ1RpeE5RVUZOVFN4WFFVRk9MRXRCUVhOQ1VpeE5RVUZvUkN4RlFVRjNSRHRCUVVONlJDeHZRa0ZCU1ZNc1QwRkJUMVFzVDBGQlQwTXNiVUpCUVZBc1EwRkJNa0pETEV0QlFUTkNMRU5CUVZnN1FVRkRRU3h4UWtGQlN5eEpRVUZKUnl4TFFVRkpMRU5CUVdJc1JVRkJaMEpCTEV0QlFVbEpMRXRCUVV0dVFpeE5RVUY2UWl4RlFVRnBRMlVzU1VGQmFrTXNSVUZCYzBNN1FVRkRiRU1zZDBKQlFVbERMRTlCUVUxS0xFMUJRVTFQTEV0QlFVdEtMRVZCUVV3c1EwRkJUaXhEUVVGV08wRkJRMEVzZDBKQlFVbERMR2RDUVVGbGRFSXNSMEZCUjNWQ0xGRkJRWFJDTEVWQlFXZERPMEZCUXpWQ1ppeHRRMEZCVjJNc1NVRkJXQ3hGUVVGblFsb3NWVUZCYUVJN1FVRkRTRHRCUVVOS08wRkJRMG9zWVVGU1NTeE5RVk5CTEVsQlFVbFJMR2xDUVVGcFFteENMRWRCUVVkMVFpeFJRVUY0UWl4RlFVRnJRenRCUVVOdVEyWXNNa0pCUVZkVkxFdEJRVmdzUlVGQmEwSlNMRlZCUVd4Q08wRkJRMGc3UVVGRFNqdEJRVU5LTzBGQlEwbzdPMEZCUlVRc1UwRkJVMmRDTEZOQlFWUXNRMEZCYjBKRExFbEJRWEJDTEVWQlFUQkNha0lzVlVGQk1VSXNSVUZCYzBNN1FVRkRiRU1zVTBGQlN5eEpRVUZKVEN4SlFVRkpMRU5CUVdJc1JVRkJaMEpCTEVsQlFVbHpRaXhMUVVGTFF5eFhRVUZNTEVOQlFXbENkRUlzVFVGQmNrTXNSVUZCTmtORUxFZEJRVGRETEVWQlFXdEVPMEZCUXpsRFVTeDFRa0ZCWldNc1MwRkJTME1zVjBGQlRDeERRVUZwUW5aQ0xFTkJRV3BDTEVOQlFXWXNSVUZCYjBOTExGVkJRWEJETzBGQlEwZzdRVUZEUkN4VFFVRkxMRWxCUVVsTUxFdEJRVWtzUTBGQllpeEZRVUZuUWtFc1MwRkJTWE5DTEV0QlFVdEZMRk5CUVV3c1EwRkJaWFpDTEUxQlFXNURMRVZCUVRKRFJDeEpRVUV6UXl4RlFVRm5SRHRCUVVNMVEzRkNMR3RDUVVGVlF5eExRVUZMUlN4VFFVRk1MRU5CUVdWNFFpeEZRVUZtTEVOQlFWWXNSVUZCTmtKTExGVkJRVGRDTzBGQlEwZzdRVUZEU2pzN1FVRkZSRzlDTEU5QlFVOURMRTlCUVZBc1IwRkJhVUk3UVVGRFlqdEJRVU5CUXl4cFFrRkJZU3h4UWtGQlZVTXNZMEZCVml4RlFVRXdRa01zWlVGQk1VSXNSVUZCTWtORExGbEJRVE5ETEVWQlFYbEVPMEZCUTJ4RkxGbEJRVWxETEd0Q1FVRnJRbkJETEVkQlFVZERMRTFCUVVnc1EwRkJWVzlETEcxQ1FVRm9RenRCUVVOQkxGbEJRVWt6UWl4aFFVRmhhRUlzUjBGQlJ6UkRMRk5CUVVnc1JVRkJha0k3TzBGQlJVRTdRVUZEUVN4WlFVRkpTaXhsUVVGS0xFVkJRWEZDTzBGQlEycENMR2xDUVVGTExFbEJRVWszUWl4SlFVRkpMRU5CUVdJc1JVRkJaMEpCTEVsQlFVazJRaXhuUWtGQlowSTFRaXhOUVVGd1F5eEZRVUUwUTBRc1IwRkJOVU1zUlVGQmFVUTdRVUZETjBOTExESkNRVUZYZDBJc1owSkJRV2RDTjBJc1EwRkJhRUlzUTBGQldDeEpRVUZwUXl4SlFVRnFRenRCUVVOSU8wRkJRMG83TzBGQlJVUTdRVUZEUVN4aFFVRkxMRWxCUVVsQkxFMUJRVWtzUTBGQllpeEZRVUZuUWtFc1RVRkJTVGhDTEdGQlFXRTNRaXhOUVVGcVF5eEZRVUY1UTBRc1MwRkJla01zUlVGQk9FTTdRVUZETVVOeFFpeHpRa0ZCVlZNc1lVRkJZVGxDTEVkQlFXSXNRMEZCVml4RlFVRXlRa3NzVlVGQk0wSTdRVUZEU0RzN1FVRkZSRHRCUVVOQkxGbEJRVWwxUWl4alFVRktMRVZCUVc5Q08wRkJRMmhDTEdsQ1FVRkxMRWxCUVVrMVFpeE5RVUZKTEVOQlFXSXNSVUZCWjBKQkxFMUJRVWswUWl4bFFVRmxNMElzVFVGQmJrTXNSVUZCTWtORUxFdEJRVE5ETEVWQlFXZEVPMEZCUXpWRExHOUNRVUZKVWl4TlFVRk5iME1zWlVGQlpUVkNMRWRCUVdZc1EwRkJWanRCUVVOQkxHOUNRVUZKSzBJc1owSkJRV2RDZGtNc1IwRkJhRUlzVFVGQmVVSXNTMEZCZWtJc1NVRkJhME1zUTBGQlEyRXNWMEZCVjJJc1IwRkJXQ3hEUVVGMlF5eEZRVUYzUkR0QlFVTndSRWNzZFVKQlFVZERMRTFCUVVnc1EwRkJWWE5ETEU5QlFWWXNRMEZCYTBJeFF5eEhRVUZzUWp0QlFVTklPMEZCUTBvN1FVRkRTanM3UVVGRlJEdEJRVU5CTzBGQlEwRXNXVUZCU1RSQ0xFOUJRVTlVTEU5QlFVOVRMRWxCUVZBc1EwRkJXVmNzWlVGQldpeERRVUZZTzBGQlEwRXNZVUZCU3l4SlFVRkpMMElzVFVGQlNTeERRVUZpTEVWQlFXZENRU3hOUVVGSmIwSXNTMEZCUzI1Q0xFMUJRWHBDTEVWQlFXbERSQ3hMUVVGcVF5eEZRVUZ6UXp0QlFVTnNReXhuUWtGQlNWSXNUMEZCVFRSQ0xFdEJRVXR3UWl4SFFVRk1MRU5CUVZZN1FVRkRRU3huUWtGQlNTdENMR2RDUVVGblFuWkRMRWxCUVdoQ0xFMUJRWGxDTEVsQlFYcENMRWxCUVdsRExFTkJRVU5oTEZkQlFWZGlMRWxCUVZnc1EwRkJkRU1zUlVGQmRVUTdRVUZEYmtSSExHMUNRVUZIUXl4TlFVRklMRU5CUVZWelF5eFBRVUZXTEVOQlFXdENNVU1zU1VGQmJFSTdRVUZEU0R0QlFVTktPMEZCUTBvc1MwRnlRMWs3TzBGQmRVTmlPMEZCUTBFeVF5d3lRa0ZCZFVJc0swSkJRVlV6UXl4SFFVRldMRVZCUVdVN1FVRkRiRU1zV1VGQlNVMHNWVUZCVlN4RlFVRmtPMEZCUTBGUUxIRkNRVUZoUXl4SFFVRmlMRVZCUVd0Q1RTeFBRVUZzUWp0QlFVTkJMR1ZCUVU5aExFOUJRVTlUTEVsQlFWQXNRMEZCV1hSQ0xFOUJRVm9zUTBGQlVEdEJRVU5JTzBGQk5VTlpMRU5CUVdwQ0lpd2labWxzWlNJNkltRjFkRzh0Y21Wc1pXRnpaUzExZEdsc2N5NXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWk4cUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FYRzRnUTI5d2VYSnBaMmgwSUNoaktTQXlNREUySUVOb2RXdHZibWNnVkdWamFHNXZiRzluYVdWeklFbHVZeTVjYmlCRGIzQjVjbWxuYUhRZ0tHTXBJREl3TVRjdE1qQXhPQ0JZYVdGdFpXNGdXV0ZxYVNCVGIyWjBkMkZ5WlNCRGJ5NHNJRXgwWkM1Y2JseHVJR2gwZEhCek9pOHZkM2QzTG1OdlkyOXpMbU52YlM5Y2JseHVJRkJsY20xcGMzTnBiMjRnYVhNZ2FHVnlaV0o1SUdkeVlXNTBaV1FzSUdaeVpXVWdiMllnWTJoaGNtZGxMQ0IwYnlCaGJua2djR1Z5YzI5dUlHOWlkR0ZwYm1sdVp5QmhJR052Y0hsY2JpQnZaaUIwYUdseklITnZablIzWVhKbElHRnVaQ0JoYzNOdlkybGhkR1ZrSUdWdVoybHVaU0J6YjNWeVkyVWdZMjlrWlNBb2RHaGxJRndpVTI5bWRIZGhjbVZjSWlrc0lHRWdiR2x0YVhSbFpDeGNiaUFnZDI5eWJHUjNhV1JsTENCeWIzbGhiSFI1TFdaeVpXVXNJRzV2YmkxaGMzTnBaMjVoWW14bExDQnlaWFp2WTJGaWJHVWdZVzVrSUc1dmJpMWxlR05zZFhOcGRtVWdiR2xqWlc1elpWeHVJSFJ2SUhWelpTQkRiMk52Y3lCRGNtVmhkRzl5SUhOdmJHVnNlU0IwYnlCa1pYWmxiRzl3SUdkaGJXVnpJRzl1SUhsdmRYSWdkR0Z5WjJWMElIQnNZWFJtYjNKdGN5NGdXVzkxSUhOb1lXeHNYRzRnSUc1dmRDQjFjMlVnUTI5amIzTWdRM0psWVhSdmNpQnpiMlowZDJGeVpTQm1iM0lnWkdWMlpXeHZjR2x1WnlCdmRHaGxjaUJ6YjJaMGQyRnlaU0J2Y2lCMGIyOXNjeUIwYUdGMEozTmNiaUFnZFhObFpDQm1iM0lnWkdWMlpXeHZjR2x1WnlCbllXMWxjeTRnV1c5MUlHRnlaU0J1YjNRZ1ozSmhiblJsWkNCMGJ5QndkV0pzYVhOb0xDQmthWE4wY21saWRYUmxMRnh1SUNCemRXSnNhV05sYm5ObExDQmhibVF2YjNJZ2MyVnNiQ0JqYjNCcFpYTWdiMllnUTI5amIzTWdRM0psWVhSdmNpNWNibHh1SUZSb1pTQnpiMlowZDJGeVpTQnZjaUIwYjI5c2N5QnBiaUIwYUdseklFeHBZMlZ1YzJVZ1FXZHlaV1Z0Wlc1MElHRnlaU0JzYVdObGJuTmxaQ3dnYm05MElITnZiR1F1WEc0Z1dHbGhiV1Z1SUZsaGFta2dVMjltZEhkaGNtVWdRMjh1TENCTWRHUXVJSEpsYzJWeWRtVnpJR0ZzYkNCeWFXZG9kSE1nYm05MElHVjRjSEpsYzNOc2VTQm5jbUZ1ZEdWa0lIUnZJSGx2ZFM1Y2JseHVJRlJJUlNCVFQwWlVWMEZTUlNCSlV5QlFVazlXU1VSRlJDQmNJa0ZUSUVsVFhDSXNJRmRKVkVoUFZWUWdWMEZTVWtGT1ZGa2dUMFlnUVU1WklFdEpUa1FzSUVWWVVGSkZVMU1nVDFKY2JpQkpUVkJNU1VWRUxDQkpUa05NVlVSSlRrY2dRbFZVSUU1UFZDQk1TVTFKVkVWRUlGUlBJRlJJUlNCWFFWSlNRVTVVU1VWVElFOUdJRTFGVWtOSVFVNVVRVUpKVEVsVVdTeGNiaUJHU1ZST1JWTlRJRVpQVWlCQklGQkJVbFJKUTFWTVFWSWdVRlZTVUU5VFJTQkJUa1FnVGs5T1NVNUdVa2xPUjBWTlJVNVVMaUJKVGlCT1R5QkZWa1ZPVkNCVFNFRk1UQ0JVU0VWY2JpQkJWVlJJVDFKVElFOVNJRU5QVUZsU1NVZElWQ0JJVDB4RVJWSlRJRUpGSUV4SlFVSk1SU0JHVDFJZ1FVNVpJRU5NUVVsTkxDQkVRVTFCUjBWVElFOVNJRTlVU0VWU1hHNGdURWxCUWtsTVNWUlpMQ0JYU0VWVVNFVlNJRWxPSUVGT0lFRkRWRWxQVGlCUFJpQkRUMDVVVWtGRFZDd2dWRTlTVkNCUFVpQlBWRWhGVWxkSlUwVXNJRUZTU1ZOSlRrY2dSbEpQVFN4Y2JpQlBWVlFnVDBZZ1QxSWdTVTRnUTA5T1RrVkRWRWxQVGlCWFNWUklJRlJJUlNCVFQwWlVWMEZTUlNCUFVpQlVTRVVnVlZORklFOVNJRTlVU0VWU0lFUkZRVXhKVGtkVElFbE9YRzRnVkVoRklGTlBSbFJYUVZKRkxseHVJQ29xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvdlhHNWNiblpoY2lCcWN5QTlJSEpsY1hWcGNtVW9KeTR1TDNCc1lYUm1iM0p0TDJwekp5azdYRzVjYm1aMWJtTjBhVzl1SUhCaGNuTmxSR1Z3Wlc1a2N5QW9hMlY1TENCd1lYSnpaV1FwSUh0Y2JpQWdJQ0IyWVhJZ2FYUmxiU0E5SUdOakxteHZZV1JsY2k1blpYUkpkR1Z0S0d0bGVTazdYRzRnSUNBZ2FXWWdLR2wwWlcwcElIdGNiaUFnSUNBZ0lDQWdkbUZ5SUdSbGNHVnVaSE1nUFNCcGRHVnRMbVJsY0dWdVpFdGxlWE03WEc0Z0lDQWdJQ0FnSUdsbUlDaGtaWEJsYm1SektTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCbWIzSWdLSFpoY2lCcElEMGdNRHNnYVNBOElHUmxjR1Z1WkhNdWJHVnVaM1JvT3lCcEt5c3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ1pHVndaVzVrSUQwZ1pHVndaVzVrYzF0cFhUdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnBaaUFvSUNGd1lYSnpaV1JiWkdWd1pXNWtYU0FwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjR0Z5YzJWa1cyUmxjR1Z1WkYwZ1BTQjBjblZsTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQndZWEp6WlVSbGNHVnVaSE1vWkdWd1pXNWtMQ0J3WVhKelpXUXBPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lIMWNibjFjYmx4dVpuVnVZM1JwYjI0Z2RtbHphWFJCYzNObGRDQW9ZWE56WlhRc0lHVjRZMngxWkdWTllYQXBJSHRjYmlBZ0lDQXZMeUJUYTJsd0lHRnpjMlYwY3lCblpXNWxjbUYwWldRZ2NISnZaM0poYlcxaGRHbGpZV3hzZVNCdmNpQmllU0IxYzJWeUlDaGxMbWN1SUd4aFltVnNJSFJsZUhSMWNtVXBYRzRnSUNBZ2FXWWdLQ0ZoYzNObGRDNWZkWFZwWkNrZ2UxeHVJQ0FnSUNBZ0lDQnlaWFIxY200N1hHNGdJQ0FnZlZ4dUlDQWdJSFpoY2lCclpYa2dQU0JqWXk1c2IyRmtaWEl1WDJkbGRGSmxabVZ5Wlc1alpVdGxlU2hoYzNObGRDazdYRzRnSUNBZ2FXWWdLQ0FoWlhoamJIVmtaVTFoY0Z0clpYbGRJQ2tnZTF4dUlDQWdJQ0FnSUNCbGVHTnNkV1JsVFdGd1cydGxlVjBnUFNCMGNuVmxPMXh1SUNBZ0lDQWdJQ0J3WVhKelpVUmxjR1Z1WkhNb2EyVjVMQ0JsZUdOc2RXUmxUV0Z3S1R0Y2JpQWdJQ0I5WEc1OVhHNWNibVoxYm1OMGFXOXVJSFpwYzJsMFEyOXRjRzl1Wlc1MElDaGpiMjF3TENCbGVHTnNkV1JsVFdGd0tTQjdYRzRnSUNBZ2RtRnlJSEJ5YjNCeklEMGdUMkpxWldOMExtZGxkRTkzYmxCeWIzQmxjblI1VG1GdFpYTW9ZMjl0Y0NrN1hHNGdJQ0FnWm05eUlDaDJZWElnYVNBOUlEQTdJR2tnUENCd2NtOXdjeTVzWlc1bmRHZzdJR2tyS3lrZ2UxeHVJQ0FnSUNBZ0lDQjJZWElnZG1Gc2RXVWdQU0JqYjIxd1czQnliM0J6VzJsZFhUdGNiaUFnSUNBZ0lDQWdhV1lnS0hSNWNHVnZaaUIyWVd4MVpTQTlQVDBnSjI5aWFtVmpkQ2NnSmlZZ2RtRnNkV1VwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoQmNuSmhlUzVwYzBGeWNtRjVLSFpoYkhWbEtTa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR1p2Y2lBb2JHVjBJR29nUFNBd095QnFJRHdnZG1Gc2RXVXViR1Z1WjNSb095QnFLeXNwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiR1YwSUhaaGJDQTlJSFpoYkhWbFcycGRPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCcFppQW9kbUZzSUdsdWMzUmhibU5sYjJZZ1kyTXVVbUYzUVhOelpYUXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFpwYzJsMFFYTnpaWFFvZG1Gc0xDQmxlR05zZFdSbFRXRndLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQWdJR1ZzYzJVZ2FXWWdLQ0YyWVd4MVpTNWpiMjV6ZEhKMVkzUnZjaUI4ZkNCMllXeDFaUzVqYjI1emRISjFZM1J2Y2lBOVBUMGdUMkpxWldOMEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiR1YwSUd0bGVYTWdQU0JQWW1wbFkzUXVaMlYwVDNkdVVISnZjR1Z5ZEhsT1lXMWxjeWgyWVd4MVpTazdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdabTl5SUNoc1pYUWdhaUE5SURBN0lHb2dQQ0JyWlhsekxteGxibWQwYURzZ2Fpc3JLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHeGxkQ0IyWVd3Z1BTQjJZV3gxWlZ0clpYbHpXMnBkWFR0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdhV1lnS0haaGJDQnBibk4wWVc1alpXOW1JR05qTGxKaGQwRnpjMlYwS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMmFYTnBkRUZ6YzJWMEtIWmhiQ3dnWlhoamJIVmtaVTFoY0NrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJQ0FnSUNCbGJITmxJR2xtSUNoMllXeDFaU0JwYm5OMFlXNWpaVzltSUdOakxsSmhkMEZ6YzJWMEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkbWx6YVhSQmMzTmxkQ2gyWVd4MVpTd2daWGhqYkhWa1pVMWhjQ2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQjlYRzU5WEc1Y2JtWjFibU4wYVc5dUlIWnBjMmwwVG05a1pTQW9ibTlrWlN3Z1pYaGpiSFZrWlUxaGNDa2dlMXh1SUNBZ0lHWnZjaUFvYkdWMElHa2dQU0F3T3lCcElEd2dibTlrWlM1ZlkyOXRjRzl1Wlc1MGN5NXNaVzVuZEdnN0lHa3JLeWtnZTF4dUlDQWdJQ0FnSUNCMmFYTnBkRU52YlhCdmJtVnVkQ2h1YjJSbExsOWpiMjF3YjI1bGJuUnpXMmxkTENCbGVHTnNkV1JsVFdGd0tUdGNiaUFnSUNCOVhHNGdJQ0FnWm05eUlDaHNaWFFnYVNBOUlEQTdJR2tnUENCdWIyUmxMbDlqYUdsc1pISmxiaTVzWlc1bmRHZzdJR2tyS3lrZ2UxeHVJQ0FnSUNBZ0lDQjJhWE5wZEU1dlpHVW9ibTlrWlM1ZlkyaHBiR1J5Wlc1YmFWMHNJR1Y0WTJ4MVpHVk5ZWEFwTzF4dUlDQWdJSDFjYm4xY2JseHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQjdYRzRnSUNBZ0x5OGdaRzhnWVhWMGJ5QnlaV3hsWVhObFhHNGdJQ0FnWVhWMGIxSmxiR1ZoYzJVNklHWjFibU4wYVc5dUlDaHZiR1JUWTJWdVpVRnpjMlYwY3l3Z2JtVjRkRk5qWlc1bFFYTnpaWFJ6TENCd1pYSnphWE4wVG05a1pYTXBJSHRjYmlBZ0lDQWdJQ0FnZG1GeUlISmxiR1ZoYzJWVFpYUjBhVzVuY3lBOUlHTmpMbXh2WVdSbGNpNWZZWFYwYjFKbGJHVmhjMlZUWlhSMGFXNW5PMXh1SUNBZ0lDQWdJQ0IyWVhJZ1pYaGpiSFZrWlUxaGNDQTlJR3B6TG1OeVpXRjBaVTFoY0NncE8xeHVYRzRnSUNBZ0lDQWdJQzh2SUdOdmJHeGxZM1FnYm1WNGRDQnpZMlZ1WlNCaGMzTmxkSE5jYmlBZ0lDQWdJQ0FnYVdZZ0tHNWxlSFJUWTJWdVpVRnpjMlYwY3lrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWm05eUlDaHNaWFFnYVNBOUlEQTdJR2tnUENCdVpYaDBVMk5sYm1WQmMzTmxkSE11YkdWdVozUm9PeUJwS3lzcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmxlR05zZFdSbFRXRndXMjVsZUhSVFkyVnVaVUZ6YzJWMGMxdHBYVjBnUFNCMGNuVmxPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnTHk4Z1kyOXNiR1ZqZENCaGMzTmxkSE1nZFhObFpDQmllU0J3WlhKemFYTjBJRzV2WkdWelhHNGdJQ0FnSUNBZ0lHWnZjaUFvYkdWMElHa2dQU0F3T3lCcElEd2djR1Z5YzJsemRFNXZaR1Z6TG14bGJtZDBhRHNnYVNzcktTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCMmFYTnBkRTV2WkdVb2NHVnljMmx6ZEU1dlpHVnpXMmxkTENCbGVHTnNkV1JsVFdGd0tWeHVJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnTHk4Z2NtVnRiM1psSUhWdWRXNXpaV1FnYzJObGJtVWdZWE56WlhSelhHNGdJQ0FnSUNBZ0lHbG1JQ2h2YkdSVFkyVnVaVUZ6YzJWMGN5a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ1ptOXlJQ2hzWlhRZ2FTQTlJREE3SUdrZ1BDQnZiR1JUWTJWdVpVRnpjMlYwY3k1c1pXNW5kR2c3SUdrckt5a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR3hsZENCclpYa2dQU0J2YkdSVFkyVnVaVUZ6YzJWMGMxdHBYVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JwWmlBb2NtVnNaV0Z6WlZObGRIUnBibWR6VzJ0bGVWMGdJVDA5SUdaaGJITmxJQ1ltSUNGbGVHTnNkV1JsVFdGd1cydGxlVjBwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZMk11Ykc5aFpHVnlMbkpsYkdWaGMyVW9hMlY1S1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQXZMeUJ5WlcxdmRtVWdZWFYwYnlCeVpXeGxZWE5sSUdGemMyVjBjMXh1SUNBZ0lDQWdJQ0F2THlBb2NtVnNaV0Z6YVc1bklHRnpjMlYwSUhkcGJHd2dZMmhoYm1kbElGOWhkWFJ2VW1Wc1pXRnpaVk5sZEhScGJtY3NJSE52SUdSdmJpZDBJSFZ6WlNCbWIzSXRhVzRwWEc0Z0lDQWdJQ0FnSUhaaGNpQnJaWGx6SUQwZ1QySnFaV04wTG10bGVYTW9jbVZzWldGelpWTmxkSFJwYm1kektUdGNiaUFnSUNBZ0lDQWdabTl5SUNoc1pYUWdhU0E5SURBN0lHa2dQQ0JyWlhsekxteGxibWQwYURzZ2FTc3JLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnNaWFFnYTJWNUlEMGdhMlY1YzF0cFhUdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaHlaV3hsWVhObFUyVjBkR2x1WjNOYmEyVjVYU0E5UFQwZ2RISjFaU0FtSmlBaFpYaGpiSFZrWlUxaGNGdHJaWGxkS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1kyTXViRzloWkdWeUxuSmxiR1ZoYzJVb2EyVjVLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lIMHNYRzVjYmlBZ0lDQXZMeUJuWlhRZ1pHVndaVzVrWlc1amFXVnpJRzV2ZENCcGJtTnNkV1JwYm1jZ2MyVnNabHh1SUNBZ0lHZGxkRVJsY0dWdVpITlNaV04xY25OcGRtVnNlVG9nWm5WdVkzUnBiMjRnS0d0bGVTa2dlMXh1SUNBZ0lDQWdJQ0IyWVhJZ1pHVndaVzVrY3lBOUlIdDlPMXh1SUNBZ0lDQWdJQ0J3WVhKelpVUmxjR1Z1WkhNb2EyVjVMQ0JrWlhCbGJtUnpLVHRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJRTlpYW1WamRDNXJaWGx6S0dSbGNHVnVaSE1wTzF4dUlDQWdJSDFjYm4wN1hHNGlYWDA9Il19