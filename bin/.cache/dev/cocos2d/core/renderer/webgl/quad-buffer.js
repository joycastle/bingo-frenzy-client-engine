(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/renderer/webgl/quad-buffer.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        var MeshBuffer = require('./mesh-buffer');
        var QuadBuffer = cc.Class({
            name: 'cc.QuadBuffer',
            extends: MeshBuffer,
            _fillQuadBuffer: function _fillQuadBuffer() {
                var count = this._initIDataCount / 6;
                var buffer = this._iData;
                for (var i = 0, idx = 0; i < count; i++) {
                    var vertextID = i * 4;
                    buffer[idx++] = vertextID;
                    buffer[idx++] = vertextID + 1;
                    buffer[idx++] = vertextID + 2;
                    buffer[idx++] = vertextID + 1;
                    buffer[idx++] = vertextID + 3;
                    buffer[idx++] = vertextID + 2;
                }
                var indicesData = new Uint16Array(this._iData.buffer, 0, count * 6);
                this._ib.update(0, indicesData);
            },
            uploadData: function uploadData() {
                if (this.byteOffset === 0 || !this._dirty) {
                    return;
                }
                var vertexsData = new Float32Array(this._vData.buffer, 0, this.byteOffset >> 2);
                this._vb.update(0, vertexsData);
                this._dirty = false;
            },
            switchBuffer: function switchBuffer() {
                this._super();
                var indicesData = new Uint16Array(this._iData.buffer, 0, this._initIDataCount);
                this._ib.update(0, indicesData);
            },
            _reallocBuffer: function _reallocBuffer() {
                this._reallocVData(true);
                this._reallocIData();
                this._fillQuadBuffer();
            }
        });
        cc.QuadBuffer = module.exports = QuadBuffer;
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1YWQtYnVmZmVyLmpzIiwiL1VzZXJzL2dhb3lhbmcvV29ya1NwYWNlL2pveWNhc3RsZS9iaW5nby9jbGllbnQvYmluZ28vZW5naW5lL2NvY29zMmQvY29yZS9yZW5kZXJlci93ZWJnbC9xdWFkLWJ1ZmZlci5qcyJdLCJuYW1lcyI6WyJNZXNoQnVmZmVyIiwicmVxdWlyZSIsIlF1YWRCdWZmZXIiLCJjYyIsIkNsYXNzIiwibmFtZSIsImV4dGVuZHMiLCJfZmlsbFF1YWRCdWZmZXIiLCJjb3VudCIsIl9pbml0SURhdGFDb3VudCIsImJ1ZmZlciIsIl9pRGF0YSIsImkiLCJpZHgiLCJ2ZXJ0ZXh0SUQiLCJpbmRpY2VzRGF0YSIsIlVpbnQxNkFycmF5IiwiX2liIiwidXBkYXRlIiwidXBsb2FkRGF0YSIsImJ5dGVPZmZzZXQiLCJfZGlydHkiLCJ2ZXJ0ZXhzRGF0YSIsIkZsb2F0MzJBcnJheSIsIl92RGF0YSIsIl92YiIsInN3aXRjaEJ1ZmZlciIsIl9zdXBlciIsIl9yZWFsbG9jQnVmZmVyIiwiX3JlYWxsb2NWRGF0YSIsIl9yZWFsbG9jSURhdGEiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiO0lBQUEsSUFBQSxPQUFBLEdBQUEsT0FBQSxPQUFBLEtBQUEsV0FBQSxJQUFBLE9BQUEsT0FBQSxLQUFBLFdBQUE7Ozs7Ozs7Ozs7Ozs7UUF5QkEsSUFBTUEsVUFBQUEsR0FBYUMsT0FBQUEsQ0FBUSxlQUFSQSxDQUFuQjtRQUVBLElBQUlDLFVBQUFBLEdBQWFDLEVBQUFBLENBQUdDLEtBQUhELENBQVM7QUFBQSxZQUN0QkUsSUFBQUEsRUFBTSxlQURnQjtBQUFBLFlBRXRCQyxPQUFBQSxFQUFTTixVQUZhO0FBQUEsWUFJdEJPLGVBQUFBLEVBSnNCLFNBQUEsZUFBQSxHQUlIO0FBQUEsZ0JBQ2YsSUFBSUMsS0FBQUEsR0FBUSxLQUFLQyxlQUFMLEdBQXVCLENBQW5DLENBRGU7QUFBQSxnQkFFZixJQUFJQyxNQUFBQSxHQUFTLEtBQUtDLE1BQWxCLENBRmU7QUFBQSxnQkFHZixLQUFLLElBQUlDLENBQUFBLEdBQUksQ0FBUixFQUFXQyxHQUFBQSxHQUFNLENBQWpCLENBQUwsQ0FBeUJELENBQUFBLEdBQUlKLEtBQTdCLEVBQW9DSSxDQUFBQSxFQUFwQyxFQUF5QztBQUFBLG9CQUNyQyxJQUFJRSxTQUFBQSxHQUFZRixDQUFBQSxHQUFJLENBQXBCLENBRHFDO0FBQUEsb0JBRXJDRixNQUFBQSxDQUFPRyxHQUFBQSxFQUFQSCxJQUFnQkksU0FBaEJKLENBRnFDO0FBQUEsb0JBR3JDQSxNQUFBQSxDQUFPRyxHQUFBQSxFQUFQSCxJQUFnQkksU0FBQUEsR0FBVSxDQUExQkosQ0FIcUM7QUFBQSxvQkFJckNBLE1BQUFBLENBQU9HLEdBQUFBLEVBQVBILElBQWdCSSxTQUFBQSxHQUFVLENBQTFCSixDQUpxQztBQUFBLG9CQUtyQ0EsTUFBQUEsQ0FBT0csR0FBQUEsRUFBUEgsSUFBZ0JJLFNBQUFBLEdBQVUsQ0FBMUJKLENBTHFDO0FBQUEsb0JBTXJDQSxNQUFBQSxDQUFPRyxHQUFBQSxFQUFQSCxJQUFnQkksU0FBQUEsR0FBVSxDQUExQkosQ0FOcUM7QUFBQSxvQkFPckNBLE1BQUFBLENBQU9HLEdBQUFBLEVBQVBILElBQWdCSSxTQUFBQSxHQUFVLENBQTFCSixDQVBxQztBQUFBLGlCQUgxQjtBQUFBLGdCQWFmLElBQUlLLFdBQUFBLEdBQWMsSUFBSUMsV0FBSixDQUFnQixLQUFLTCxNQUFMLENBQVlELE1BQTVCLEVBQW9DLENBQXBDLEVBQXVDRixLQUFBQSxHQUFRLENBQS9DLENBQWxCLENBYmU7QUFBQSxnQkFjZixLQUFLUyxHQUFMLENBQVNDLE1BQVQsQ0FBZ0IsQ0FBaEIsRUFBbUJILFdBQW5CLEVBZGU7QUFBQSxhQUpHO0FBQUEsWUFxQnRCSSxVQUFBQSxFQXJCc0IsU0FBQSxVQUFBLEdBcUJSO0FBQUEsZ0JBQ1YsSUFBSSxLQUFLQyxVQUFMLEtBQW9CLENBQXBCLElBQXlCLENBQUMsS0FBS0MsTUFBbkMsRUFBMkM7QUFBQSxvQkFDdkMsT0FEdUM7QUFBQSxpQkFEakM7QUFBQSxnQkFNVixJQUFJQyxXQUFBQSxHQUFjLElBQUlDLFlBQUosQ0FBaUIsS0FBS0MsTUFBTCxDQUFZZCxNQUE3QixFQUFxQyxDQUFyQyxFQUF3QyxLQUFLVSxVQUFMLElBQW1CLENBQTNELENBQWxCLENBTlU7QUFBQSxnQkFPVixLQUFLSyxHQUFMLENBQVNQLE1BQVQsQ0FBZ0IsQ0FBaEIsRUFBbUJJLFdBQW5CLEVBUFU7QUFBQSxnQkFTVixLQUFLRCxNQUFMLEdBQWMsS0FBZCxDQVRVO0FBQUEsYUFyQlE7QUFBQSxZQWlDdEJLLFlBQUFBLEVBakNzQixTQUFBLFlBQUEsR0FpQ047QUFBQSxnQkFDWixLQUFLQyxNQUFMLEdBRFk7QUFBQSxnQkFHWixJQUFJWixXQUFBQSxHQUFjLElBQUlDLFdBQUosQ0FBZ0IsS0FBS0wsTUFBTCxDQUFZRCxNQUE1QixFQUFvQyxDQUFwQyxFQUF1QyxLQUFLRCxlQUE1QyxDQUFsQixDQUhZO0FBQUEsZ0JBSVosS0FBS1EsR0FBTCxDQUFTQyxNQUFULENBQWdCLENBQWhCLEVBQW1CSCxXQUFuQixFQUpZO0FBQUEsYUFqQ007QUFBQSxZQXdDdEJhLGNBQUFBLEVBeENzQixTQUFBLGNBQUEsR0F3Q0o7QUFBQSxnQkFDZCxLQUFLQyxhQUFMLENBQW1CLElBQW5CLEVBRGM7QUFBQSxnQkFFZCxLQUFLQyxhQUFMLEdBRmM7QUFBQSxnQkFHZCxLQUFLdkIsZUFBTCxHQUhjO0FBQUEsYUF4Q0k7QUFBQSxTQUFUSixDQUFqQjtRQStDQUEsRUFBQUEsQ0FBR0QsVUFBSEMsR0FBZ0I0QixNQUFBQSxDQUFPQyxPQUFQRCxHQUFpQjdCLFVBQWpDQyIsImZpbGUiOiJxdWFkLWJ1ZmZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXG4gbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xuIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cblxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IE1lc2hCdWZmZXIgPSByZXF1aXJlKCcuL21lc2gtYnVmZmVyJyk7XG5cbmxldCBRdWFkQnVmZmVyID0gY2MuQ2xhc3Moe1xuICAgIG5hbWU6ICdjYy5RdWFkQnVmZmVyJyxcbiAgICBleHRlbmRzOiBNZXNoQnVmZmVyLFxuICAgIFxuICAgIF9maWxsUXVhZEJ1ZmZlciAoKSB7XG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMuX2luaXRJRGF0YUNvdW50IC8gNjtcbiAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuX2lEYXRhO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWR4ID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ZXJ0ZXh0SUQgPSBpICogNDtcbiAgICAgICAgICAgIGJ1ZmZlcltpZHgrK10gPSB2ZXJ0ZXh0SUQ7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEKzE7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEKzI7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEKzE7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEKzM7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEKzI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kaWNlc0RhdGEgPSBuZXcgVWludDE2QXJyYXkodGhpcy5faURhdGEuYnVmZmVyLCAwLCBjb3VudCAqIDYpO1xuICAgICAgICB0aGlzLl9pYi51cGRhdGUoMCwgaW5kaWNlc0RhdGEpO1xuICAgIH0sXG5cbiAgICB1cGxvYWREYXRhICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYnl0ZU9mZnNldCA9PT0gMCB8fCAhdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSB2ZXJ0ZXh0IGRhdGFcbiAgICAgICAgbGV0IHZlcnRleHNEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLl92RGF0YS5idWZmZXIsIDAsIHRoaXMuYnl0ZU9mZnNldCA+PiAyKTtcbiAgICAgICAgdGhpcy5fdmIudXBkYXRlKDAsIHZlcnRleHNEYXRhKTtcblxuICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBzd2l0Y2hCdWZmZXIgKCkge1xuICAgICAgICB0aGlzLl9zdXBlcigpO1xuICAgICAgICAvLyB1cGxvYWQgaW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgbGV0IGluZGljZXNEYXRhID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuX2lEYXRhLmJ1ZmZlciwgMCwgdGhpcy5faW5pdElEYXRhQ291bnQpO1xuICAgICAgICB0aGlzLl9pYi51cGRhdGUoMCwgaW5kaWNlc0RhdGEpO1xuICAgIH0sXG5cbiAgICBfcmVhbGxvY0J1ZmZlciAoKSB7XG4gICAgICAgIHRoaXMuX3JlYWxsb2NWRGF0YSh0cnVlKTtcbiAgICAgICAgdGhpcy5fcmVhbGxvY0lEYXRhKCk7XG4gICAgICAgIHRoaXMuX2ZpbGxRdWFkQnVmZmVyKCk7XG4gICAgfVxufSk7XG5cbmNjLlF1YWRCdWZmZXIgPSBtb2R1bGUuZXhwb3J0cyA9IFF1YWRCdWZmZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXG4gbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xuIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cblxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBNZXNoQnVmZmVyID0gcmVxdWlyZSgnLi9tZXNoLWJ1ZmZlcicpO1xuXG52YXIgUXVhZEJ1ZmZlciA9IGNjLkNsYXNzKHtcbiAgICBuYW1lOiAnY2MuUXVhZEJ1ZmZlcicsXG4gICAgZXh0ZW5kczogTWVzaEJ1ZmZlcixcblxuICAgIF9maWxsUXVhZEJ1ZmZlcjogZnVuY3Rpb24gX2ZpbGxRdWFkQnVmZmVyKCkge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLl9pbml0SURhdGFDb3VudCAvIDY7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9pRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlkeCA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmVydGV4dElEID0gaSAqIDQ7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEO1xuICAgICAgICAgICAgYnVmZmVyW2lkeCsrXSA9IHZlcnRleHRJRCArIDE7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEICsgMjtcbiAgICAgICAgICAgIGJ1ZmZlcltpZHgrK10gPSB2ZXJ0ZXh0SUQgKyAxO1xuICAgICAgICAgICAgYnVmZmVyW2lkeCsrXSA9IHZlcnRleHRJRCArIDM7XG4gICAgICAgICAgICBidWZmZXJbaWR4KytdID0gdmVydGV4dElEICsgMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRpY2VzRGF0YSA9IG5ldyBVaW50MTZBcnJheSh0aGlzLl9pRGF0YS5idWZmZXIsIDAsIGNvdW50ICogNik7XG4gICAgICAgIHRoaXMuX2liLnVwZGF0ZSgwLCBpbmRpY2VzRGF0YSk7XG4gICAgfSxcbiAgICB1cGxvYWREYXRhOiBmdW5jdGlvbiB1cGxvYWREYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5ieXRlT2Zmc2V0ID09PSAwIHx8ICF0aGlzLl9kaXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHZlcnRleHQgZGF0YVxuICAgICAgICB2YXIgdmVydGV4c0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZEYXRhLmJ1ZmZlciwgMCwgdGhpcy5ieXRlT2Zmc2V0ID4+IDIpO1xuICAgICAgICB0aGlzLl92Yi51cGRhdGUoMCwgdmVydGV4c0RhdGEpO1xuXG4gICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgfSxcbiAgICBzd2l0Y2hCdWZmZXI6IGZ1bmN0aW9uIHN3aXRjaEJ1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcbiAgICAgICAgLy8gdXBsb2FkIGluZGV4IGJ1ZmZlciBkYXRhXG4gICAgICAgIHZhciBpbmRpY2VzRGF0YSA9IG5ldyBVaW50MTZBcnJheSh0aGlzLl9pRGF0YS5idWZmZXIsIDAsIHRoaXMuX2luaXRJRGF0YUNvdW50KTtcbiAgICAgICAgdGhpcy5faWIudXBkYXRlKDAsIGluZGljZXNEYXRhKTtcbiAgICB9LFxuICAgIF9yZWFsbG9jQnVmZmVyOiBmdW5jdGlvbiBfcmVhbGxvY0J1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5fcmVhbGxvY1ZEYXRhKHRydWUpO1xuICAgICAgICB0aGlzLl9yZWFsbG9jSURhdGEoKTtcbiAgICAgICAgdGhpcy5fZmlsbFF1YWRCdWZmZXIoKTtcbiAgICB9XG59KTtcblxuY2MuUXVhZEJ1ZmZlciA9IG1vZHVsZS5leHBvcnRzID0gUXVhZEJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkluRjFZV1F0WW5WbVptVnlMbXB6SWwwc0ltNWhiV1Z6SWpwYklrMWxjMmhDZFdabVpYSWlMQ0p5WlhGMWFYSmxJaXdpVVhWaFpFSjFabVpsY2lJc0ltTmpJaXdpUTJ4aGMzTWlMQ0p1WVcxbElpd2laWGgwWlc1a2N5SXNJbDltYVd4c1VYVmhaRUoxWm1abGNpSXNJbU52ZFc1MElpd2lYMmx1YVhSSlJHRjBZVU52ZFc1MElpd2lZblZtWm1WeUlpd2lYMmxFWVhSaElpd2lhU0lzSW1sa2VDSXNJblpsY25SbGVIUkpSQ0lzSW1sdVpHbGpaWE5FWVhSaElpd2lWV2x1ZERFMlFYSnlZWGtpTENKZmFXSWlMQ0oxY0dSaGRHVWlMQ0oxY0d4dllXUkVZWFJoSWl3aVlubDBaVTltWm5ObGRDSXNJbDlrYVhKMGVTSXNJblpsY25SbGVITkVZWFJoSWl3aVJteHZZWFF6TWtGeWNtRjVJaXdpWDNaRVlYUmhJaXdpWDNaaUlpd2ljM2RwZEdOb1FuVm1abVZ5SWl3aVgzTjFjR1Z5SWl3aVgzSmxZV3hzYjJOQ2RXWm1aWElpTENKZmNtVmhiR3h2WTFaRVlYUmhJaXdpWDNKbFlXeHNiMk5KUkdGMFlTSXNJbTF2WkhWc1pTSXNJbVY0Y0c5eWRITWlYU3dpYldGd2NHbHVaM01pT2lJN08wRkJRVUU3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdRVUY1UWtFc1NVRkJUVUVzWVVGQllVTXNVVUZCVVN4bFFVRlNMRU5CUVc1Q096dEJRVVZCTEVsQlFVbERMR0ZCUVdGRExFZEJRVWRETEV0QlFVZ3NRMEZCVXp0QlFVTjBRa01zVlVGQlRTeGxRVVJuUWp0QlFVVjBRa01zWVVGQlUwNHNWVUZHWVRzN1FVRkpkRUpQTEcxQ1FVcHpRaXcyUWtGSlNEdEJRVU5tTEZsQlFVbERMRkZCUVZFc1MwRkJTME1zWlVGQlRDeEhRVUYxUWl4RFFVRnVRenRCUVVOQkxGbEJRVWxETEZOQlFWTXNTMEZCUzBNc1RVRkJiRUk3UVVGRFFTeGhRVUZMTEVsQlFVbERMRWxCUVVrc1EwRkJVaXhGUVVGWFF5eE5RVUZOTEVOQlFYUkNMRVZCUVhsQ1JDeEpRVUZKU2l4TFFVRTNRaXhGUVVGdlEwa3NSMEZCY0VNc1JVRkJlVU03UVVGRGNrTXNaMEpCUVVsRkxGbEJRVmxHTEVsQlFVa3NRMEZCY0VJN1FVRkRRVVlzYlVKQlFVOUhMRXRCUVZBc1NVRkJaMEpETEZOQlFXaENPMEZCUTBGS0xHMUNRVUZQUnl4TFFVRlFMRWxCUVdkQ1F5eFpRVUZWTEVOQlFURkNPMEZCUTBGS0xHMUNRVUZQUnl4TFFVRlFMRWxCUVdkQ1F5eFpRVUZWTEVOQlFURkNPMEZCUTBGS0xHMUNRVUZQUnl4TFFVRlFMRWxCUVdkQ1F5eFpRVUZWTEVOQlFURkNPMEZCUTBGS0xHMUNRVUZQUnl4TFFVRlFMRWxCUVdkQ1F5eFpRVUZWTEVOQlFURkNPMEZCUTBGS0xHMUNRVUZQUnl4TFFVRlFMRWxCUVdkQ1F5eFpRVUZWTEVOQlFURkNPMEZCUTBnN08wRkJSVVFzV1VGQlNVTXNZMEZCWXl4SlFVRkpReXhYUVVGS0xFTkJRV2RDTEV0QlFVdE1MRTFCUVV3c1EwRkJXVVFzVFVGQk5VSXNSVUZCYjBNc1EwRkJjRU1zUlVGQmRVTkdMRkZCUVZFc1EwRkJMME1zUTBGQmJFSTdRVUZEUVN4aFFVRkxVeXhIUVVGTUxFTkJRVk5ETEUxQlFWUXNRMEZCWjBJc1EwRkJhRUlzUlVGQmJVSklMRmRCUVc1Q08wRkJRMGdzUzBGdVFuRkNPMEZCY1VKMFFra3NZMEZ5UW5OQ0xIZENRWEZDVWp0QlFVTldMRmxCUVVrc1MwRkJTME1zVlVGQlRDeExRVUZ2UWl4RFFVRndRaXhKUVVGNVFpeERRVUZETEV0QlFVdERMRTFCUVc1RExFVkJRVEpETzBGQlEzWkRPMEZCUTBnN08wRkJSVVE3UVVGRFFTeFpRVUZKUXl4alFVRmpMRWxCUVVsRExGbEJRVW9zUTBGQmFVSXNTMEZCUzBNc1RVRkJUQ3hEUVVGWlpDeE5RVUUzUWl4RlFVRnhReXhEUVVGeVF5eEZRVUYzUXl4TFFVRkxWU3hWUVVGTUxFbEJRVzFDTEVOQlFUTkVMRU5CUVd4Q08wRkJRMEVzWVVGQlMwc3NSMEZCVEN4RFFVRlRVQ3hOUVVGVUxFTkJRV2RDTEVOQlFXaENMRVZCUVcxQ1NTeFhRVUZ1UWpzN1FVRkZRU3hoUVVGTFJDeE5RVUZNTEVkQlFXTXNTMEZCWkR0QlFVTklMRXRCTDBKeFFqdEJRV2xEZEVKTExHZENRV3BEYzBJc01FSkJhVU5PTzBGQlExb3NZVUZCUzBNc1RVRkJURHRCUVVOQk8wRkJRMEVzV1VGQlNWb3NZMEZCWXl4SlFVRkpReXhYUVVGS0xFTkJRV2RDTEV0QlFVdE1MRTFCUVV3c1EwRkJXVVFzVFVGQk5VSXNSVUZCYjBNc1EwRkJjRU1zUlVGQmRVTXNTMEZCUzBRc1pVRkJOVU1zUTBGQmJFSTdRVUZEUVN4aFFVRkxVU3hIUVVGTUxFTkJRVk5ETEUxQlFWUXNRMEZCWjBJc1EwRkJhRUlzUlVGQmJVSklMRmRCUVc1Q08wRkJRMGdzUzBGMFEzRkNPMEZCZDBOMFFtRXNhMEpCZUVOelFpdzBRa0YzUTBvN1FVRkRaQ3hoUVVGTFF5eGhRVUZNTEVOQlFXMUNMRWxCUVc1Q08wRkJRMEVzWVVGQlMwTXNZVUZCVER0QlFVTkJMR0ZCUVV0MlFpeGxRVUZNTzBGQlEwZzdRVUUxUTNGQ0xFTkJRVlFzUTBGQmFrSTdPMEZCSzBOQlNpeEhRVUZIUkN4VlFVRklMRWRCUVdkQ05rSXNUMEZCVDBNc1QwRkJVQ3hIUVVGcFFqbENMRlZCUVdwRElpd2labWxzWlNJNkluRjFZV1F0WW5WbVptVnlMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5b3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaXBjYmlCRGIzQjVjbWxuYUhRZ0tHTXBJREl3TVRjdE1qQXhPQ0JZYVdGdFpXNGdXV0ZxYVNCVGIyWjBkMkZ5WlNCRGJ5NHNJRXgwWkM1Y2JseHVJR2gwZEhCek9pOHZkM2QzTG1OdlkyOXpMbU52YlM5Y2JseHVJRkJsY20xcGMzTnBiMjRnYVhNZ2FHVnlaV0o1SUdkeVlXNTBaV1FzSUdaeVpXVWdiMllnWTJoaGNtZGxMQ0IwYnlCaGJua2djR1Z5YzI5dUlHOWlkR0ZwYm1sdVp5QmhJR052Y0hsY2JpQnZaaUIwYUdseklITnZablIzWVhKbElHRnVaQ0JoYzNOdlkybGhkR1ZrSUdWdVoybHVaU0J6YjNWeVkyVWdZMjlrWlNBb2RHaGxJRndpVTI5bWRIZGhjbVZjSWlrc0lHRWdiR2x0YVhSbFpDeGNiaUIzYjNKc1pIZHBaR1VzSUhKdmVXRnNkSGt0Wm5KbFpTd2dibTl1TFdGemMybG5ibUZpYkdVc0lISmxkbTlqWVdKc1pTQmhibVFnYm05dUxXVjRZMngxYzJsMlpTQnNhV05sYm5ObFhHNGdkRzhnZFhObElFTnZZMjl6SUVOeVpXRjBiM0lnYzI5c1pXeDVJSFJ2SUdSbGRtVnNiM0FnWjJGdFpYTWdiMjRnZVc5MWNpQjBZWEpuWlhRZ2NHeGhkR1p2Y20xekxpQlpiM1VnYzJoaGJHeGNiaUJ1YjNRZ2RYTmxJRU52WTI5eklFTnlaV0YwYjNJZ2MyOW1kSGRoY21VZ1ptOXlJR1JsZG1Wc2IzQnBibWNnYjNSb1pYSWdjMjltZEhkaGNtVWdiM0lnZEc5dmJITWdkR2hoZENkelhHNGdkWE5sWkNCbWIzSWdaR1YyWld4dmNHbHVaeUJuWVcxbGN5NGdXVzkxSUdGeVpTQnViM1FnWjNKaGJuUmxaQ0IwYnlCd2RXSnNhWE5vTENCa2FYTjBjbWxpZFhSbExGeHVJSE4xWW14cFkyVnVjMlVzSUdGdVpDOXZjaUJ6Wld4c0lHTnZjR2xsY3lCdlppQkRiMk52Y3lCRGNtVmhkRzl5TGx4dVhHNGdWR2hsSUhOdlpuUjNZWEpsSUc5eUlIUnZiMnh6SUdsdUlIUm9hWE1nVEdsalpXNXpaU0JCWjNKbFpXMWxiblFnWVhKbElHeHBZMlZ1YzJWa0xDQnViM1FnYzI5c1pDNWNiaUJZYVdGdFpXNGdXV0ZxYVNCVGIyWjBkMkZ5WlNCRGJ5NHNJRXgwWkM0Z2NtVnpaWEoyWlhNZ1lXeHNJSEpwWjJoMGN5QnViM1FnWlhod2NtVnpjMng1SUdkeVlXNTBaV1FnZEc4Z2VXOTFMbHh1WEc0Z1ZFaEZJRk5QUmxSWFFWSkZJRWxUSUZCU1QxWkpSRVZFSUZ3aVFWTWdTVk5jSWl3Z1YwbFVTRTlWVkNCWFFWSlNRVTVVV1NCUFJpQkJUbGtnUzBsT1JDd2dSVmhRVWtWVFV5QlBVbHh1SUVsTlVFeEpSVVFzSUVsT1EweFZSRWxPUnlCQ1ZWUWdUazlVSUV4SlRVbFVSVVFnVkU4Z1ZFaEZJRmRCVWxKQlRsUkpSVk1nVDBZZ1RVVlNRMGhCVGxSQlFrbE1TVlJaTEZ4dUlFWkpWRTVGVTFNZ1JrOVNJRUVnVUVGU1ZFbERWVXhCVWlCUVZWSlFUMU5GSUVGT1JDQk9UMDVKVGtaU1NVNUhSVTFGVGxRdUlFbE9JRTVQSUVWV1JVNVVJRk5JUVV4TUlGUklSVnh1SUVGVlZFaFBVbE1nVDFJZ1EwOVFXVkpKUjBoVUlFaFBURVJGVWxNZ1FrVWdURWxCUWt4RklFWlBVaUJCVGxrZ1EweEJTVTBzSUVSQlRVRkhSVk1nVDFJZ1QxUklSVkpjYmlCTVNVRkNTVXhKVkZrc0lGZElSVlJJUlZJZ1NVNGdRVTRnUVVOVVNVOU9JRTlHSUVOUFRsUlNRVU5VTENCVVQxSlVJRTlTSUU5VVNFVlNWMGxUUlN3Z1FWSkpVMGxPUnlCR1VrOU5MRnh1SUU5VlZDQlBSaUJQVWlCSlRpQkRUMDVPUlVOVVNVOU9JRmRKVkVnZ1ZFaEZJRk5QUmxSWFFWSkZJRTlTSUZSSVJTQlZVMFVnVDFJZ1QxUklSVklnUkVWQlRFbE9SMU1nU1U1Y2JpQlVTRVVnVTA5R1ZGZEJVa1V1WEc0Z0tpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaTljYmx4dVkyOXVjM1FnVFdWemFFSjFabVpsY2lBOUlISmxjWFZwY21Vb0p5NHZiV1Z6YUMxaWRXWm1aWEluS1R0Y2JseHViR1YwSUZGMVlXUkNkV1ptWlhJZ1BTQmpZeTVEYkdGemN5aDdYRzRnSUNBZ2JtRnRaVG9nSjJOakxsRjFZV1JDZFdabVpYSW5MRnh1SUNBZ0lHVjRkR1Z1WkhNNklFMWxjMmhDZFdabVpYSXNYRzRnSUNBZ1hHNGdJQ0FnWDJacGJHeFJkV0ZrUW5WbVptVnlJQ2dwSUh0Y2JpQWdJQ0FnSUNBZ2JHVjBJR052ZFc1MElEMGdkR2hwY3k1ZmFXNXBkRWxFWVhSaFEyOTFiblFnTHlBMk8xeHVJQ0FnSUNBZ0lDQnNaWFFnWW5WbVptVnlJRDBnZEdocGN5NWZhVVJoZEdFN1hHNGdJQ0FnSUNBZ0lHWnZjaUFvYkdWMElHa2dQU0F3TENCcFpIZ2dQU0F3T3lCcElEd2dZMjkxYm5RN0lHa3JLeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdiR1YwSUhabGNuUmxlSFJKUkNBOUlHa2dLaUEwTzF4dUlDQWdJQ0FnSUNBZ0lDQWdZblZtWm1WeVcybGtlQ3NyWFNBOUlIWmxjblJsZUhSSlJEdGNiaUFnSUNBZ0lDQWdJQ0FnSUdKMVptWmxjbHRwWkhncksxMGdQU0IyWlhKMFpYaDBTVVFyTVR0Y2JpQWdJQ0FnSUNBZ0lDQWdJR0oxWm1abGNsdHBaSGdySzEwZ1BTQjJaWEowWlhoMFNVUXJNanRjYmlBZ0lDQWdJQ0FnSUNBZ0lHSjFabVpsY2x0cFpIZ3JLMTBnUFNCMlpYSjBaWGgwU1VRck1UdGNiaUFnSUNBZ0lDQWdJQ0FnSUdKMVptWmxjbHRwWkhncksxMGdQU0IyWlhKMFpYaDBTVVFyTXp0Y2JpQWdJQ0FnSUNBZ0lDQWdJR0oxWm1abGNsdHBaSGdySzEwZ1BTQjJaWEowWlhoMFNVUXJNanRjYmlBZ0lDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNBZ0lHeGxkQ0JwYm1ScFkyVnpSR0YwWVNBOUlHNWxkeUJWYVc1ME1UWkJjbkpoZVNoMGFHbHpMbDlwUkdGMFlTNWlkV1ptWlhJc0lEQXNJR052ZFc1MElDb2dOaWs3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVYMmxpTG5Wd1pHRjBaU2d3TENCcGJtUnBZMlZ6UkdGMFlTazdYRzRnSUNBZ2ZTeGNibHh1SUNBZ0lIVndiRzloWkVSaGRHRWdLQ2tnZTF4dUlDQWdJQ0FnSUNCcFppQW9kR2hwY3k1aWVYUmxUMlptYzJWMElEMDlQU0F3SUh4OElDRjBhR2x6TGw5a2FYSjBlU2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdjbVYwZFhKdU8xeHVJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnTHk4Z2RYQmtZWFJsSUhabGNuUmxlSFFnWkdGMFlWeHVJQ0FnSUNBZ0lDQnNaWFFnZG1WeWRHVjRjMFJoZEdFZ1BTQnVaWGNnUm14dllYUXpNa0Z5Y21GNUtIUm9hWE11WDNaRVlYUmhMbUoxWm1abGNpd2dNQ3dnZEdocGN5NWllWFJsVDJabWMyVjBJRDQrSURJcE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TGw5MllpNTFjR1JoZEdVb01Dd2dkbVZ5ZEdWNGMwUmhkR0VwTzF4dVhHNGdJQ0FnSUNBZ0lIUm9hWE11WDJScGNuUjVJRDBnWm1Gc2MyVTdYRzRnSUNBZ2ZTeGNibHh1SUNBZ0lITjNhWFJqYUVKMVptWmxjaUFvS1NCN1hHNGdJQ0FnSUNBZ0lIUm9hWE11WDNOMWNHVnlLQ2s3WEc0Z0lDQWdJQ0FnSUM4dklIVndiRzloWkNCcGJtUmxlQ0JpZFdabVpYSWdaR0YwWVZ4dUlDQWdJQ0FnSUNCc1pYUWdhVzVrYVdObGMwUmhkR0VnUFNCdVpYY2dWV2x1ZERFMlFYSnlZWGtvZEdocGN5NWZhVVJoZEdFdVluVm1abVZ5TENBd0xDQjBhR2x6TGw5cGJtbDBTVVJoZEdGRGIzVnVkQ2s3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVYMmxpTG5Wd1pHRjBaU2d3TENCcGJtUnBZMlZ6UkdGMFlTazdYRzRnSUNBZ2ZTeGNibHh1SUNBZ0lGOXlaV0ZzYkc5alFuVm1abVZ5SUNncElIdGNiaUFnSUNBZ0lDQWdkR2hwY3k1ZmNtVmhiR3h2WTFaRVlYUmhLSFJ5ZFdVcE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TGw5eVpXRnNiRzlqU1VSaGRHRW9LVHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWZabWxzYkZGMVlXUkNkV1ptWlhJb0tUdGNiaUFnSUNCOVhHNTlLVHRjYmx4dVkyTXVVWFZoWkVKMVptWmxjaUE5SUcxdlpIVnNaUzVsZUhCdmNuUnpJRDBnVVhWaFpFSjFabVpsY2p0Y2JpSmRmUT09Il19