(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/utils/find.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        cc.find = module.exports = function (path, referenceNode) {
            if (path == null) {
                cc.errorID(5600);
                return null;
            }
            if (!referenceNode) {
                var scene = cc.director.getScene();
                if (!scene) {
                    if (CC_DEV) {
                        cc.warnID(5601);
                    }
                    return null;
                } else if (CC_DEV && !scene.isValid) {
                    cc.warnID(5602);
                    return null;
                }
                referenceNode = scene;
            } else if (CC_DEV && !referenceNode.isValid) {
                cc.warnID(5603);
                return null;
            }
            var match = referenceNode;
            var startIndex = path[0] !== '/' ? 0 : 1;
            var nameList = path.split('/');
            for (var n = startIndex; n < nameList.length; n++) {
                var name = nameList[n];
                var children = match._children;
                match = null;
                for (var t = 0, len = children.length; t < len; ++t) {
                    var subChild = children[t];
                    if (subChild.name === name) {
                        match = subChild;
                        break;
                    }
                }
                if (!match) {
                    return null;
                }
            }
            return match;
        };
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmQuanMiLCIvVXNlcnMvZ2FveWFuZy9Xb3JrU3BhY2Uvam95Y2FzdGxlL2JpbmdvL2NsaWVudC9iaW5nby9lbmdpbmUvY29jb3MyZC9jb3JlL3V0aWxzL2ZpbmQuanMiXSwibmFtZXMiOlsiY2MiLCJmaW5kIiwibW9kdWxlIiwiZXhwb3J0cyIsInBhdGgiLCJyZWZlcmVuY2VOb2RlIiwiZXJyb3JJRCIsInNjZW5lIiwiZGlyZWN0b3IiLCJnZXRTY2VuZSIsIkNDX0RFViIsIndhcm5JRCIsImlzVmFsaWQiLCJtYXRjaCIsInN0YXJ0SW5kZXgiLCJuYW1lTGlzdCIsInNwbGl0IiwibiIsImxlbmd0aCIsIm5hbWUiLCJjaGlsZHJlbiIsIl9jaGlsZHJlbiIsInQiLCJsZW4iLCJzdWJDaGlsZCJdLCJtYXBwaW5ncyI6IjtJQUFBLElBQUEsT0FBQSxHQUFBLE9BQUEsT0FBQSxLQUFBLFdBQUEsSUFBQSxPQUFBLE9BQUEsS0FBQSxXQUFBOzs7Ozs7Ozs7Ozs7O1FBc0NBQSxFQUFBQSxDQUFHQyxJQUFIRCxHQUFVRSxNQUFBQSxDQUFPQyxPQUFQRCxHQUFpQixVQUFVRSxJQUFWLEVBQWdCQyxhQUFoQixFQUErQjtBQUFBLFlBQ3RELElBQUlELElBQUFBLElBQVEsSUFBWixFQUFrQjtBQUFBLGdCQUNkSixFQUFBQSxDQUFHTSxPQUFITixDQUFXLElBQVhBLEVBRGM7QUFBQSxnQkFFZCxPQUFPLElBQVAsQ0FGYztBQUFBLGFBRG9DO0FBQUEsWUFLdEQsSUFBSSxDQUFDSyxhQUFMLEVBQW9CO0FBQUEsZ0JBQ2hCLElBQUlFLEtBQUFBLEdBQVFQLEVBQUFBLENBQUdRLFFBQUhSLENBQVlTLFFBQVpULEVBQVosQ0FEZ0I7QUFBQSxnQkFFaEIsSUFBSSxDQUFDTyxLQUFMLEVBQVk7QUFBQSxvQkFDUixJQUFJRyxNQUFKLEVBQVk7QUFBQSx3QkFDUlYsRUFBQUEsQ0FBR1csTUFBSFgsQ0FBVSxJQUFWQSxFQURRO0FBQUEscUJBREo7QUFBQSxvQkFJUixPQUFPLElBQVAsQ0FKUTtBQUFBLGlCQUFaLE1BTUssSUFBSVUsTUFBQUEsSUFBVSxDQUFDSCxLQUFBQSxDQUFNSyxPQUFyQixFQUE4QjtBQUFBLG9CQUMvQlosRUFBQUEsQ0FBR1csTUFBSFgsQ0FBVSxJQUFWQSxFQUQrQjtBQUFBLG9CQUUvQixPQUFPLElBQVAsQ0FGK0I7QUFBQSxpQkFSbkI7QUFBQSxnQkFZaEJLLGFBQUFBLEdBQWdCRSxLQUFoQkYsQ0FaZ0I7QUFBQSxhQUFwQixNQWNLLElBQUlLLE1BQUFBLElBQVUsQ0FBQ0wsYUFBQUEsQ0FBY08sT0FBN0IsRUFBc0M7QUFBQSxnQkFDdkNaLEVBQUFBLENBQUdXLE1BQUhYLENBQVUsSUFBVkEsRUFEdUM7QUFBQSxnQkFFdkMsT0FBTyxJQUFQLENBRnVDO0FBQUEsYUFuQlc7QUFBQSxZQXdCdEQsSUFBSWEsS0FBQUEsR0FBUVIsYUFBWixDQXhCc0Q7QUFBQSxZQXlCdEQsSUFBSVMsVUFBQUEsR0FBY1YsSUFBQUEsQ0FBSyxDQUFMQSxNQUFZLEdBQVpBLEdBQW1CLENBQW5CQSxHQUF1QixDQUF6QyxDQXpCc0Q7QUFBQSxZQTBCdEQsSUFBSVcsUUFBQUEsR0FBV1gsSUFBQUEsQ0FBS1ksS0FBTFosQ0FBVyxHQUFYQSxDQUFmLENBMUJzRDtBQUFBLFlBNkJ0RCxLQUFLLElBQUlhLENBQUFBLEdBQUlILFVBQVIsQ0FBTCxDQUF5QkcsQ0FBQUEsR0FBSUYsUUFBQUEsQ0FBU0csTUFBdEMsRUFBOENELENBQUFBLEVBQTlDLEVBQW1EO0FBQUEsZ0JBQy9DLElBQUlFLElBQUFBLEdBQU9KLFFBQUFBLENBQVNFLENBQVRGLENBQVgsQ0FEK0M7QUFBQSxnQkFFL0MsSUFBSUssUUFBQUEsR0FBV1AsS0FBQUEsQ0FBTVEsU0FBckIsQ0FGK0M7QUFBQSxnQkFHL0NSLEtBQUFBLEdBQVEsSUFBUkEsQ0FIK0M7QUFBQSxnQkFJL0MsS0FBSyxJQUFJUyxDQUFBQSxHQUFJLENBQVIsRUFBV0MsR0FBQUEsR0FBTUgsUUFBQUEsQ0FBU0YsTUFBMUIsQ0FBTCxDQUF1Q0ksQ0FBQUEsR0FBSUMsR0FBM0MsRUFBZ0QsRUFBRUQsQ0FBbEQsRUFBcUQ7QUFBQSxvQkFDakQsSUFBSUUsUUFBQUEsR0FBV0osUUFBQUEsQ0FBU0UsQ0FBVEYsQ0FBZixDQURpRDtBQUFBLG9CQUVqRCxJQUFJSSxRQUFBQSxDQUFTTCxJQUFUSyxLQUFrQkwsSUFBdEIsRUFBNEI7QUFBQSx3QkFDeEJOLEtBQUFBLEdBQVFXLFFBQVJYLENBRHdCO0FBQUEsd0JBRXhCLE1BRndCO0FBQUEscUJBRnFCO0FBQUEsaUJBSk47QUFBQSxnQkFXL0MsSUFBSSxDQUFDQSxLQUFMLEVBQVk7QUFBQSxvQkFDUixPQUFPLElBQVAsQ0FEUTtBQUFBLGlCQVhtQztBQUFBLGFBN0JHO0FBQUEsWUE2Q3RELE9BQU9BLEtBQVAsQ0E3Q3NEO0FBQUEsU0FBMURiIiwiZmlsZSI6ImZpbmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxMy0yMDE2IENodWtvbmcgVGVjaG5vbG9naWVzIEluYy5cbiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cblxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcbiAgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXG4gIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcbiAgdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxuICBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cblxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogRmluZHMgYSBub2RlIGJ5IGhpZXJhcmNoeSBwYXRoLCB0aGUgcGF0aCBpcyBjYXNlLXNlbnNpdGl2ZS5cbiAqIEl0IHdpbGwgdHJhdmVyc2UgdGhlIGhpZXJhcmNoeSBieSBzcGxpdHRpbmcgdGhlIHBhdGggdXNpbmcgJy8nIGNoYXJhY3Rlci5cbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBzdGlsbCByZXR1cm5zIHRoZSBub2RlIGV2ZW4gaWYgaXQgaXMgaW5hY3RpdmUuXG4gKiBJdCBpcyByZWNvbW1lbmRlZCB0byBub3QgdXNlIHRoaXMgZnVuY3Rpb24gZXZlcnkgZnJhbWUgaW5zdGVhZCBjYWNoZSB0aGUgcmVzdWx0IGF0IHN0YXJ0dXAuXG4gKlxuICogQG1ldGhvZCBmaW5kXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtOb2RlfSBbcmVmZXJlbmNlTm9kZV1cbiAqIEByZXR1cm4ge05vZGV8bnVsbH0gdGhlIG5vZGUgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuY2MuZmluZCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHBhdGgsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICBpZiAocGF0aCA9PSBudWxsKSB7XG4gICAgICAgIGNjLmVycm9ySUQoNTYwMCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIXJlZmVyZW5jZU5vZGUpIHtcbiAgICAgICAgdmFyIHNjZW5lID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKTtcbiAgICAgICAgaWYgKCFzY2VuZSkge1xuICAgICAgICAgICAgaWYgKENDX0RFVikge1xuICAgICAgICAgICAgICAgIGNjLndhcm5JRCg1NjAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKENDX0RFViAmJiAhc2NlbmUuaXNWYWxpZCkge1xuICAgICAgICAgICAgY2Mud2FybklEKDU2MDIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmVmZXJlbmNlTm9kZSA9IHNjZW5lO1xuICAgIH1cbiAgICBlbHNlIGlmIChDQ19ERVYgJiYgIXJlZmVyZW5jZU5vZGUuaXNWYWxpZCkge1xuICAgICAgICBjYy53YXJuSUQoNTYwMyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBtYXRjaCA9IHJlZmVyZW5jZU5vZGU7XG4gICAgdmFyIHN0YXJ0SW5kZXggPSAocGF0aFswXSAhPT0gJy8nKSA/IDAgOiAxOyAvLyBza2lwIGZpcnN0ICcvJ1xuICAgIHZhciBuYW1lTGlzdCA9IHBhdGguc3BsaXQoJy8nKTtcblxuICAgIC8vIHBhcnNlIHBhdGhcbiAgICBmb3IgKHZhciBuID0gc3RhcnRJbmRleDsgbiA8IG5hbWVMaXN0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciBuYW1lID0gbmFtZUxpc3Rbbl07XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG1hdGNoLl9jaGlsZHJlbjtcbiAgICAgICAgbWF0Y2ggPSBudWxsO1xuICAgICAgICBmb3IgKHZhciB0ID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyB0IDwgbGVuOyArK3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJDaGlsZCA9IGNoaWxkcmVuW3RdO1xuICAgICAgICAgICAgaWYgKHN1YkNoaWxkLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHN1YkNoaWxkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiAgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIEZpbmRzIGEgbm9kZSBieSBoaWVyYXJjaHkgcGF0aCwgdGhlIHBhdGggaXMgY2FzZS1zZW5zaXRpdmUuXG4gKiBJdCB3aWxsIHRyYXZlcnNlIHRoZSBoaWVyYXJjaHkgYnkgc3BsaXR0aW5nIHRoZSBwYXRoIHVzaW5nICcvJyBjaGFyYWN0ZXIuXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgc3RpbGwgcmV0dXJucyB0aGUgbm9kZSBldmVuIGlmIGl0IGlzIGluYWN0aXZlLlxuICogSXQgaXMgcmVjb21tZW5kZWQgdG8gbm90IHVzZSB0aGlzIGZ1bmN0aW9uIGV2ZXJ5IGZyYW1lIGluc3RlYWQgY2FjaGUgdGhlIHJlc3VsdCBhdCBzdGFydHVwLlxuICpcbiAqIEBtZXRob2QgZmluZFxuICogQHN0YXRpY1xuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEBwYXJhbSB7Tm9kZX0gW3JlZmVyZW5jZU5vZGVdXG4gKiBAcmV0dXJuIHtOb2RlfG51bGx9IHRoZSBub2RlIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gKi9cbmNjLmZpbmQgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChwYXRoLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICBjYy5lcnJvcklEKDU2MDApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFyZWZlcmVuY2VOb2RlKSB7XG4gICAgICAgIHZhciBzY2VuZSA9IGNjLmRpcmVjdG9yLmdldFNjZW5lKCk7XG4gICAgICAgIGlmICghc2NlbmUpIHtcbiAgICAgICAgICAgIGlmIChDQ19ERVYpIHtcbiAgICAgICAgICAgICAgICBjYy53YXJuSUQoNTYwMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChDQ19ERVYgJiYgIXNjZW5lLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIGNjLndhcm5JRCg1NjAyKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJlZmVyZW5jZU5vZGUgPSBzY2VuZTtcbiAgICB9IGVsc2UgaWYgKENDX0RFViAmJiAhcmVmZXJlbmNlTm9kZS5pc1ZhbGlkKSB7XG4gICAgICAgIGNjLndhcm5JRCg1NjAzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoID0gcmVmZXJlbmNlTm9kZTtcbiAgICB2YXIgc3RhcnRJbmRleCA9IHBhdGhbMF0gIT09ICcvJyA/IDAgOiAxOyAvLyBza2lwIGZpcnN0ICcvJ1xuICAgIHZhciBuYW1lTGlzdCA9IHBhdGguc3BsaXQoJy8nKTtcblxuICAgIC8vIHBhcnNlIHBhdGhcbiAgICBmb3IgKHZhciBuID0gc3RhcnRJbmRleDsgbiA8IG5hbWVMaXN0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciBuYW1lID0gbmFtZUxpc3Rbbl07XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG1hdGNoLl9jaGlsZHJlbjtcbiAgICAgICAgbWF0Y2ggPSBudWxsO1xuICAgICAgICBmb3IgKHZhciB0ID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyB0IDwgbGVuOyArK3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJDaGlsZCA9IGNoaWxkcmVuW3RdO1xuICAgICAgICAgICAgaWYgKHN1YkNoaWxkLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHN1YkNoaWxkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltWnBibVF1YW5NaVhTd2libUZ0WlhNaU9sc2lZMk1pTENKbWFXNWtJaXdpYlc5a2RXeGxJaXdpWlhod2IzSjBjeUlzSW5CaGRHZ2lMQ0p5WldabGNtVnVZMlZPYjJSbElpd2laWEp5YjNKSlJDSXNJbk5qWlc1bElpd2laR2x5WldOMGIzSWlMQ0puWlhSVFkyVnVaU0lzSWtORFgwUkZWaUlzSW5kaGNtNUpSQ0lzSW1selZtRnNhV1FpTENKdFlYUmphQ0lzSW5OMFlYSjBTVzVrWlhnaUxDSnVZVzFsVEdsemRDSXNJbk53YkdsMElpd2liaUlzSW14bGJtZDBhQ0lzSW01aGJXVWlMQ0pqYUdsc1pISmxiaUlzSWw5amFHbHNaSEpsYmlJc0luUWlMQ0pzWlc0aUxDSnpkV0pEYUdsc1pDSmRMQ0p0WVhCd2FXNW5jeUk2SWpzN1FVRkJRVHM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdRVUV3UWtFN096czdPenM3T3pzN096dEJRVmxCUVN4SFFVRkhReXhKUVVGSUxFZEJRVlZETEU5QlFVOURMRTlCUVZBc1IwRkJhVUlzVlVGQlZVTXNTVUZCVml4RlFVRm5Ra01zWVVGQmFFSXNSVUZCSzBJN1FVRkRkRVFzVVVGQlNVUXNVVUZCVVN4SlFVRmFMRVZCUVd0Q08wRkJRMlJLTEZkQlFVZE5MRTlCUVVnc1EwRkJWeXhKUVVGWU8wRkJRMEVzWlVGQlR5eEpRVUZRTzBGQlEwZzdRVUZEUkN4UlFVRkpMRU5CUVVORUxHRkJRVXdzUlVGQmIwSTdRVUZEYUVJc1dVRkJTVVVzVVVGQlVWQXNSMEZCUjFFc1VVRkJTQ3hEUVVGWlF5eFJRVUZhTEVWQlFWbzdRVUZEUVN4WlFVRkpMRU5CUVVOR0xFdEJRVXdzUlVGQldUdEJRVU5TTEdkQ1FVRkpSeXhOUVVGS0xFVkJRVms3UVVGRFVsWXNiVUpCUVVkWExFMUJRVWdzUTBGQlZTeEpRVUZXTzBGQlEwZzdRVUZEUkN4dFFrRkJUeXhKUVVGUU8wRkJRMGdzVTBGTVJDeE5RVTFMTEVsQlFVbEVMRlZCUVZVc1EwRkJRMGdzVFVGQlRVc3NUMEZCY2tJc1JVRkJPRUk3UVVGREwwSmFMR1ZCUVVkWExFMUJRVWdzUTBGQlZTeEpRVUZXTzBGQlEwRXNiVUpCUVU4c1NVRkJVRHRCUVVOSU8wRkJRMFJPTEhkQ1FVRm5Ra1VzUzBGQmFFSTdRVUZEU0N4TFFXSkVMRTFCWTBzc1NVRkJTVWNzVlVGQlZTeERRVUZEVEN4alFVRmpUeXhQUVVFM1FpeEZRVUZ6UXp0QlFVTjJRMW9zVjBGQlIxY3NUVUZCU0N4RFFVRlZMRWxCUVZZN1FVRkRRU3hsUVVGUExFbEJRVkE3UVVGRFNEczdRVUZGUkN4UlFVRkpSU3hSUVVGUlVpeGhRVUZhTzBGQlEwRXNVVUZCU1ZNc1lVRkJZMVlzUzBGQlN5eERRVUZNTEUxQlFWa3NSMEZCWWl4SFFVRnZRaXhEUVVGd1FpeEhRVUYzUWl4RFFVRjZReXhEUVhwQ2MwUXNRMEY1UWxZN1FVRkROVU1zVVVGQlNWY3NWMEZCVjFnc1MwRkJTMWtzUzBGQlRDeERRVUZYTEVkQlFWZ3NRMEZCWmpzN1FVRkZRVHRCUVVOQkxGTkJRVXNzU1VGQlNVTXNTVUZCU1Vnc1ZVRkJZaXhGUVVGNVFrY3NTVUZCU1VZc1UwRkJVMGNzVFVGQmRFTXNSVUZCT0VORUxFZEJRVGxETEVWQlFXMUVPMEZCUXk5RExGbEJRVWxGTEU5QlFVOUtMRk5CUVZORkxFTkJRVlFzUTBGQldEdEJRVU5CTEZsQlFVbEhMRmRCUVZkUUxFMUJRVTFSTEZOQlFYSkNPMEZCUTBGU0xHZENRVUZSTEVsQlFWSTdRVUZEUVN4aFFVRkxMRWxCUVVsVExFbEJRVWtzUTBGQlVpeEZRVUZYUXl4TlFVRk5TQ3hUUVVGVFJpeE5RVUV2UWl4RlFVRjFRMGtzU1VGQlNVTXNSMEZCTTBNc1JVRkJaMFFzUlVGQlJVUXNRMEZCYkVRc1JVRkJjVVE3UVVGRGFrUXNaMEpCUVVsRkxGZEJRVmRLTEZOQlFWTkZMRU5CUVZRc1EwRkJaanRCUVVOQkxHZENRVUZKUlN4VFFVRlRUQ3hKUVVGVUxFdEJRV3RDUVN4SlFVRjBRaXhGUVVFMFFqdEJRVU40UWs0c2QwSkJRVkZYTEZGQlFWSTdRVUZEUVR0QlFVTklPMEZCUTBvN1FVRkRSQ3haUVVGSkxFTkJRVU5ZTEV0QlFVd3NSVUZCV1R0QlFVTlNMRzFDUVVGUExFbEJRVkE3UVVGRFNEdEJRVU5LT3p0QlFVVkVMRmRCUVU5QkxFdEJRVkE3UVVGRFNDeERRVGxEUkNJc0ltWnBiR1VpT2lKbWFXNWtMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5b3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaXBjYmlCRGIzQjVjbWxuYUhRZ0tHTXBJREl3TVRNdE1qQXhOaUJEYUhWcmIyNW5JRlJsWTJodWIyeHZaMmxsY3lCSmJtTXVYRzRnUTI5d2VYSnBaMmgwSUNoaktTQXlNREUzTFRJd01UZ2dXR2xoYldWdUlGbGhhbWtnVTI5bWRIZGhjbVVnUTI4dUxDQk1kR1F1WEc1Y2JpQm9kSFJ3Y3pvdkwzZDNkeTVqYjJOdmN5NWpiMjB2WEc1Y2JpQlFaWEp0YVhOemFXOXVJR2x6SUdobGNtVmllU0JuY21GdWRHVmtMQ0JtY21WbElHOW1JR05vWVhKblpTd2dkRzhnWVc1NUlIQmxjbk52YmlCdlluUmhhVzVwYm1jZ1lTQmpiM0I1WEc0Z2IyWWdkR2hwY3lCemIyWjBkMkZ5WlNCaGJtUWdZWE56YjJOcFlYUmxaQ0JsYm1kcGJtVWdjMjkxY21ObElHTnZaR1VnS0hSb1pTQmNJbE52Wm5SM1lYSmxYQ0lwTENCaElHeHBiV2wwWldRc1hHNGdJSGR2Y214a2QybGtaU3dnY205NVlXeDBlUzFtY21WbExDQnViMjR0WVhOemFXZHVZV0pzWlN3Z2NtVjJiMk5oWW14bElHRnVaQ0J1YjI0dFpYaGpiSFZ6YVhabElHeHBZMlZ1YzJWY2JpQjBieUIxYzJVZ1EyOWpiM01nUTNKbFlYUnZjaUJ6YjJ4bGJIa2dkRzhnWkdWMlpXeHZjQ0JuWVcxbGN5QnZiaUI1YjNWeUlIUmhjbWRsZENCd2JHRjBabTl5YlhNdUlGbHZkU0J6YUdGc2JGeHVJQ0J1YjNRZ2RYTmxJRU52WTI5eklFTnlaV0YwYjNJZ2MyOW1kSGRoY21VZ1ptOXlJR1JsZG1Wc2IzQnBibWNnYjNSb1pYSWdjMjltZEhkaGNtVWdiM0lnZEc5dmJITWdkR2hoZENkelhHNGdJSFZ6WldRZ1ptOXlJR1JsZG1Wc2IzQnBibWNnWjJGdFpYTXVJRmx2ZFNCaGNtVWdibTkwSUdkeVlXNTBaV1FnZEc4Z2NIVmliR2x6YUN3Z1pHbHpkSEpwWW5WMFpTeGNiaUFnYzNWaWJHbGpaVzV6WlN3Z1lXNWtMMjl5SUhObGJHd2dZMjl3YVdWeklHOW1JRU52WTI5eklFTnlaV0YwYjNJdVhHNWNiaUJVYUdVZ2MyOW1kSGRoY21VZ2IzSWdkRzl2YkhNZ2FXNGdkR2hwY3lCTWFXTmxibk5sSUVGbmNtVmxiV1Z1ZENCaGNtVWdiR2xqWlc1elpXUXNJRzV2ZENCemIyeGtMbHh1SUZocFlXMWxiaUJaWVdwcElGTnZablIzWVhKbElFTnZMaXdnVEhSa0xpQnlaWE5sY25abGN5QmhiR3dnY21sbmFIUnpJRzV2ZENCbGVIQnlaWE56YkhrZ1ozSmhiblJsWkNCMGJ5QjViM1V1WEc1Y2JpQlVTRVVnVTA5R1ZGZEJVa1VnU1ZNZ1VGSlBWa2xFUlVRZ1hDSkJVeUJKVTF3aUxDQlhTVlJJVDFWVUlGZEJVbEpCVGxSWklFOUdJRUZPV1NCTFNVNUVMQ0JGV0ZCU1JWTlRJRTlTWEc0Z1NVMVFURWxGUkN3Z1NVNURURlZFU1U1SElFSlZWQ0JPVDFRZ1RFbE5TVlJGUkNCVVR5QlVTRVVnVjBGU1VrRk9WRWxGVXlCUFJpQk5SVkpEU0VGT1ZFRkNTVXhKVkZrc1hHNGdSa2xVVGtWVFV5QkdUMUlnUVNCUVFWSlVTVU5WVEVGU0lGQlZVbEJQVTBVZ1FVNUVJRTVQVGtsT1JsSkpUa2RGVFVWT1ZDNGdTVTRnVGs4Z1JWWkZUbFFnVTBoQlRFd2dWRWhGWEc0Z1FWVlVTRTlTVXlCUFVpQkRUMUJaVWtsSFNGUWdTRTlNUkVWU1V5QkNSU0JNU1VGQ1RFVWdSazlTSUVGT1dTQkRURUZKVFN3Z1JFRk5RVWRGVXlCUFVpQlBWRWhGVWx4dUlFeEpRVUpKVEVsVVdTd2dWMGhGVkVoRlVpQkpUaUJCVGlCQlExUkpUMDRnVDBZZ1EwOU9WRkpCUTFRc0lGUlBVbFFnVDFJZ1QxUklSVkpYU1ZORkxDQkJVa2xUU1U1SElFWlNUMDBzWEc0Z1QxVlVJRTlHSUU5U0lFbE9JRU5QVGs1RlExUkpUMDRnVjBsVVNDQlVTRVVnVTA5R1ZGZEJVa1VnVDFJZ1ZFaEZJRlZUUlNCUFVpQlBWRWhGVWlCRVJVRk1TVTVIVXlCSlRseHVJRlJJUlNCVFQwWlVWMEZTUlM1Y2JpQXFLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xTDF4dVhHNHZLaXBjYmlBcUlFWnBibVJ6SUdFZ2JtOWtaU0JpZVNCb2FXVnlZWEpqYUhrZ2NHRjBhQ3dnZEdobElIQmhkR2dnYVhNZ1kyRnpaUzF6Wlc1emFYUnBkbVV1WEc0Z0tpQkpkQ0IzYVd4c0lIUnlZWFpsY25ObElIUm9aU0JvYVdWeVlYSmphSGtnWW5rZ2MzQnNhWFIwYVc1bklIUm9aU0J3WVhSb0lIVnphVzVuSUNjdkp5QmphR0Z5WVdOMFpYSXVYRzRnS2lCVWFHbHpJR1oxYm1OMGFXOXVJSGRwYkd3Z2MzUnBiR3dnY21WMGRYSnVjeUIwYUdVZ2JtOWtaU0JsZG1WdUlHbG1JR2wwSUdseklHbHVZV04wYVhabExseHVJQ29nU1hRZ2FYTWdjbVZqYjIxdFpXNWtaV1FnZEc4Z2JtOTBJSFZ6WlNCMGFHbHpJR1oxYm1OMGFXOXVJR1YyWlhKNUlHWnlZVzFsSUdsdWMzUmxZV1FnWTJGamFHVWdkR2hsSUhKbGMzVnNkQ0JoZENCemRHRnlkSFZ3TGx4dUlDcGNiaUFxSUVCdFpYUm9iMlFnWm1sdVpGeHVJQ29nUUhOMFlYUnBZMXh1SUNvZ1FIQmhjbUZ0SUh0VGRISnBibWQ5SUhCaGRHaGNiaUFxSUVCd1lYSmhiU0I3VG05a1pYMGdXM0psWm1WeVpXNWpaVTV2WkdWZFhHNGdLaUJBY21WMGRYSnVJSHRPYjJSbGZHNTFiR3g5SUhSb1pTQnViMlJsSUc5eUlHNTFiR3dnYVdZZ2JtOTBJR1p2ZFc1a1hHNGdLaTljYm1OakxtWnBibVFnUFNCdGIyUjFiR1V1Wlhod2IzSjBjeUE5SUdaMWJtTjBhVzl1SUNod1lYUm9MQ0J5WldabGNtVnVZMlZPYjJSbEtTQjdYRzRnSUNBZ2FXWWdLSEJoZEdnZ1BUMGdiblZzYkNrZ2UxeHVJQ0FnSUNBZ0lDQmpZeTVsY25KdmNrbEVLRFUyTURBcE8xeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z2JuVnNiRHRjYmlBZ0lDQjlYRzRnSUNBZ2FXWWdLQ0Z5WldabGNtVnVZMlZPYjJSbEtTQjdYRzRnSUNBZ0lDQWdJSFpoY2lCelkyVnVaU0E5SUdOakxtUnBjbVZqZEc5eUxtZGxkRk5qWlc1bEtDazdYRzRnSUNBZ0lDQWdJR2xtSUNnaGMyTmxibVVwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoRFExOUVSVllwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCall5NTNZWEp1U1VRb05UWXdNU2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYm5Wc2JEdGNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0JsYkhObElHbG1JQ2hEUTE5RVJWWWdKaVlnSVhOalpXNWxMbWx6Vm1Gc2FXUXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHTmpMbmRoY201SlJDZzFOakF5S1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQnVkV3hzTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lISmxabVZ5Wlc1alpVNXZaR1VnUFNCelkyVnVaVHRjYmlBZ0lDQjlYRzRnSUNBZ1pXeHpaU0JwWmlBb1EwTmZSRVZXSUNZbUlDRnlaV1psY21WdVkyVk9iMlJsTG1selZtRnNhV1FwSUh0Y2JpQWdJQ0FnSUNBZ1kyTXVkMkZ5YmtsRUtEVTJNRE1wTzF4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnYm5Wc2JEdGNiaUFnSUNCOVhHNWNiaUFnSUNCMllYSWdiV0YwWTJnZ1BTQnlaV1psY21WdVkyVk9iMlJsTzF4dUlDQWdJSFpoY2lCemRHRnlkRWx1WkdWNElEMGdLSEJoZEdoYk1GMGdJVDA5SUNjdkp5a2dQeUF3SURvZ01Uc2dMeThnYzJ0cGNDQm1hWEp6ZENBbkx5ZGNiaUFnSUNCMllYSWdibUZ0WlV4cGMzUWdQU0J3WVhSb0xuTndiR2wwS0Njdkp5azdYRzVjYmlBZ0lDQXZMeUJ3WVhKelpTQndZWFJvWEc0Z0lDQWdabTl5SUNoMllYSWdiaUE5SUhOMFlYSjBTVzVrWlhnN0lHNGdQQ0J1WVcxbFRHbHpkQzVzWlc1bmRHZzdJRzRyS3lrZ2UxeHVJQ0FnSUNBZ0lDQjJZWElnYm1GdFpTQTlJRzVoYldWTWFYTjBXMjVkTzF4dUlDQWdJQ0FnSUNCMllYSWdZMmhwYkdSeVpXNGdQU0J0WVhSamFDNWZZMmhwYkdSeVpXNDdYRzRnSUNBZ0lDQWdJRzFoZEdOb0lEMGdiblZzYkR0Y2JpQWdJQ0FnSUNBZ1ptOXlJQ2gyWVhJZ2RDQTlJREFzSUd4bGJpQTlJR05vYVd4a2NtVnVMbXhsYm1kMGFEc2dkQ0E4SUd4bGJqc2dLeXQwS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ2MzVmlRMmhwYkdRZ1BTQmphR2xzWkhKbGJsdDBYVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2h6ZFdKRGFHbHNaQzV1WVcxbElEMDlQU0J1WVcxbEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiV0YwWTJnZ1BTQnpkV0pEYUdsc1pEdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmljbVZoYXp0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCcFppQW9JVzFoZEdOb0tTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYm5Wc2JEdGNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lIMWNibHh1SUNBZ0lISmxkSFZ5YmlCdFlYUmphRHRjYm4wN1hHNGlYWDA9Il19