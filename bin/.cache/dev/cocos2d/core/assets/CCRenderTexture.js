(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/assets/CCRenderTexture.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        var _gfx = require('../../renderer/gfx');
        var _gfx2 = _interopRequireDefault(_gfx);
        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
        }
        var renderer = require('../renderer');
        var Texture2D = require('./CCTexture2D');
        var RenderTexture = cc.Class({
            name: 'cc.RenderTexture',
            extends: Texture2D,
            ctor: function ctor() {
                this._framebuffer = null;
            },
            initWithSize: function initWithSize(width, height, depthStencilFormat) {
                this.width = Math.floor(width || cc.visibleRect.width);
                this.height = Math.floor(height || cc.visibleRect.height);
                this._resetUnderlyingMipmaps();
                var opts = { colors: [this._texture] };
                if (this._depthStencilBuffer)
                    this._depthStencilBuffer.destroy();
                var depthStencilBuffer = void 0;
                if (depthStencilFormat) {
                    depthStencilBuffer = new _gfx2.default.RenderBuffer(renderer.device, depthStencilFormat, width, height);
                    if (depthStencilFormat === _gfx2.default.RB_FMT_D24S8) {
                        opts.depthStencil = depthStencilBuffer;
                    } else if (depthStencilFormat === _gfx2.default.RB_FMT_S8) {
                        opts.stencil = depthStencilBuffer;
                    } else if (depthStencilFormat === _gfx2.default.RB_FMT_D16) {
                        opts.depth = depthStencilBuffer;
                    }
                }
                this._depthStencilBuffer = depthStencilBuffer;
                if (this._framebuffer)
                    this._framebuffer.destroy();
                this._framebuffer = new _gfx2.default.FrameBuffer(renderer.device, width, height, opts);
                this._packable = false;
                this.loaded = true;
                this.emit('load');
            },
            updateSize: function updateSize(width, height) {
                this.width = Math.floor(width || cc.visibleRect.width);
                this.height = Math.floor(height || cc.visibleRect.height);
                this._resetUnderlyingMipmaps();
                var rbo = this._depthStencilBuffer;
                if (rbo)
                    rbo.update(this.width, this.height);
                this._framebuffer._width = width;
                this._framebuffer._height = height;
            },
            drawTextureAt: function drawTextureAt(texture, x, y) {
                if (!texture._image)
                    return;
                this._texture.updateSubImage({
                    x: x,
                    y: y,
                    image: texture._image,
                    width: texture.width,
                    height: texture.height,
                    level: 0,
                    flipY: false,
                    premultiplyAlpha: texture._premultiplyAlpha
                });
            },
            readPixels: function readPixels(data, x, y, w, h) {
                if (!this._framebuffer || !this._texture)
                    return data;
                x = x || 0;
                y = y || 0;
                var width = w || this.width;
                var height = h || this.height;
                data = data || new Uint8Array(width * height * 4);
                var gl = cc.game._renderContext;
                var oldFBO = gl.getParameter(gl.FRAMEBUFFER_BINDING);
                gl.bindFramebuffer(gl.FRAMEBUFFER, this._framebuffer.getHandle());
                gl.readPixels(x, y, width, height, gl.RGBA, gl.UNSIGNED_BYTE, data);
                gl.bindFramebuffer(gl.FRAMEBUFFER, oldFBO);
                return data;
            },
            destroy: function destroy() {
                this._super();
                if (this._framebuffer) {
                    this._framebuffer.destroy();
                    this._framebuffer = null;
                }
            }
        });
        cc.RenderTexture = module.exports = RenderTexture;
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNDUmVuZGVyVGV4dHVyZS5qcyIsIi9Vc2Vycy9nYW95YW5nL1dvcmtTcGFjZS9qb3ljYXN0bGUvYmluZ28vY2xpZW50L2JpbmdvL2VuZ2luZS9jb2NvczJkL2NvcmUvYXNzZXRzL0NDUmVuZGVyVGV4dHVyZS5qcyJdLCJuYW1lcyI6WyJyZW5kZXJlciIsInJlcXVpcmUiLCJUZXh0dXJlMkQiLCJSZW5kZXJUZXh0dXJlIiwiY2MiLCJDbGFzcyIsIm5hbWUiLCJleHRlbmRzIiwiY3RvciIsIl9mcmFtZWJ1ZmZlciIsImluaXRXaXRoU2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGVwdGhTdGVuY2lsRm9ybWF0IiwiTWF0aCIsImZsb29yIiwidmlzaWJsZVJlY3QiLCJfcmVzZXRVbmRlcmx5aW5nTWlwbWFwcyIsIm9wdHMiLCJjb2xvcnMiLCJfdGV4dHVyZSIsIl9kZXB0aFN0ZW5jaWxCdWZmZXIiLCJkZXN0cm95IiwiZGVwdGhTdGVuY2lsQnVmZmVyIiwiZ2Z4IiwiUmVuZGVyQnVmZmVyIiwiZGV2aWNlIiwiUkJfRk1UX0QyNFM4IiwiZGVwdGhTdGVuY2lsIiwiUkJfRk1UX1M4Iiwic3RlbmNpbCIsIlJCX0ZNVF9EMTYiLCJkZXB0aCIsIkZyYW1lQnVmZmVyIiwiX3BhY2thYmxlIiwibG9hZGVkIiwiZW1pdCIsInVwZGF0ZVNpemUiLCJyYm8iLCJ1cGRhdGUiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiZHJhd1RleHR1cmVBdCIsInRleHR1cmUiLCJ4IiwieSIsIl9pbWFnZSIsInVwZGF0ZVN1YkltYWdlIiwiaW1hZ2UiLCJsZXZlbCIsImZsaXBZIiwicHJlbXVsdGlwbHlBbHBoYSIsIl9wcmVtdWx0aXBseUFscGhhIiwicmVhZFBpeGVscyIsImRhdGEiLCJ3IiwiaCIsIlVpbnQ4QXJyYXkiLCJnbCIsImdhbWUiLCJfcmVuZGVyQ29udGV4dCIsIm9sZEZCTyIsImdldFBhcmFtZXRlciIsIkZSQU1FQlVGRkVSX0JJTkRJTkciLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImdldEhhbmRsZSIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiX3N1cGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjtJQUdBLElBQUEsT0FBQSxHQUFBLE9BQUEsT0FBQSxLQUFBLFdBQUEsSUFBQSxPQUFBLE9BQUEsS0FBQSxXQUFBOzs7Ozs7UUFIeUIsT0FBQSxpQkFBQSxDQUF6QixPQUF5QixDQUF6QixPQUF5QixFQUF6QixVQUF5QixDQUFBOzs7UUFLekIsSUFBQSxDQUFBLE9BQUEsRUFBQTtBQUFBLFlBQUEsaUJBQUEsQ0FBQSxjQUFBLENBQUEsVUFBQSxFQUFBLE1BQUEsRUFBQTtBQUFBOztRQUZBLElBQUEsSUFBQSxHQUFBLE9BQUEsQ0FBQSxvQkFBQSxDQUFBOzs7OztRQUhBLElBQU1BLFFBQUFBLEdBQVdDLE9BQUFBLENBQVEsYUFBUkEsQ0FBakI7UUFDQSxJQUFNQyxTQUFBQSxHQUFZRCxPQUFBQSxDQUFRLGVBQVJBLENBQWxCO1FBU0EsSUFBSUUsYUFBQUEsR0FBZ0JDLEVBQUFBLENBQUdDLEtBQUhELENBQVM7QUFBQSxZQUN6QkUsSUFBQUEsRUFBTSxrQkFEbUI7QUFBQSxZQUV6QkMsT0FBQUEsRUFBU0wsU0FGZ0I7QUFBQSxZQUl6Qk0sSUFBQUEsRUFKeUIsU0FBQSxJQUFBLEdBSWpCO0FBQUEsZ0JBQ0osS0FBS0MsWUFBTCxHQUFvQixJQUFwQixDQURJO0FBQUEsYUFKaUI7QUFBQSxZQWtCekJDLFlBQUFBLEVBbEJ5QixTQUFBLFlBQUEsQ0FrQlhDLEtBbEJXLEVBa0JKQyxNQWxCSSxFQWtCSUMsa0JBbEJKLEVBa0J3QjtBQUFBLGdCQUM3QyxLQUFLRixLQUFMLEdBQWFHLElBQUFBLENBQUtDLEtBQUxELENBQVdILEtBQUFBLElBQVNQLEVBQUFBLENBQUdZLFdBQUhaLENBQWVPLEtBQW5DRyxDQUFiLENBRDZDO0FBQUEsZ0JBRTdDLEtBQUtGLE1BQUwsR0FBY0UsSUFBQUEsQ0FBS0MsS0FBTEQsQ0FBV0YsTUFBQUEsSUFBVVIsRUFBQUEsQ0FBR1ks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QUFBLENBQUdELGFBQUhDLEdBQW1Ca0UsTUFBQUEsQ0FBT0MsT0FBUEQsR0FBaUJuRSxhQUFwQ0M7Ozs7V0FoSXVCQztBQUFBQSxRQUNiLGlCQUFBLENBRG1CLGtCQUNuQixDQURtQixVQUNuQixFQURtQixZQUFBO0FBQUEsWUFBQSxRQUFBLENBQUEsUUFBQSxDQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBO0FBQUEsU0FDbkIsRUFEYUE7QUFBQUEiLCJmaWxlIjoiQ0NSZW5kZXJUZXh0dXJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVuZGVyZXIgPSByZXF1aXJlKCcuLi9yZW5kZXJlcicpO1xuY29uc3QgVGV4dHVyZTJEID0gcmVxdWlyZSgnLi9DQ1RleHR1cmUyRCcpO1xuXG5pbXBvcnQgZ2Z4IGZyb20gJy4uLy4uL3JlbmRlcmVyL2dmeCc7XG5cbi8qKlxuICogUmVuZGVyIHRleHR1cmVzIGFyZSB0ZXh0dXJlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCB0by5cbiAqIEBjbGFzcyBSZW5kZXJUZXh0dXJlXG4gKiBAZXh0ZW5kcyBUZXh0dXJlMkRcbiAqL1xubGV0IFJlbmRlclRleHR1cmUgPSBjYy5DbGFzcyh7XG4gICAgbmFtZTogJ2NjLlJlbmRlclRleHR1cmUnLFxuICAgIGV4dGVuZHM6IFRleHR1cmUyRCxcblxuICAgIGN0b3IgKCkge1xuICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqICEjZW5cbiAgICAgKiBJbml0IHRoZSByZW5kZXIgdGV4dHVyZSB3aXRoIHNpemUuXG4gICAgICogISN6aFxuICAgICAqIOWIneWni+WMliByZW5kZXIgdGV4dHVyZSBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3dpZHRoXSBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2hlaWdodF1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2RlcHRoU3RlbmNpbEZvcm1hdF1cbiAgICAgKiBAbWV0aG9kIGluaXRXaXRoU2l6ZVxuICAgICAqL1xuICAgIGluaXRXaXRoU2l6ZSAod2lkdGgsIGhlaWdodCwgZGVwdGhTdGVuY2lsRm9ybWF0KSB7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLmZsb29yKHdpZHRoIHx8IGNjLnZpc2libGVSZWN0LndpZHRoKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmZsb29yKGhlaWdodCB8fCBjYy52aXNpYmxlUmVjdC5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9yZXNldFVuZGVybHlpbmdNaXBtYXBzKCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgb3B0cyA9IHtcbiAgICAgICAgICAgIGNvbG9yczogWyB0aGlzLl90ZXh0dXJlIF0sXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcikgdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgbGV0IGRlcHRoU3RlbmNpbEJ1ZmZlcjtcbiAgICAgICAgaWYgKGRlcHRoU3RlbmNpbEZvcm1hdCkge1xuICAgICAgICAgICAgZGVwdGhTdGVuY2lsQnVmZmVyID0gbmV3IGdmeC5SZW5kZXJCdWZmZXIocmVuZGVyZXIuZGV2aWNlLCBkZXB0aFN0ZW5jaWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgaWYgKGRlcHRoU3RlbmNpbEZvcm1hdCA9PT0gZ2Z4LlJCX0ZNVF9EMjRTOCkge1xuICAgICAgICAgICAgICAgIG9wdHMuZGVwdGhTdGVuY2lsID0gZGVwdGhTdGVuY2lsQnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVwdGhTdGVuY2lsRm9ybWF0ID09PSBnZnguUkJfRk1UX1M4KSB7XG4gICAgICAgICAgICAgICAgb3B0cy5zdGVuY2lsID0gZGVwdGhTdGVuY2lsQnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVwdGhTdGVuY2lsRm9ybWF0ID09PSBnZnguUkJfRk1UX0QxNikge1xuICAgICAgICAgICAgICAgIG9wdHMuZGVwdGggPSBkZXB0aFN0ZW5jaWxCdWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyID0gZGVwdGhTdGVuY2lsQnVmZmVyO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVidWZmZXIpIHRoaXMuX2ZyYW1lYnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIgPSBuZXcgZ2Z4LkZyYW1lQnVmZmVyKHJlbmRlcmVyLmRldmljZSwgd2lkdGgsIGhlaWdodCwgb3B0cyk7XG5cbiAgICAgICAgdGhpcy5fcGFja2FibGUgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0KFwibG9hZFwiKTtcbiAgICB9LFxuXG4gICAgdXBkYXRlU2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLmZsb29yKHdpZHRoIHx8IGNjLnZpc2libGVSZWN0LndpZHRoKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmZsb29yKGhlaWdodCB8fCBjYy52aXNpYmxlUmVjdC5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9yZXNldFVuZGVybHlpbmdNaXBtYXBzKCk7XG5cbiAgICAgICAgbGV0IHJibyA9IHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcjtcbiAgICAgICAgaWYgKHJibykgcmJvLnVwZGF0ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlci5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiAhI2VuIERyYXcgYSB0ZXh0dXJlIHRvIHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cbiAgICAgKiAhI3poIOWwhuaMh+WumueahOWbvueJh+a4suafk+WIsOaMh+WumueahOS9jee9ruS4ilxuICAgICAqIEBwYXJhbSB7VGV4dHVyZTJEfSB0ZXh0dXJlIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFxuICAgICAqL1xuICAgIGRyYXdUZXh0dXJlQXQgKHRleHR1cmUsIHgsIHkpIHtcbiAgICAgICAgaWYgKCF0ZXh0dXJlLl9pbWFnZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUudXBkYXRlU3ViSW1hZ2Uoe1xuICAgICAgICAgICAgeCwgeSxcbiAgICAgICAgICAgIGltYWdlOiB0ZXh0dXJlLl9pbWFnZSxcbiAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0ZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgIGxldmVsOiAwLFxuICAgICAgICAgICAgZmxpcFk6IGZhbHNlLFxuICAgICAgICAgICAgcHJlbXVsdGlwbHlBbHBoYTogdGV4dHVyZS5fcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiAhI2VuXG4gICAgICogR2V0IHBpeGVscyBmcm9tIHJlbmRlciB0ZXh0dXJlLCB0aGUgcGl4ZWxzIGRhdGEgc3RvcmVzIGluIGEgUkdCQSBVaW50OEFycmF5LlxuICAgICAqIEl0IHdpbGwgcmV0dXJuIGEgbmV3ICh3aWR0aCAqIGhlaWdodCAqIDQpIGxlbmd0aCBVaW50OEFycmF5IGJ5IGRlZmF1bHTjgIJcbiAgICAgKiBZb3UgY2FuIHNwZWNpZnkgYSBkYXRhIHRvIHN0b3JlIHRoZSBwaXhlbHMgdG8gcmV1c2UgdGhlIGRhdGEsIFxuICAgICAqIHlvdSBhbmQgY2FuIHNwZWNpZnkgb3RoZXIgcGFyYW1zIHRvIHNwZWNpZnkgdGhlIHRleHR1cmUgcmVnaW9uIHRvIHJlYWQuXG4gICAgICogISN6aFxuICAgICAqIOS7jiByZW5kZXIgdGV4dHVyZSDor7vlj5blg4/ntKDmlbDmja7vvIzmlbDmja7nsbvlnovkuLogUkdCQSDmoLzlvI/nmoQgVWludDhBcnJheSDmlbDnu4TjgIJcbiAgICAgKiDpu5jorqTmr4/mrKHosIPnlKjmraTlh73mlbDkvJrnlJ/miJDkuIDkuKrlpKflsI/kuLog77yI6ZW/IHgg6auYIHggNO+8iSDnmoQgVWludDhBcnJheeOAglxuICAgICAqIOS9oOWPr+S7pemAmui/h+S8oOWFpSBkYXRhIOadpeaOpeaUtuWDj+e0oOaVsOaNru+8jOS5n+WPr+S7pemAmui/h+S8oOWPguadpeaMh+WumumcgOimgeivu+WPlueahOWMuuWfn+eahOWDj+e0oOOAglxuICAgICAqIEBtZXRob2QgcmVhZFBpeGVsc1xuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gW2RhdGFdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt4XSBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3ldIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbd10gXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtoXSBcbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICAgICAqL1xuICAgIHJlYWRQaXhlbHMgKGRhdGEsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZWJ1ZmZlciB8fCAhdGhpcy5fdGV4dHVyZSkgcmV0dXJuIGRhdGE7XG5cbiAgICAgICAgeCA9IHggfHwgMDtcbiAgICAgICAgeSA9IHkgfHwgMDtcbiAgICAgICAgbGV0IHdpZHRoID0gdyB8fCB0aGlzLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gaCB8fCB0aGlzLmhlaWdodFxuICAgICAgICBkYXRhID0gZGF0YSAgfHwgbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcblxuICAgICAgICBsZXQgZ2wgPSBjYy5nYW1lLl9yZW5kZXJDb250ZXh0O1xuICAgICAgICBsZXQgb2xkRkJPID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLkZSQU1FQlVGRkVSX0JJTkRJTkcpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyLmdldEhhbmRsZSgpKTtcbiAgICAgICAgZ2wucmVhZFBpeGVscyh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBkYXRhKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBvbGRGQk8pO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICBkZXN0cm95ICgpIHtcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY2MuUmVuZGVyVGV4dHVyZSA9IG1vZHVsZS5leHBvcnRzID0gUmVuZGVyVGV4dHVyZTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9nZnggPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlci9nZngnKTtcblxudmFyIF9nZngyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2Z4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHJlbmRlcmVyID0gcmVxdWlyZSgnLi4vcmVuZGVyZXInKTtcbnZhciBUZXh0dXJlMkQgPSByZXF1aXJlKCcuL0NDVGV4dHVyZTJEJyk7XG5cbi8qKlxuICogUmVuZGVyIHRleHR1cmVzIGFyZSB0ZXh0dXJlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCB0by5cbiAqIEBjbGFzcyBSZW5kZXJUZXh0dXJlXG4gKiBAZXh0ZW5kcyBUZXh0dXJlMkRcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSBjYy5DbGFzcyh7XG4gICAgbmFtZTogJ2NjLlJlbmRlclRleHR1cmUnLFxuICAgIGV4dGVuZHM6IFRleHR1cmUyRCxcblxuICAgIGN0b3I6IGZ1bmN0aW9uIGN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiAhI2VuXG4gICAgICogSW5pdCB0aGUgcmVuZGVyIHRleHR1cmUgd2l0aCBzaXplLlxuICAgICAqICEjemhcbiAgICAgKiDliJ3lp4vljJYgcmVuZGVyIHRleHR1cmUgXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt3aWR0aF0gXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtoZWlnaHRdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtkZXB0aFN0ZW5jaWxGb3JtYXRdXG4gICAgICogQG1ldGhvZCBpbml0V2l0aFNpemVcbiAgICAgKi9cbiAgICBpbml0V2l0aFNpemU6IGZ1bmN0aW9uIGluaXRXaXRoU2l6ZSh3aWR0aCwgaGVpZ2h0LCBkZXB0aFN0ZW5jaWxGb3JtYXQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguZmxvb3Iod2lkdGggfHwgY2MudmlzaWJsZVJlY3Qud2lkdGgpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguZmxvb3IoaGVpZ2h0IHx8IGNjLnZpc2libGVSZWN0LmhlaWdodCk7XG4gICAgICAgIHRoaXMuX3Jlc2V0VW5kZXJseWluZ01pcG1hcHMoKTtcblxuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIGNvbG9yczogW3RoaXMuX3RleHR1cmVdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcikgdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdmFyIGRlcHRoU3RlbmNpbEJ1ZmZlciA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGRlcHRoU3RlbmNpbEZvcm1hdCkge1xuICAgICAgICAgICAgZGVwdGhTdGVuY2lsQnVmZmVyID0gbmV3IF9nZngyLmRlZmF1bHQuUmVuZGVyQnVmZmVyKHJlbmRlcmVyLmRldmljZSwgZGVwdGhTdGVuY2lsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGlmIChkZXB0aFN0ZW5jaWxGb3JtYXQgPT09IF9nZngyLmRlZmF1bHQuUkJfRk1UX0QyNFM4KSB7XG4gICAgICAgICAgICAgICAgb3B0cy5kZXB0aFN0ZW5jaWwgPSBkZXB0aFN0ZW5jaWxCdWZmZXI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlcHRoU3RlbmNpbEZvcm1hdCA9PT0gX2dmeDIuZGVmYXVsdC5SQl9GTVRfUzgpIHtcbiAgICAgICAgICAgICAgICBvcHRzLnN0ZW5jaWwgPSBkZXB0aFN0ZW5jaWxCdWZmZXI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlcHRoU3RlbmNpbEZvcm1hdCA9PT0gX2dmeDIuZGVmYXVsdC5SQl9GTVRfRDE2KSB7XG4gICAgICAgICAgICAgICAgb3B0cy5kZXB0aCA9IGRlcHRoU3RlbmNpbEJ1ZmZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIgPSBkZXB0aFN0ZW5jaWxCdWZmZXI7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZWJ1ZmZlcikgdGhpcy5fZnJhbWVidWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG5ldyBfZ2Z4Mi5kZWZhdWx0LkZyYW1lQnVmZmVyKHJlbmRlcmVyLmRldmljZSwgd2lkdGgsIGhlaWdodCwgb3B0cyk7XG5cbiAgICAgICAgdGhpcy5fcGFja2FibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdChcImxvYWRcIik7XG4gICAgfSxcbiAgICB1cGRhdGVTaXplOiBmdW5jdGlvbiB1cGRhdGVTaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguZmxvb3Iod2lkdGggfHwgY2MudmlzaWJsZVJlY3Qud2lkdGgpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguZmxvb3IoaGVpZ2h0IHx8IGNjLnZpc2libGVSZWN0LmhlaWdodCk7XG4gICAgICAgIHRoaXMuX3Jlc2V0VW5kZXJseWluZ01pcG1hcHMoKTtcblxuICAgICAgICB2YXIgcmJvID0gdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyO1xuICAgICAgICBpZiAocmJvKSByYm8udXBkYXRlKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogISNlbiBEcmF3IGEgdGV4dHVyZSB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uXG4gICAgICogISN6aCDlsIbmjIflrprnmoTlm77niYfmuLLmn5PliLDmjIflrprnmoTkvY3nva7kuIpcbiAgICAgKiBAcGFyYW0ge1RleHR1cmUyRH0gdGV4dHVyZSBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBcbiAgICAgKi9cbiAgICBkcmF3VGV4dHVyZUF0OiBmdW5jdGlvbiBkcmF3VGV4dHVyZUF0KHRleHR1cmUsIHgsIHkpIHtcbiAgICAgICAgaWYgKCF0ZXh0dXJlLl9pbWFnZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUudXBkYXRlU3ViSW1hZ2Uoe1xuICAgICAgICAgICAgeDogeCwgeTogeSxcbiAgICAgICAgICAgIGltYWdlOiB0ZXh0dXJlLl9pbWFnZSxcbiAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0ZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgIGxldmVsOiAwLFxuICAgICAgICAgICAgZmxpcFk6IGZhbHNlLFxuICAgICAgICAgICAgcHJlbXVsdGlwbHlBbHBoYTogdGV4dHVyZS5fcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICB9KTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiAhI2VuXG4gICAgICogR2V0IHBpeGVscyBmcm9tIHJlbmRlciB0ZXh0dXJlLCB0aGUgcGl4ZWxzIGRhdGEgc3RvcmVzIGluIGEgUkdCQSBVaW50OEFycmF5LlxuICAgICAqIEl0IHdpbGwgcmV0dXJuIGEgbmV3ICh3aWR0aCAqIGhlaWdodCAqIDQpIGxlbmd0aCBVaW50OEFycmF5IGJ5IGRlZmF1bHTjgIJcbiAgICAgKiBZb3UgY2FuIHNwZWNpZnkgYSBkYXRhIHRvIHN0b3JlIHRoZSBwaXhlbHMgdG8gcmV1c2UgdGhlIGRhdGEsIFxuICAgICAqIHlvdSBhbmQgY2FuIHNwZWNpZnkgb3RoZXIgcGFyYW1zIHRvIHNwZWNpZnkgdGhlIHRleHR1cmUgcmVnaW9uIHRvIHJlYWQuXG4gICAgICogISN6aFxuICAgICAqIOS7jiByZW5kZXIgdGV4dHVyZSDor7vlj5blg4/ntKDmlbDmja7vvIzmlbDmja7nsbvlnovkuLogUkdCQSDmoLzlvI/nmoQgVWludDhBcnJheSDmlbDnu4TjgIJcbiAgICAgKiDpu5jorqTmr4/mrKHosIPnlKjmraTlh73mlbDkvJrnlJ/miJDkuIDkuKrlpKflsI/kuLog77yI6ZW/IHgg6auYIHggNO+8iSDnmoQgVWludDhBcnJheeOAglxuICAgICAqIOS9oOWPr+S7pemAmui/h+S8oOWFpSBkYXRhIOadpeaOpeaUtuWDj+e0oOaVsOaNru+8jOS5n+WPr+S7pemAmui/h+S8oOWPguadpeaMh+WumumcgOimgeivu+WPlueahOWMuuWfn+eahOWDj+e0oOOAglxuICAgICAqIEBtZXRob2QgcmVhZFBpeGVsc1xuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gW2RhdGFdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt4XSBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3ldIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbd10gXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtoXSBcbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICAgICAqL1xuICAgIHJlYWRQaXhlbHM6IGZ1bmN0aW9uIHJlYWRQaXhlbHMoZGF0YSwgeCwgeSwgdywgaCkge1xuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lYnVmZmVyIHx8ICF0aGlzLl90ZXh0dXJlKSByZXR1cm4gZGF0YTtcblxuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB2YXIgd2lkdGggPSB3IHx8IHRoaXMud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBoIHx8IHRoaXMuaGVpZ2h0O1xuICAgICAgICBkYXRhID0gZGF0YSB8fCBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuXG4gICAgICAgIHZhciBnbCA9IGNjLmdhbWUuX3JlbmRlckNvbnRleHQ7XG4gICAgICAgIHZhciBvbGRGQk8gPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuRlJBTUVCVUZGRVJfQklORElORyk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIuZ2V0SGFuZGxlKCkpO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG9sZEZCTyk7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9zdXBlcigpO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jYy5SZW5kZXJUZXh0dXJlID0gbW9kdWxlLmV4cG9ydHMgPSBSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtORFVtVnVaR1Z5VkdWNGRIVnlaUzVxY3lKZExDSnVZVzFsY3lJNld5SnlaVzVrWlhKbGNpSXNJbkpsY1hWcGNtVWlMQ0pVWlhoMGRYSmxNa1FpTENKU1pXNWtaWEpVWlhoMGRYSmxJaXdpWTJNaUxDSkRiR0Z6Y3lJc0ltNWhiV1VpTENKbGVIUmxibVJ6SWl3aVkzUnZjaUlzSWw5bWNtRnRaV0oxWm1abGNpSXNJbWx1YVhSWGFYUm9VMmw2WlNJc0luZHBaSFJvSWl3aWFHVnBaMmgwSWl3aVpHVndkR2hUZEdWdVkybHNSbTl5YldGMElpd2lUV0YwYUNJc0ltWnNiMjl5SWl3aWRtbHphV0pzWlZKbFkzUWlMQ0pmY21WelpYUlZibVJsY214NWFXNW5UV2x3YldGd2N5SXNJbTl3ZEhNaUxDSmpiMnh2Y25NaUxDSmZkR1Y0ZEhWeVpTSXNJbDlrWlhCMGFGTjBaVzVqYVd4Q2RXWm1aWElpTENKa1pYTjBjbTk1SWl3aVpHVndkR2hUZEdWdVkybHNRblZtWm1WeUlpd2laMlo0SWl3aVVtVnVaR1Z5UW5WbVptVnlJaXdpWkdWMmFXTmxJaXdpVWtKZlJrMVVYMFF5TkZNNElpd2laR1Z3ZEdoVGRHVnVZMmxzSWl3aVVrSmZSazFVWDFNNElpd2ljM1JsYm1OcGJDSXNJbEpDWDBaTlZGOUVNVFlpTENKa1pYQjBhQ0lzSWtaeVlXMWxRblZtWm1WeUlpd2lYM0JoWTJ0aFlteGxJaXdpYkc5aFpHVmtJaXdpWlcxcGRDSXNJblZ3WkdGMFpWTnBlbVVpTENKeVltOGlMQ0oxY0dSaGRHVWlMQ0pmZDJsa2RHZ2lMQ0pmYUdWcFoyaDBJaXdpWkhKaGQxUmxlSFIxY21WQmRDSXNJblJsZUhSMWNtVWlMQ0o0SWl3aWVTSXNJbDlwYldGblpTSXNJblZ3WkdGMFpWTjFZa2x0WVdkbElpd2lhVzFoWjJVaUxDSnNaWFpsYkNJc0ltWnNhWEJaSWl3aWNISmxiWFZzZEdsd2JIbEJiSEJvWVNJc0lsOXdjbVZ0ZFd4MGFYQnNlVUZzY0doaElpd2ljbVZoWkZCcGVHVnNjeUlzSW1SaGRHRWlMQ0ozSWl3aWFDSXNJbFZwYm5RNFFYSnlZWGtpTENKbmJDSXNJbWRoYldVaUxDSmZjbVZ1WkdWeVEyOXVkR1Y0ZENJc0ltOXNaRVpDVHlJc0ltZGxkRkJoY21GdFpYUmxjaUlzSWtaU1FVMUZRbFZHUmtWU1gwSkpUa1JKVGtjaUxDSmlhVzVrUm5KaGJXVmlkV1ptWlhJaUxDSkdVa0ZOUlVKVlJrWkZVaUlzSW1kbGRFaGhibVJzWlNJc0lsSkhRa0VpTENKVlRsTkpSMDVGUkY5Q1dWUkZJaXdpWDNOMWNHVnlJaXdpYlc5a2RXeGxJaXdpWlhod2IzSjBjeUpkTENKdFlYQndhVzVuY3lJNklqczdRVUZIUVRzN096czdPMEZCU0VFc1NVRkJUVUVzVjBGQlYwTXNVVUZCVVN4aFFVRlNMRU5CUVdwQ08wRkJRMEVzU1VGQlRVTXNXVUZCV1VRc1VVRkJVU3hsUVVGU0xFTkJRV3hDT3p0QlFVbEJPenM3T3p0QlFVdEJMRWxCUVVsRkxHZENRVUZuUWtNc1IwRkJSME1zUzBGQlNDeERRVUZUTzBGQlEzcENReXhWUVVGTkxHdENRVVJ0UWp0QlFVVjZRa01zWVVGQlUwd3NVMEZHWjBJN08wRkJTWHBDVFN4UlFVcDVRaXhyUWtGSmFrSTdRVUZEU2l4aFFVRkxReXhaUVVGTUxFZEJRVzlDTEVsQlFYQkNPMEZCUTBnc1MwRk9kMEk3T3p0QlFWRjZRanM3T3pzN096czdPenRCUVZWQlF5eG5Ra0ZzUW5sQ0xIZENRV3RDV0VNc1MwRnNRbGNzUlVGclFrcERMRTFCYkVKSkxFVkJhMEpKUXl4clFrRnNRa29zUlVGclFuZENPMEZCUXpkRExHRkJRVXRHTEV0QlFVd3NSMEZCWVVjc1MwRkJTME1zUzBGQlRDeERRVUZYU2l4VFFVRlRVQ3hIUVVGSFdTeFhRVUZJTEVOQlFXVk1MRXRCUVc1RExFTkJRV0k3UVVGRFFTeGhRVUZMUXl4TlFVRk1MRWRCUVdORkxFdEJRVXRETEV0QlFVd3NRMEZCVjBnc1ZVRkJWVklzUjBGQlIxa3NWMEZCU0N4RFFVRmxTaXhOUVVGd1F5eERRVUZrTzBGQlEwRXNZVUZCUzBzc2RVSkJRVXc3TzBGQlJVRXNXVUZCU1VNc1QwRkJUenRCUVVOUVF5eHZRa0ZCVVN4RFFVRkZMRXRCUVV0RExGRkJRVkE3UVVGRVJDeFRRVUZZT3p0QlFVbEJMRmxCUVVrc1MwRkJTME1zYlVKQlFWUXNSVUZCT0VJc1MwRkJTMEVzYlVKQlFVd3NRMEZCZVVKRExFOUJRWHBDTzBGQlF6bENMRmxCUVVsRExESkNRVUZLTzBGQlEwRXNXVUZCU1ZZc2EwSkJRVW9zUlVGQmQwSTdRVUZEY0VKVkxHbERRVUZ4UWl4SlFVRkpReXhqUVVGSlF5eFpRVUZTTEVOQlFYRkNla0lzVTBGQlV6QkNMRTFCUVRsQ0xFVkJRWE5EWWl4clFrRkJkRU1zUlVGQk1FUkdMRXRCUVRGRUxFVkJRV2xGUXl4TlFVRnFSU3hEUVVGeVFqdEJRVU5CTEdkQ1FVRkpReXgxUWtGQmRVSlhMR05CUVVsSExGbEJRUzlDTEVWQlFUWkRPMEZCUTNwRFZDeHhRa0ZCUzFVc1dVRkJUQ3hIUVVGdlFrd3NhMEpCUVhCQ08wRkJRMGdzWVVGR1JDeE5RVWRMTEVsQlFVbFdMSFZDUVVGMVFsY3NZMEZCU1Vzc1UwRkJMMElzUlVGQk1FTTdRVUZETTBOWUxIRkNRVUZMV1N4UFFVRk1MRWRCUVdWUUxHdENRVUZtTzBGQlEwZ3NZVUZHU1N4TlFVZEJMRWxCUVVsV0xIVkNRVUYxUWxjc1kwRkJTVThzVlVGQkwwSXNSVUZCTWtNN1FVRkROVU5pTEhGQ1FVRkxZeXhMUVVGTUxFZEJRV0ZVTEd0Q1FVRmlPMEZCUTBnN1FVRkRTanRCUVVORUxHRkJRVXRHTEcxQ1FVRk1MRWRCUVRKQ1JTeHJRa0ZCTTBJN1FVRkRRU3haUVVGSkxFdEJRVXRrTEZsQlFWUXNSVUZCZFVJc1MwRkJTMEVzV1VGQlRDeERRVUZyUW1Fc1QwRkJiRUk3UVVGRGRrSXNZVUZCUzJJc1dVRkJUQ3hIUVVGdlFpeEpRVUZKWlN4alFVRkpVeXhYUVVGU0xFTkJRVzlDYWtNc1UwRkJVekJDTEUxQlFUZENMRVZCUVhGRFppeExRVUZ5UXl4RlFVRTBRME1zVFVGQk5VTXNSVUZCYjBSTkxFbEJRWEJFTEVOQlFYQkNPenRCUVVWQkxHRkJRVXRuUWl4VFFVRk1MRWRCUVdsQ0xFdEJRV3BDT3p0QlFVVkJMR0ZCUVV0RExFMUJRVXdzUjBGQll5eEpRVUZrTzBGQlEwRXNZVUZCUzBNc1NVRkJUQ3hEUVVGVkxFMUJRVlk3UVVGRFNDeExRV3BFZDBJN1FVRnRSSHBDUXl4alFXNUVlVUlzYzBKQmJVUmtNVUlzUzBGdVJHTXNSVUZ0UkZCRExFMUJia1JQTEVWQmJVUkRPMEZCUTNSQ0xHRkJRVXRFTEV0QlFVd3NSMEZCWVVjc1MwRkJTME1zUzBGQlRDeERRVUZYU2l4VFFVRlRVQ3hIUVVGSFdTeFhRVUZJTEVOQlFXVk1MRXRCUVc1RExFTkJRV0k3UVVGRFFTeGhRVUZMUXl4TlFVRk1MRWRCUVdORkxFdEJRVXRETEV0QlFVd3NRMEZCVjBnc1ZVRkJWVklzUjBGQlIxa3NWMEZCU0N4RFFVRmxTaXhOUVVGd1F5eERRVUZrTzBGQlEwRXNZVUZCUzBzc2RVSkJRVXc3TzBGQlJVRXNXVUZCU1hGQ0xFMUJRVTBzUzBGQlMycENMRzFDUVVGbU8wRkJRMEVzV1VGQlNXbENMRWRCUVVvc1JVRkJVMEVzU1VGQlNVTXNUVUZCU2l4RFFVRlhMRXRCUVVzMVFpeExRVUZvUWl4RlFVRjFRaXhMUVVGTFF5eE5RVUUxUWp0QlFVTlVMR0ZCUVV0SUxGbEJRVXdzUTBGQmEwSXJRaXhOUVVGc1FpeEhRVUV5UWpkQ0xFdEJRVE5DTzBGQlEwRXNZVUZCUzBZc1dVRkJUQ3hEUVVGclFtZERMRTlCUVd4Q0xFZEJRVFJDTjBJc1RVRkJOVUk3UVVGRFNDeExRVFZFZDBJN096dEJRVGhFZWtJN096czdPenM3UVVGUFFUaENMR2xDUVhKRmVVSXNlVUpCY1VWV1F5eFBRWEpGVlN4RlFYRkZSRU1zUTBGeVJVTXNSVUZ4UlVWRExFTkJja1ZHTEVWQmNVVkxPMEZCUXpGQ0xGbEJRVWtzUTBGQlEwWXNVVUZCVVVjc1RVRkJZaXhGUVVGeFFqczdRVUZGY2tJc1lVRkJTekZDTEZGQlFVd3NRMEZCWXpKQ0xHTkJRV1FzUTBGQk5rSTdRVUZEZWtKSUxHZENRVVI1UWl4RlFVTjBRa01zU1VGRWMwSTdRVUZGZWtKSExHMUNRVUZQVEN4UlFVRlJSeXhOUVVaVk8wRkJSM3BDYmtNc2JVSkJRVTluUXl4UlFVRlJhRU1zUzBGSVZUdEJRVWw2UWtNc2IwSkJRVkVyUWl4UlFVRlJMMElzVFVGS1V6dEJRVXQ2UW5GRExHMUNRVUZQTEVOQlRHdENPMEZCVFhwQ1F5eHRRa0ZCVHl4TFFVNXJRanRCUVU5NlFrTXNPRUpCUVd0Q1VpeFJRVUZSVXp0QlFWQkVMRk5CUVRkQ08wRkJVMGdzUzBGcVJuZENPenM3UVVGdFJucENPenM3T3pzN096czdPenM3T3pzN096czdRVUZyUWtGRExHTkJja2Q1UWl4elFrRnhSMkpETEVsQmNrZGhMRVZCY1VkUVZpeERRWEpIVHl4RlFYRkhTa01zUTBGeVIwa3NSVUZ4UjBSVkxFTkJja2RETEVWQmNVZEZReXhEUVhKSFJpeEZRWEZIU3p0QlFVTXhRaXhaUVVGSkxFTkJRVU1zUzBGQlN5OURMRmxCUVU0c1NVRkJjMElzUTBGQlF5eExRVUZMVnl4UlFVRm9ReXhGUVVFd1F5eFBRVUZQYTBNc1NVRkJVRHM3UVVGRk1VTldMRmxCUVVsQkxFdEJRVXNzUTBGQlZEdEJRVU5CUXl4WlFVRkpRU3hMUVVGTExFTkJRVlE3UVVGRFFTeFpRVUZKYkVNc1VVRkJVVFJETEV0QlFVc3NTMEZCU3pWRExFdEJRWFJDTzBGQlEwRXNXVUZCU1VNc1UwRkJVelJETEV0QlFVc3NTMEZCU3pWRExFMUJRWFpDTzBGQlEwRXdReXhsUVVGUFFTeFJRVUZUTEVsQlFVbEhMRlZCUVVvc1EwRkJaVGxETEZGQlFWRkRMRTFCUVZJc1IwRkJhVUlzUTBGQmFFTXNRMEZCYUVJN08wRkJSVUVzV1VGQlNUaERMRXRCUVV0MFJDeEhRVUZIZFVRc1NVRkJTQ3hEUVVGUlF5eGpRVUZxUWp0QlFVTkJMRmxCUVVsRExGTkJRVk5JTEVkQlFVZEpMRmxCUVVnc1EwRkJaMEpLTEVkQlFVZExMRzFDUVVGdVFpeERRVUZpTzBGQlEwRk1MRmRCUVVkTkxHVkJRVWdzUTBGQmJVSk9MRWRCUVVkUExGZEJRWFJDTEVWQlFXMURMRXRCUVV0NFJDeFpRVUZNTEVOQlFXdENlVVFzVTBGQmJFSXNSVUZCYmtNN1FVRkRRVklzVjBGQlIwd3NWVUZCU0N4RFFVRmpWQ3hEUVVGa0xFVkJRV2xDUXl4RFFVRnFRaXhGUVVGdlFteERMRXRCUVhCQ0xFVkJRVEpDUXl4TlFVRXpRaXhGUVVGdFF6aERMRWRCUVVkVExFbEJRWFJETEVWQlFUUkRWQ3hIUVVGSFZTeGhRVUV2UXl4RlFVRTRSR1FzU1VGQk9VUTdRVUZEUVVrc1YwRkJSMDBzWlVGQlNDeERRVUZ0UWs0c1IwRkJSMDhzVjBGQmRFSXNSVUZCYlVOS0xFMUJRVzVET3p0QlFVVkJMR1ZCUVU5UUxFbEJRVkE3UVVGRFNDeExRWEpJZDBJN1FVRjFTSHBDYUVNc1YwRjJTSGxDTEhGQ1FYVklaRHRCUVVOUUxHRkJRVXNyUXl4TlFVRk1PMEZCUTBFc1dVRkJTU3hMUVVGTE5VUXNXVUZCVkN4RlFVRjFRanRCUVVOdVFpeHBRa0ZCUzBFc1dVRkJUQ3hEUVVGclFtRXNUMEZCYkVJN1FVRkRRU3hwUWtGQlMySXNXVUZCVEN4SFFVRnZRaXhKUVVGd1FqdEJRVU5JTzBGQlEwbzdRVUUzU0hkQ0xFTkJRVlFzUTBGQmNFSTdPMEZCWjBsQlRDeEhRVUZIUkN4aFFVRklMRWRCUVcxQ2JVVXNUMEZCVDBNc1QwRkJVQ3hIUVVGcFFuQkZMR0ZCUVhCRElpd2labWxzWlNJNklrTkRVbVZ1WkdWeVZHVjRkSFZ5WlM1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbU52Ym5OMElISmxibVJsY21WeUlEMGdjbVZ4ZFdseVpTZ25MaTR2Y21WdVpHVnlaWEluS1R0Y2JtTnZibk4wSUZSbGVIUjFjbVV5UkNBOUlISmxjWFZwY21Vb0p5NHZRME5VWlhoMGRYSmxNa1FuS1R0Y2JseHVhVzF3YjNKMElHZG1lQ0JtY205dElDY3VMaTh1TGk5eVpXNWtaWEpsY2k5blpuZ25PMXh1WEc0dktpcGNiaUFxSUZKbGJtUmxjaUIwWlhoMGRYSmxjeUJoY21VZ2RHVjRkSFZ5WlhNZ2RHaGhkQ0JqWVc0Z1ltVWdjbVZ1WkdWeVpXUWdkRzh1WEc0Z0tpQkFZMnhoYzNNZ1VtVnVaR1Z5VkdWNGRIVnlaVnh1SUNvZ1FHVjRkR1Z1WkhNZ1ZHVjRkSFZ5WlRKRVhHNGdLaTljYm14bGRDQlNaVzVrWlhKVVpYaDBkWEpsSUQwZ1kyTXVRMnhoYzNNb2UxeHVJQ0FnSUc1aGJXVTZJQ2RqWXk1U1pXNWtaWEpVWlhoMGRYSmxKeXhjYmlBZ0lDQmxlSFJsYm1Sek9pQlVaWGgwZFhKbE1rUXNYRzVjYmlBZ0lDQmpkRzl5SUNncElIdGNiaUFnSUNBZ0lDQWdkR2hwY3k1ZlpuSmhiV1ZpZFdabVpYSWdQU0J1ZFd4c08xeHVJQ0FnSUgwc1hHNWNiaUFnSUNBdktpcGNiaUFnSUNBZ0tpQWhJMlZ1WEc0Z0lDQWdJQ29nU1c1cGRDQjBhR1VnY21WdVpHVnlJSFJsZUhSMWNtVWdkMmwwYUNCemFYcGxMbHh1SUNBZ0lDQXFJQ0VqZW1oY2JpQWdJQ0FnS2lEbGlKM2xwNHZsakpZZ2NtVnVaR1Z5SUhSbGVIUjFjbVVnWEc0Z0lDQWdJQ29nUUhCaGNtRnRJSHRPZFcxaVpYSjlJRnQzYVdSMGFGMGdYRzRnSUNBZ0lDb2dRSEJoY21GdElIdE9kVzFpWlhKOUlGdG9aV2xuYUhSZFhHNGdJQ0FnSUNvZ1FIQmhjbUZ0SUh0T2RXMWlaWEo5SUZ0a1pYQjBhRk4wWlc1amFXeEdiM0p0WVhSZFhHNGdJQ0FnSUNvZ1FHMWxkR2h2WkNCcGJtbDBWMmwwYUZOcGVtVmNiaUFnSUNBZ0tpOWNiaUFnSUNCcGJtbDBWMmwwYUZOcGVtVWdLSGRwWkhSb0xDQm9aV2xuYUhRc0lHUmxjSFJvVTNSbGJtTnBiRVp2Y20xaGRDa2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxuZHBaSFJvSUQwZ1RXRjBhQzVtYkc5dmNpaDNhV1IwYUNCOGZDQmpZeTUyYVhOcFlteGxVbVZqZEM1M2FXUjBhQ2s3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVhR1ZwWjJoMElEMGdUV0YwYUM1bWJHOXZjaWhvWldsbmFIUWdmSHdnWTJNdWRtbHphV0pzWlZKbFkzUXVhR1ZwWjJoMEtUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1ZmNtVnpaWFJWYm1SbGNteDVhVzVuVFdsd2JXRndjeWdwTzF4dUlDQWdJQ0FnSUNCY2JpQWdJQ0FnSUNBZ2JHVjBJRzl3ZEhNZ1BTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCamIyeHZjbk02SUZzZ2RHaHBjeTVmZEdWNGRIVnlaU0JkTEZ4dUlDQWdJQ0FnSUNCOU8xeHVYRzRnSUNBZ0lDQWdJR2xtSUNoMGFHbHpMbDlrWlhCMGFGTjBaVzVqYVd4Q2RXWm1aWElwSUhSb2FYTXVYMlJsY0hSb1UzUmxibU5wYkVKMVptWmxjaTVrWlhOMGNtOTVLQ2s3WEc0Z0lDQWdJQ0FnSUd4bGRDQmtaWEIwYUZOMFpXNWphV3hDZFdabVpYSTdYRzRnSUNBZ0lDQWdJR2xtSUNoa1pYQjBhRk4wWlc1amFXeEdiM0p0WVhRcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdSbGNIUm9VM1JsYm1OcGJFSjFabVpsY2lBOUlHNWxkeUJuWm5ndVVtVnVaR1Z5UW5WbVptVnlLSEpsYm1SbGNtVnlMbVJsZG1salpTd2daR1Z3ZEdoVGRHVnVZMmxzUm05eWJXRjBMQ0IzYVdSMGFDd2dhR1ZwWjJoMEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaGtaWEIwYUZOMFpXNWphV3hHYjNKdFlYUWdQVDA5SUdkbWVDNVNRbDlHVFZSZlJESTBVemdwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCdmNIUnpMbVJsY0hSb1UzUmxibU5wYkNBOUlHUmxjSFJvVTNSbGJtTnBiRUoxWm1abGNqdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQWdJR1ZzYzJVZ2FXWWdLR1JsY0hSb1UzUmxibU5wYkVadmNtMWhkQ0E5UFQwZ1oyWjRMbEpDWDBaTlZGOVRPQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUc5d2RITXVjM1JsYm1OcGJDQTlJR1JsY0hSb1UzUmxibU5wYkVKMVptWmxjanRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUdWc2MyVWdhV1lnS0dSbGNIUm9VM1JsYm1OcGJFWnZjbTFoZENBOVBUMGdaMlo0TGxKQ1gwWk5WRjlFTVRZcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnZjSFJ6TG1SbGNIUm9JRDBnWkdWd2RHaFRkR1Z1WTJsc1FuVm1abVZ5TzF4dUlDQWdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUhSb2FYTXVYMlJsY0hSb1UzUmxibU5wYkVKMVptWmxjaUE5SUdSbGNIUm9VM1JsYm1OcGJFSjFabVpsY2p0Y2JpQWdJQ0FnSUNBZ2FXWWdLSFJvYVhNdVgyWnlZVzFsWW5WbVptVnlLU0IwYUdsekxsOW1jbUZ0WldKMVptWmxjaTVrWlhOMGNtOTVLQ2s3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVYMlp5WVcxbFluVm1abVZ5SUQwZ2JtVjNJR2RtZUM1R2NtRnRaVUoxWm1abGNpaHlaVzVrWlhKbGNpNWtaWFpwWTJVc0lIZHBaSFJvTENCb1pXbG5hSFFzSUc5d2RITXBPMXh1WEc0Z0lDQWdJQ0FnSUhSb2FYTXVYM0JoWTJ0aFlteGxJRDBnWm1Gc2MyVTdYRzRnSUNBZ0lDQWdJRnh1SUNBZ0lDQWdJQ0IwYUdsekxteHZZV1JsWkNBOUlIUnlkV1U3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVaVzFwZENoY0lteHZZV1JjSWlrN1hHNGdJQ0FnZlN4Y2JseHVJQ0FnSUhWd1pHRjBaVk5wZW1Vb2QybGtkR2dzSUdobGFXZG9kQ2tnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMbmRwWkhSb0lEMGdUV0YwYUM1bWJHOXZjaWgzYVdSMGFDQjhmQ0JqWXk1MmFYTnBZbXhsVW1WamRDNTNhV1IwYUNrN1hHNGdJQ0FnSUNBZ0lIUm9hWE11YUdWcFoyaDBJRDBnVFdGMGFDNW1iRzl2Y2lob1pXbG5hSFFnZkh3Z1kyTXVkbWx6YVdKc1pWSmxZM1F1YUdWcFoyaDBLVHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWZjbVZ6WlhSVmJtUmxjbXg1YVc1blRXbHdiV0Z3Y3lncE8xeHVYRzRnSUNBZ0lDQWdJR3hsZENCeVltOGdQU0IwYUdsekxsOWtaWEIwYUZOMFpXNWphV3hDZFdabVpYSTdYRzRnSUNBZ0lDQWdJR2xtSUNoeVltOHBJSEppYnk1MWNHUmhkR1VvZEdocGN5NTNhV1IwYUN3Z2RHaHBjeTVvWldsbmFIUXBPMXh1SUNBZ0lDQWdJQ0IwYUdsekxsOW1jbUZ0WldKMVptWmxjaTVmZDJsa2RHZ2dQU0IzYVdSMGFEdGNiaUFnSUNBZ0lDQWdkR2hwY3k1ZlpuSmhiV1ZpZFdabVpYSXVYMmhsYVdkb2RDQTlJR2hsYVdkb2REdGNiaUFnSUNCOUxGeHVYRzRnSUNBZ0x5b3FYRzRnSUNBZ0lDb2dJU05sYmlCRWNtRjNJR0VnZEdWNGRIVnlaU0IwYnlCMGFHVWdjM0JsWTJsbWFXVmtJSEJ2YzJsMGFXOXVYRzRnSUNBZ0lDb2dJU042YUNEbHNJYm1qSWZscnBybm1vVGxtNzduaVlmbXVMTG1uNVBsaUxEbWpJZmxycHJubW9Ua3ZZM252YTdrdUlwY2JpQWdJQ0FnS2lCQWNHRnlZVzBnZTFSbGVIUjFjbVV5UkgwZ2RHVjRkSFZ5WlNCY2JpQWdJQ0FnS2lCQWNHRnlZVzBnZTA1MWJXSmxjbjBnZUNCY2JpQWdJQ0FnS2lCQWNHRnlZVzBnZTA1MWJXSmxjbjBnZVNCY2JpQWdJQ0FnS2k5Y2JpQWdJQ0JrY21GM1ZHVjRkSFZ5WlVGMElDaDBaWGgwZFhKbExDQjRMQ0I1S1NCN1hHNGdJQ0FnSUNBZ0lHbG1JQ2doZEdWNGRIVnlaUzVmYVcxaFoyVXBJSEpsZEhWeWJqdGNibHh1SUNBZ0lDQWdJQ0IwYUdsekxsOTBaWGgwZFhKbExuVndaR0YwWlZOMVlrbHRZV2RsS0h0Y2JpQWdJQ0FnSUNBZ0lDQWdJSGdzSUhrc1hHNGdJQ0FnSUNBZ0lDQWdJQ0JwYldGblpUb2dkR1Y0ZEhWeVpTNWZhVzFoWjJVc1hHNGdJQ0FnSUNBZ0lDQWdJQ0IzYVdSMGFEb2dkR1Y0ZEhWeVpTNTNhV1IwYUN4Y2JpQWdJQ0FnSUNBZ0lDQWdJR2hsYVdkb2REb2dkR1Y0ZEhWeVpTNW9aV2xuYUhRc1hHNGdJQ0FnSUNBZ0lDQWdJQ0JzWlhabGJEb2dNQ3hjYmlBZ0lDQWdJQ0FnSUNBZ0lHWnNhWEJaT2lCbVlXeHpaU3hjYmlBZ0lDQWdJQ0FnSUNBZ0lIQnlaVzExYkhScGNHeDVRV3h3YUdFNklIUmxlSFIxY21VdVgzQnlaVzExYkhScGNHeDVRV3h3YUdGY2JpQWdJQ0FnSUNBZ2ZTbGNiaUFnSUNCOUxGeHVYRzRnSUNBZ0x5b3FYRzRnSUNBZ0lDb2dJU05sYmx4dUlDQWdJQ0FxSUVkbGRDQndhWGhsYkhNZ1puSnZiU0J5Wlc1a1pYSWdkR1Y0ZEhWeVpTd2dkR2hsSUhCcGVHVnNjeUJrWVhSaElITjBiM0psY3lCcGJpQmhJRkpIUWtFZ1ZXbHVkRGhCY25KaGVTNWNiaUFnSUNBZ0tpQkpkQ0IzYVd4c0lISmxkSFZ5YmlCaElHNWxkeUFvZDJsa2RHZ2dLaUJvWldsbmFIUWdLaUEwS1NCc1pXNW5kR2dnVldsdWREaEJjbkpoZVNCaWVTQmtaV1poZFd4MDQ0Q0NYRzRnSUNBZ0lDb2dXVzkxSUdOaGJpQnpjR1ZqYVdaNUlHRWdaR0YwWVNCMGJ5QnpkRzl5WlNCMGFHVWdjR2w0Wld4eklIUnZJSEpsZFhObElIUm9aU0JrWVhSaExDQmNiaUFnSUNBZ0tpQjViM1VnWVc1a0lHTmhiaUJ6Y0dWamFXWjVJRzkwYUdWeUlIQmhjbUZ0Y3lCMGJ5QnpjR1ZqYVdaNUlIUm9aU0IwWlhoMGRYSmxJSEpsWjJsdmJpQjBieUJ5WldGa0xseHVJQ0FnSUNBcUlDRWplbWhjYmlBZ0lDQWdLaURrdTQ0Z2NtVnVaR1Z5SUhSbGVIUjFjbVVnNksrNzVZK1c1WU9QNTdTZzVwV3c1bzJ1Nzd5TTVwV3c1bzJ1NTdHNzVaNkw1TGk2SUZKSFFrRWc1cUM4NWJ5UDU1cUVJRlZwYm5RNFFYSnlZWGtnNXBXdzU3dUU0NENDWEc0Z0lDQWdJQ29nNmJ1WTZLNms1cStQNXF5aDZMQ0Q1NVNvNXEyazVZZTk1cFd3NUx5YTU1U2Y1b2lRNUxpQTVMaXE1YVNuNWJDUDVMaTZJTys4aU9tVnZ5QjRJT21ybUNCNElEVHZ2SWtnNTVxRUlGVnBiblE0UVhKeVlYbmpnSUpjYmlBZ0lDQWdLaURrdmFEbGo2L2t1NlhwZ0pyb3Y0Zmt2S0RsaGFVZ1pHRjBZU0RtbmFYbWpxWG1sTGJsZzQvbnRLRG1sYkRtamE3dnZJemt1Wi9sajYva3U2WHBnSnJvdjRma3ZLRGxqNExtbmFYbWpJZmxycHJwbklEb3BvSG9yN3ZsajVibm1vVGxqTHJsbjUvbm1vVGxnNC9udEtEamdJSmNiaUFnSUNBZ0tpQkFiV1YwYUc5a0lISmxZV1JRYVhobGJITmNiaUFnSUNBZ0tpQkFjR0Z5WVcwZ2UxVnBiblE0UVhKeVlYbDlJRnRrWVhSaFhWeHVJQ0FnSUNBcUlFQndZWEpoYlNCN1RuVnRZbVZ5ZlNCYmVGMGdYRzRnSUNBZ0lDb2dRSEJoY21GdElIdE9kVzFpWlhKOUlGdDVYU0JjYmlBZ0lDQWdLaUJBY0dGeVlXMGdlMDUxYldKbGNuMGdXM2RkSUZ4dUlDQWdJQ0FxSUVCd1lYSmhiU0I3VG5WdFltVnlmU0JiYUYwZ1hHNGdJQ0FnSUNvZ1FISmxkSFZ5YmlCN1ZXbHVkRGhCY25KaGVYMWNiaUFnSUNBZ0tpOWNiaUFnSUNCeVpXRmtVR2w0Wld4eklDaGtZWFJoTENCNExDQjVMQ0IzTENCb0tTQjdYRzRnSUNBZ0lDQWdJR2xtSUNnaGRHaHBjeTVmWm5KaGJXVmlkV1ptWlhJZ2ZId2dJWFJvYVhNdVgzUmxlSFIxY21VcElISmxkSFZ5YmlCa1lYUmhPMXh1WEc0Z0lDQWdJQ0FnSUhnZ1BTQjRJSHg4SURBN1hHNGdJQ0FnSUNBZ0lIa2dQU0I1SUh4OElEQTdYRzRnSUNBZ0lDQWdJR3hsZENCM2FXUjBhQ0E5SUhjZ2ZId2dkR2hwY3k1M2FXUjBhRHRjYmlBZ0lDQWdJQ0FnYkdWMElHaGxhV2RvZENBOUlHZ2dmSHdnZEdocGN5NW9aV2xuYUhSY2JpQWdJQ0FnSUNBZ1pHRjBZU0E5SUdSaGRHRWdJSHg4SUc1bGR5QlZhVzUwT0VGeWNtRjVLSGRwWkhSb0lDb2dhR1ZwWjJoMElDb2dOQ2s3WEc1Y2JpQWdJQ0FnSUNBZ2JHVjBJR2RzSUQwZ1kyTXVaMkZ0WlM1ZmNtVnVaR1Z5UTI5dWRHVjRkRHRjYmlBZ0lDQWdJQ0FnYkdWMElHOXNaRVpDVHlBOUlHZHNMbWRsZEZCaGNtRnRaWFJsY2lobmJDNUdVa0ZOUlVKVlJrWkZVbDlDU1U1RVNVNUhLVHRjYmlBZ0lDQWdJQ0FnWjJ3dVltbHVaRVp5WVcxbFluVm1abVZ5S0dkc0xrWlNRVTFGUWxWR1JrVlNMQ0IwYUdsekxsOW1jbUZ0WldKMVptWmxjaTVuWlhSSVlXNWtiR1VvS1NrN1hHNGdJQ0FnSUNBZ0lHZHNMbkpsWVdSUWFYaGxiSE1vZUN3Z2VTd2dkMmxrZEdnc0lHaGxhV2RvZEN3Z1oyd3VVa2RDUVN3Z1oyd3VWVTVUU1VkT1JVUmZRbGxVUlN3Z1pHRjBZU2s3WEc0Z0lDQWdJQ0FnSUdkc0xtSnBibVJHY21GdFpXSjFabVpsY2lobmJDNUdVa0ZOUlVKVlJrWkZVaXdnYjJ4a1JrSlBLVHRjYmx4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnWkdGMFlUdGNiaUFnSUNCOUxGeHVYRzRnSUNBZ1pHVnpkSEp2ZVNBb0tTQjdYRzRnSUNBZ0lDQWdJSFJvYVhNdVgzTjFjR1Z5S0NrN1hHNGdJQ0FnSUNBZ0lHbG1JQ2gwYUdsekxsOW1jbUZ0WldKMVptWmxjaWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1ZlpuSmhiV1ZpZFdabVpYSXVaR1Z6ZEhKdmVTZ3BPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVmWm5KaGJXVmlkV1ptWlhJZ1BTQnVkV3hzTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnZlZ4dWZTazdYRzVjYm1OakxsSmxibVJsY2xSbGVIUjFjbVVnUFNCdGIyUjFiR1V1Wlhod2IzSjBjeUE5SUZKbGJtUmxjbFJsZUhSMWNtVTdYRzRpWFgwPSJdfQ==