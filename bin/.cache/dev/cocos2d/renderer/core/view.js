(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/renderer/core/view.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.default = undefined;
        var _createClass = function () {
            function defineProperties(target, props) {
                for (var i = 0; i < props.length; i++) {
                    var descriptor = props[i];
                    descriptor.enumerable = descriptor.enumerable || false;
                    descriptor.configurable = true;
                    if ('value' in descriptor)
                        descriptor.writable = true;
                    Object.defineProperty(target, descriptor.key, descriptor);
                }
            }
            return function (Constructor, protoProps, staticProps) {
                if (protoProps)
                    defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                    defineProperties(Constructor, staticProps);
                return Constructor;
            };
        }();
        var _vmath = require('../../core/vmath');
        var _enums = require('../enums');
        var _enums2 = _interopRequireDefault(_enums);
        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
        }
        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError('Cannot call a class as a function');
            }
        }
        var _m4_tmp = _vmath.mat4.create();
        var _genID = 0;
        var View = function () {
            function View() {
                _classCallCheck(this, View);
                this._id = _genID++;
                this._priority = 0;
                this._rect = {
                    x: 0,
                    y: 0,
                    w: 1,
                    h: 1
                };
                this._color = _vmath.color4.create(0.3, 0.3, 0.3, 1);
                this._depth = 1;
                this._stencil = 0;
                this._clearFlags = _enums2.default.CLEAR_COLOR | _enums2.default.CLEAR_DEPTH;
                this._clearModel = null;
                this._matView = _vmath.mat4.create();
                this._matProj = _vmath.mat4.create();
                this._matViewProj = _vmath.mat4.create();
                this._matInvViewProj = _vmath.mat4.create();
                this._stages = [];
                this._cullingByID = false;
                this._framebuffer = null;
                this._shadowLight = null;
                this._cullingMask = 4294967295;
            }
            _createClass(View, [
                {
                    key: 'getForward',
                    value: function getForward(out) {
                        var m = this._matView.m;
                        return _vmath.vec3.set(out, -m[2], -m[6], -m[10]);
                    }
                },
                {
                    key: 'getPosition',
                    value: function getPosition(out) {
                        _vmath.mat4.invert(_m4_tmp, this._matView);
                        return _vmath.mat4.getTranslation(out, _m4_tmp);
                    }
                }
            ]);
            return View;
        }();
        exports.default = View;
        module.exports = exports['default'];
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXcuanMiLCIvVXNlcnMvU2hhcmVkL2JpbmdvX2ZyZW56eS9lbmdpbmUvY29jb3MyZC9yZW5kZXJlci9jb3JlL3ZpZXcuanMiXSwibmFtZXMiOlsiX200X3RtcCIsIm1hdDQiLCJjcmVhdGUiLCJfZ2VuSUQiLCJWaWV3IiwiX2lkIiwiX3ByaW9yaXR5IiwiX3JlY3QiLCJ4IiwieSIsInciLCJoIiwiX2NvbG9yIiwiY29sb3I0IiwiX2RlcHRoIiwiX3N0ZW5jaWwiLCJfY2xlYXJGbGFncyIsImVudW1zIiwiQ0xFQVJfQ09MT1IiLCJDTEVBUl9ERVBUSCIsIl9jbGVhck1vZGVsIiwiX21hdFZpZXciLCJfbWF0UHJvaiIsIl9tYXRWaWV3UHJvaiIsIl9tYXRJbnZWaWV3UHJvaiIsIl9zdGFnZXMiLCJfY3VsbGluZ0J5SUQiLCJfZnJhbWVidWZmZXIiLCJfc2hhZG93TGlnaHQiLCJfY3VsbGluZ01hc2siLCJvdXQiLCJtIiwidmVjMyIsInNldCIsImludmVydCIsImdldFRyYW5zbGF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O1FBR0EsSUFBQSxDQUFBLE9BQUEsRUFBQTtBQUFBLFlBQUEsaUJBQUEsQ0FBQSxjQUFBLENBQUEsVUFBQSxFQUFBLE1BQUEsRUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztRQURBLElBQUEsTUFBQSxHQUFBLE9BQUEsQ0FBQSxrQkFBQSxDQUFBO1FBQ0EsSUFBQSxNQUFBLEdBQUEsT0FBQSxDQUFBLFVBQUEsQ0FBQTs7Ozs7Ozs7OztRQUVBLElBQUlBLE9BQUFBLEdBQVVDLE1BQUFBLENBQUFBLElBQUFBLENBQUtDLE1BQUxELEVBQWQ7UUFDQSxJQUFJRSxNQUFBQSxHQUFTLENBQWI7WUFLcUJDLElBQUFBO1lBSW5CLFNBQUEsSUFBQSxHQUFjO0FBQUEsZ0JBQUEsZUFBQSxDQUFBLElBQUEsRUFBQSxJQUFBLEVBQUE7QUFBQSxnQkFDWixLQUFLQyxHQUFMLEdBQVdGLE1BQUFBLEVBQVgsQ0FEWTtBQUFBLGdCQUlaLEtBQUtHLFNBQUwsR0FBaUIsQ0FBakIsQ0FKWTtBQUFBLGdCQU9aLEtBQUtDLEtBQUwsR0FBYTtBQUFBLG9CQUNYQyxDQUFBQSxFQUFHLENBRFE7QUFBQSxvQkFDTEMsQ0FBQUEsRUFBRyxDQURFO0FBQUEsb0JBQ0NDLENBQUFBLEVBQUcsQ0FESjtBQUFBLG9CQUNPQyxDQUFBQSxFQUFHLENBRFY7QUFBQSxpQkFBYixDQVBZO0FBQUEsZ0JBaUJaLEtBQUtDLE1BQUwsR0FBY0MsTUFBQUEsQ0FBQUEsTUFBQUEsQ0FBT1gsTUFBUFcsQ0FBYyxHQUFkQSxFQUFtQixHQUFuQkEsRUFBd0IsR0FBeEJBLEVBQTZCLENBQTdCQSxDQUFkLENBakJZO0FBQUEsZ0JBa0JaLEtBQUtDLE1BQUwsR0FBYyxDQUFkLENBbEJZO0FBQUEsZ0JBbUJaLEtBQUtDLFFBQUwsR0FBZ0IsQ0FBaEIsQ0FuQlk7QUFBQSxnQkFvQlosS0FBS0MsV0FBTCxHQUFtQkMsT0FBQUEsQ0FBQUEsT0FBQUEsQ0FBTUMsV0FBTkQsR0FBb0JBLE9BQUFBLENBQUFBLE9BQUFBLENBQU1FLFdBQTdDLENBcEJZO0FBQUEsZ0JBcUJaLEtBQUtDLFdBQUwsR0FBbUIsSUFBbkIsQ0FyQlk7QUFBQSxnQkF3QlosS0FBS0MsUUFBTCxHQUFnQnBCLE1BQUFBLENBQUFBLElBQUFBLENBQUtDLE1BQUxELEVBQWhCLENBeEJZO0FBQUEsZ0JBeUJaLEtBQUtxQixRQUFMLEdBQWdCckIsTUFBQUEsQ0FBQUEsSUFBQUEsQ0FBS0MsTUFBTEQsRUFBaEIsQ0F6Qlk7QUFBQSxnQkEwQlosS0FBS3NCLFlBQUwsR0FBb0J0QixNQUFBQSxDQUFBQSxJQUFBQSxDQUFLQyxNQUFMRCxFQUFwQixDQTFCWTtBQUFBLGdCQTJCWixLQUFLdUIsZUFBTCxHQUF1QnZCLE1BQUFBLENBQUFBLElBQUFBLENBQUtDLE1BQUxELEVBQXZCLENBM0JZO0FBQUEsZ0JBOEJaLEtBQUt3QixPQUFMLEdBQWUsRUFBZixDQTlCWTtBQUFBLGdCQStCWixLQUFLQyxZQUFMLEdBQW9CLEtBQXBCLENBL0JZO0FBQUEsZ0JBZ0NaLEtBQUtDLFlBQUwsR0FBb0IsSUFBcEIsQ0FoQ1k7QUFBQSxnQkFrQ1osS0FBS0MsWUFBTCxHQUFvQixJQUFwQixDQWxDWTtBQUFBLGdCQW9DWixLQUFLQyxZQUFMLEdBQW9CLFVBQXBCLENBcENZO0FBQUE7Ozs7K0NBNENIQyxLQUFLO0FBQUEsd0JBQ2QsSUFBSUMsQ0FBQUEsR0FBSSxLQUFLVixRQUFMLENBQWNVLENBQXRCLENBRGM7QUFBQSx3QkFFZCxPQUFPQyxNQUFBQSxDQUFBQSxJQUFBQSxDQUFLQyxHQUFMRCxDQUNMRixHQURLRSxFQUVMLENBQUNELENBQUFBLENBQUUsQ0FBRkEsQ0FGSUMsRUFHTCxDQUFDRCxDQUFBQSxDQUFFLENBQUZBLENBSElDLEVBSUwsQ0FBQ0QsQ0FBQUEsQ0FBRSxFQUFGQSxDQUpJQyxDQUFQLENBRmM7QUFBQTs7OztnREFlSkYsS0FBSztBQUFBLHdCQUNmN0IsTUFBQUEsQ0FBQUEsSUFBQUEsQ0FBS2lDLE1BQUxqQyxDQUFZRCxPQUFaQyxFQUFxQixLQUFLb0IsUUFBMUJwQixFQURlO0FBQUEsd0JBRWYsT0FBT0EsTUFBQUEsQ0FBQUEsSUFBQUEsQ0FBS2tDLGNBQUxsQyxDQUFvQjZCLEdBQXBCN0IsRUFBeUJELE9BQXpCQyxDQUFQLENBRmU7QUFBQTs7Ozs7MEJBL0RFRyIsImZpbGUiOiJ2aWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbmltcG9ydCB7IHZlYzMsIGNvbG9yNCwgbWF0NCB9IGZyb20gJy4uLy4uL2NvcmUvdm1hdGgnO1xuaW1wb3J0IGVudW1zIGZyb20gJy4uL2VudW1zJztcblxubGV0IF9tNF90bXAgPSBtYXQ0LmNyZWF0ZSgpO1xubGV0IF9nZW5JRCA9IDA7XG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBjYW1lcmEgdmlld1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcbiAgLyoqXG4gICAqIFNldHVwIGEgZGVmYXVsdCB2aWV3XG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pZCA9IF9nZW5JRCsrO1xuXG4gICAgLy8gcHJpb3JpdHkuIHRoZSBzbWFsbGVyIG9uZSB3aWxsIGJlIHJlbmRlcmVkIGZpcnN0XG4gICAgdGhpcy5fcHJpb3JpdHkgPSAwO1xuXG4gICAgLy8gdmlld3BvcnRcbiAgICB0aGlzLl9yZWN0ID0ge1xuICAgICAgeDogMCwgeTogMCwgdzogMSwgaDogMVxuICAgIH07XG5cbiAgICAvLyBUT0RPOlxuICAgIC8vIHRoaXMuX3NjaXNzb3IgPSB7XG4gICAgLy8gICB4OiAwLCB5OiAwLCB3OiAxLCBoOiAxXG4gICAgLy8gfTtcblxuICAgIC8vIGNsZWFyIG9wdGlvbnNcbiAgICB0aGlzLl9jb2xvciA9IGNvbG9yNC5jcmVhdGUoMC4zLCAwLjMsIDAuMywgMSk7XG4gICAgdGhpcy5fZGVwdGggPSAxO1xuICAgIHRoaXMuX3N0ZW5jaWwgPSAwO1xuICAgIHRoaXMuX2NsZWFyRmxhZ3MgPSBlbnVtcy5DTEVBUl9DT0xPUiB8IGVudW1zLkNMRUFSX0RFUFRIO1xuICAgIHRoaXMuX2NsZWFyTW9kZWwgPSBudWxsO1xuXG4gICAgLy8gbWF0cml4XG4gICAgdGhpcy5fbWF0VmlldyA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fbWF0UHJvaiA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fbWF0Vmlld1Byb2ogPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIHRoaXMuX21hdEludlZpZXdQcm9qID0gbWF0NC5jcmVhdGUoKTtcblxuICAgIC8vIHN0YWdlcyAmIGZyYW1lYnVmZmVyXG4gICAgdGhpcy5fc3RhZ2VzID0gW107XG4gICAgdGhpcy5fY3VsbGluZ0J5SUQgPSBmYWxzZTtcbiAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLl9zaGFkb3dMaWdodCA9IG51bGw7IC8vIFRPRE86IHNob3VsZCBub3QgcmVmZXIgbGlnaHQgaW4gdmlldy5cblxuICAgIHRoaXMuX2N1bGxpbmdNYXNrID0gMHhmZmZmZmZmZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcncyBmb3J3YXJkIGRpcmVjdGlvblxuICAgKiBAcGFyYW0ge1ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICAgKiBAcmV0dXJucyB7VmVjM30gdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAgICovXG4gIGdldEZvcndhcmQob3V0KSB7XG4gICAgbGV0IG0gPSB0aGlzLl9tYXRWaWV3Lm07XG4gICAgcmV0dXJuIHZlYzMuc2V0KFxuICAgICAgb3V0LFxuICAgICAgLW1bMl0sXG4gICAgICAtbVs2XSxcbiAgICAgIC1tWzEwXVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2aWV3J3Mgb2JzZXJ2aW5nIGxvY2F0aW9uXG4gICAqIEBwYXJhbSB7VmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gICAqIEByZXR1cm5zIHtWZWMzfSB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICAgKi9cbiAgZ2V0UG9zaXRpb24ob3V0KSB7XG4gICAgbWF0NC5pbnZlcnQoX200X3RtcCwgdGhpcy5fbWF0Vmlldyk7XG4gICAgcmV0dXJuIG1hdDQuZ2V0VHJhbnNsYXRpb24ob3V0LCBfbTRfdG1wKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvLyBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cblxudmFyIF92bWF0aCA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvdm1hdGgnKTtcblxudmFyIF9lbnVtcyA9IHJlcXVpcmUoJy4uL2VudW1zJyk7XG5cbnZhciBfZW51bXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW51bXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgX200X3RtcCA9IF92bWF0aC5tYXQ0LmNyZWF0ZSgpO1xudmFyIF9nZW5JRCA9IDA7XG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBjYW1lcmEgdmlld1xuICovXG5cbnZhciBWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogU2V0dXAgYSBkZWZhdWx0IHZpZXdcbiAgICovXG4gIGZ1bmN0aW9uIFZpZXcoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXcpO1xuXG4gICAgdGhpcy5faWQgPSBfZ2VuSUQrKztcblxuICAgIC8vIHByaW9yaXR5LiB0aGUgc21hbGxlciBvbmUgd2lsbCBiZSByZW5kZXJlZCBmaXJzdFxuICAgIHRoaXMuX3ByaW9yaXR5ID0gMDtcblxuICAgIC8vIHZpZXdwb3J0XG4gICAgdGhpcy5fcmVjdCA9IHtcbiAgICAgIHg6IDAsIHk6IDAsIHc6IDEsIGg6IDFcbiAgICB9O1xuXG4gICAgLy8gVE9ETzpcbiAgICAvLyB0aGlzLl9zY2lzc29yID0ge1xuICAgIC8vICAgeDogMCwgeTogMCwgdzogMSwgaDogMVxuICAgIC8vIH07XG5cbiAgICAvLyBjbGVhciBvcHRpb25zXG4gICAgdGhpcy5fY29sb3IgPSBfdm1hdGguY29sb3I0LmNyZWF0ZSgwLjMsIDAuMywgMC4zLCAxKTtcbiAgICB0aGlzLl9kZXB0aCA9IDE7XG4gICAgdGhpcy5fc3RlbmNpbCA9IDA7XG4gICAgdGhpcy5fY2xlYXJGbGFncyA9IF9lbnVtczIuZGVmYXVsdC5DTEVBUl9DT0xPUiB8IF9lbnVtczIuZGVmYXVsdC5DTEVBUl9ERVBUSDtcbiAgICB0aGlzLl9jbGVhck1vZGVsID0gbnVsbDtcblxuICAgIC8vIG1hdHJpeFxuICAgIHRoaXMuX21hdFZpZXcgPSBfdm1hdGgubWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl9tYXRQcm9qID0gX3ZtYXRoLm1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fbWF0Vmlld1Byb2ogPSBfdm1hdGgubWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl9tYXRJbnZWaWV3UHJvaiA9IF92bWF0aC5tYXQ0LmNyZWF0ZSgpO1xuXG4gICAgLy8gc3RhZ2VzICYgZnJhbWVidWZmZXJcbiAgICB0aGlzLl9zdGFnZXMgPSBbXTtcbiAgICB0aGlzLl9jdWxsaW5nQnlJRCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gbnVsbDtcblxuICAgIHRoaXMuX3NoYWRvd0xpZ2h0ID0gbnVsbDsgLy8gVE9ETzogc2hvdWxkIG5vdCByZWZlciBsaWdodCBpbiB2aWV3LlxuXG4gICAgdGhpcy5fY3VsbGluZ01hc2sgPSAweGZmZmZmZmZmO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldydzIGZvcndhcmQgZGlyZWN0aW9uXG4gICAqIEBwYXJhbSB7VmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gICAqIEByZXR1cm5zIHtWZWMzfSB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhWaWV3LCBbe1xuICAgIGtleTogJ2dldEZvcndhcmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGb3J3YXJkKG91dCkge1xuICAgICAgdmFyIG0gPSB0aGlzLl9tYXRWaWV3Lm07XG4gICAgICByZXR1cm4gX3ZtYXRoLnZlYzMuc2V0KG91dCwgLW1bMl0sIC1tWzZdLCAtbVsxMF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmlldydzIG9ic2VydmluZyBsb2NhdGlvblxuICAgICAqIEBwYXJhbSB7VmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gICAgICogQHJldHVybnMge1ZlYzN9IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFBvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9zaXRpb24ob3V0KSB7XG4gICAgICBfdm1hdGgubWF0NC5pbnZlcnQoX200X3RtcCwgdGhpcy5fbWF0Vmlldyk7XG4gICAgICByZXR1cm4gX3ZtYXRoLm1hdDQuZ2V0VHJhbnNsYXRpb24ob3V0LCBfbTRfdG1wKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmlldztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVmlldztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5acFpYY3Vhbk1pWFN3aWJtRnRaWE1pT2xzaVgyMDBYM1J0Y0NJc0ltMWhkRFFpTENKamNtVmhkR1VpTENKZloyVnVTVVFpTENKV2FXVjNJaXdpWDJsa0lpd2lYM0J5YVc5eWFYUjVJaXdpWDNKbFkzUWlMQ0o0SWl3aWVTSXNJbmNpTENKb0lpd2lYMk52Ykc5eUlpd2lZMjlzYjNJMElpd2lYMlJsY0hSb0lpd2lYM04wWlc1amFXd2lMQ0pmWTJ4bFlYSkdiR0ZuY3lJc0ltVnVkVzF6SWl3aVEweEZRVkpmUTA5TVQxSWlMQ0pEVEVWQlVsOUVSVkJVU0NJc0lsOWpiR1ZoY2sxdlpHVnNJaXdpWDIxaGRGWnBaWGNpTENKZmJXRjBVSEp2YWlJc0lsOXRZWFJXYVdWM1VISnZhaUlzSWw5dFlYUkpiblpXYVdWM1VISnZhaUlzSWw5emRHRm5aWE1pTENKZlkzVnNiR2x1WjBKNVNVUWlMQ0pmWm5KaGJXVmlkV1ptWlhJaUxDSmZjMmhoWkc5M1RHbG5hSFFpTENKZlkzVnNiR2x1WjAxaGMyc2lMQ0p2ZFhRaUxDSnRJaXdpZG1Wak15SXNJbk5sZENJc0ltbHVkbVZ5ZENJc0ltZGxkRlJ5WVc1emJHRjBhVzl1SWwwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN08zRnFRa0ZCUVRzN1FVRkZRVHM3UVVGRFFUczdPenM3T3pzN1FVRkZRU3hKUVVGSlFTeFZRVUZWUXl4WlFVRkxReXhOUVVGTUxFVkJRV1E3UVVGRFFTeEpRVUZKUXl4VFFVRlRMRU5CUVdJN08wRkJSVUU3T3pzN1NVRkhjVUpETEVrN1FVRkRia0k3T3p0QlFVZEJMR3RDUVVGak8wRkJRVUU3TzBGQlExb3NVMEZCUzBNc1IwRkJUQ3hIUVVGWFJpeFJRVUZZT3p0QlFVVkJPMEZCUTBFc1UwRkJTMGNzVTBGQlRDeEhRVUZwUWl4RFFVRnFRanM3UVVGRlFUdEJRVU5CTEZOQlFVdERMRXRCUVV3c1IwRkJZVHRCUVVOWVF5eFRRVUZITEVOQlJGRXNSVUZEVEVNc1IwRkJSeXhEUVVSRkxFVkJRME5ETEVkQlFVY3NRMEZFU2l4RlFVTlBReXhIUVVGSE8wRkJSRllzUzBGQllqczdRVUZKUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHM3UVVGRlFUdEJRVU5CTEZOQlFVdERMRTFCUVV3c1IwRkJZME1zWTBGQlQxZ3NUVUZCVUN4RFFVRmpMRWRCUVdRc1JVRkJiVUlzUjBGQmJrSXNSVUZCZDBJc1IwRkJlRUlzUlVGQk5rSXNRMEZCTjBJc1EwRkJaRHRCUVVOQkxGTkJRVXRaTEUxQlFVd3NSMEZCWXl4RFFVRmtPMEZCUTBFc1UwRkJTME1zVVVGQlRDeEhRVUZuUWl4RFFVRm9RanRCUVVOQkxGTkJRVXRETEZkQlFVd3NSMEZCYlVKRExHZENRVUZOUXl4WFFVRk9MRWRCUVc5Q1JDeG5Ra0ZCVFVVc1YwRkJOME03UVVGRFFTeFRRVUZMUXl4WFFVRk1MRWRCUVcxQ0xFbEJRVzVDT3p0QlFVVkJPMEZCUTBFc1UwRkJTME1zVVVGQlRDeEhRVUZuUW5CQ0xGbEJRVXRETEUxQlFVd3NSVUZCYUVJN1FVRkRRU3hUUVVGTGIwSXNVVUZCVEN4SFFVRm5RbkpDTEZsQlFVdERMRTFCUVV3c1JVRkJhRUk3UVVGRFFTeFRRVUZMY1VJc1dVRkJUQ3hIUVVGdlFuUkNMRmxCUVV0RExFMUJRVXdzUlVGQmNFSTdRVUZEUVN4VFFVRkxjMElzWlVGQlRDeEhRVUYxUW5aQ0xGbEJRVXRETEUxQlFVd3NSVUZCZGtJN08wRkJSVUU3UVVGRFFTeFRRVUZMZFVJc1QwRkJUQ3hIUVVGbExFVkJRV1k3UVVGRFFTeFRRVUZMUXl4WlFVRk1MRWRCUVc5Q0xFdEJRWEJDTzBGQlEwRXNVMEZCUzBNc1dVRkJUQ3hIUVVGdlFpeEpRVUZ3UWpzN1FVRkZRU3hUUVVGTFF5eFpRVUZNTEVkQlFXOUNMRWxCUVhCQ0xFTkJiRU5aTEVOQmEwTmpPenRCUVVVeFFpeFRRVUZMUXl4WlFVRk1MRWRCUVc5Q0xGVkJRWEJDTzBGQlEwUTdPMEZCUlVRN096czdPenM3T3pzclFrRkxWME1zUnl4RlFVRkxPMEZCUTJRc1ZVRkJTVU1zU1VGQlNTeExRVUZMVml4UlFVRk1MRU5CUVdOVkxFTkJRWFJDTzBGQlEwRXNZVUZCVDBNc1dVRkJTME1zUjBGQlRDeERRVU5NU0N4SFFVUkxMRVZCUlV3c1EwRkJRME1zUlVGQlJTeERRVUZHTEVOQlJra3NSVUZIVEN4RFFVRkRRU3hGUVVGRkxFTkJRVVlzUTBGSVNTeEZRVWxNTEVOQlFVTkJMRVZCUVVVc1JVRkJSaXhEUVVwSkxFTkJRVkE3UVVGTlJEczdRVUZGUkRzN096czdPenM3WjBOQlMxbEVMRWNzUlVGQlN6dEJRVU5tTjBJc2EwSkJRVXRwUXl4TlFVRk1MRU5CUVZsc1F5eFBRVUZhTEVWQlFYRkNMRXRCUVV0eFFpeFJRVUV4UWp0QlFVTkJMR0ZCUVU5d1FpeFpRVUZMYTBNc1kwRkJUQ3hEUVVGdlFrd3NSMEZCY0VJc1JVRkJlVUk1UWl4UFFVRjZRaXhEUVVGUU8wRkJRMFE3T3pzN096dHJRa0ZzUld0Q1NTeEpJaXdpWm1sc1pTSTZJblpwWlhjdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2THlCRGIzQjVjbWxuYUhRZ0tHTXBJREl3TVRjdE1qQXhPQ0JZYVdGdFpXNGdXV0ZxYVNCVGIyWjBkMkZ5WlNCRGJ5NHNJRXgwWkM1Y2JseHVhVzF3YjNKMElIc2dkbVZqTXl3Z1kyOXNiM0kwTENCdFlYUTBJSDBnWm5KdmJTQW5MaTR2TGk0dlkyOXlaUzkyYldGMGFDYzdYRzVwYlhCdmNuUWdaVzUxYlhNZ1puSnZiU0FuTGk0dlpXNTFiWE1uTzF4dVhHNXNaWFFnWDIwMFgzUnRjQ0E5SUcxaGREUXVZM0psWVhSbEtDazdYRzVzWlhRZ1gyZGxia2xFSUQwZ01EdGNibHh1THlvcVhHNGdLaUJCSUhKbGNISmxjMlZ1ZEdGMGFXOXVJRzltSUdFZ2MybHVaMnhsSUdOaGJXVnlZU0IyYVdWM1hHNGdLaTljYm1WNGNHOXlkQ0JrWldaaGRXeDBJR05zWVhOeklGWnBaWGNnZTF4dUlDQXZLaXBjYmlBZ0lDb2dVMlYwZFhBZ1lTQmtaV1poZFd4MElIWnBaWGRjYmlBZ0lDb3ZYRzRnSUdOdmJuTjBjblZqZEc5eUtDa2dlMXh1SUNBZ0lIUm9hWE11WDJsa0lEMGdYMmRsYmtsRUt5czdYRzVjYmlBZ0lDQXZMeUJ3Y21sdmNtbDBlUzRnZEdobElITnRZV3hzWlhJZ2IyNWxJSGRwYkd3Z1ltVWdjbVZ1WkdWeVpXUWdabWx5YzNSY2JpQWdJQ0IwYUdsekxsOXdjbWx2Y21sMGVTQTlJREE3WEc1Y2JpQWdJQ0F2THlCMmFXVjNjRzl5ZEZ4dUlDQWdJSFJvYVhNdVgzSmxZM1FnUFNCN1hHNGdJQ0FnSUNCNE9pQXdMQ0I1T2lBd0xDQjNPaUF4TENCb09pQXhYRzRnSUNBZ2ZUdGNibHh1SUNBZ0lDOHZJRlJQUkU4NlhHNGdJQ0FnTHk4Z2RHaHBjeTVmYzJOcGMzTnZjaUE5SUh0Y2JpQWdJQ0F2THlBZ0lIZzZJREFzSUhrNklEQXNJSGM2SURFc0lHZzZJREZjYmlBZ0lDQXZMeUI5TzF4dVhHNGdJQ0FnTHk4Z1kyeGxZWElnYjNCMGFXOXVjMXh1SUNBZ0lIUm9hWE11WDJOdmJHOXlJRDBnWTI5c2IzSTBMbU55WldGMFpTZ3dMak1zSURBdU15d2dNQzR6TENBeEtUdGNiaUFnSUNCMGFHbHpMbDlrWlhCMGFDQTlJREU3WEc0Z0lDQWdkR2hwY3k1ZmMzUmxibU5wYkNBOUlEQTdYRzRnSUNBZ2RHaHBjeTVmWTJ4bFlYSkdiR0ZuY3lBOUlHVnVkVzF6TGtOTVJVRlNYME5QVEU5U0lId2daVzUxYlhNdVEweEZRVkpmUkVWUVZFZzdYRzRnSUNBZ2RHaHBjeTVmWTJ4bFlYSk5iMlJsYkNBOUlHNTFiR3c3WEc1Y2JpQWdJQ0F2THlCdFlYUnlhWGhjYmlBZ0lDQjBhR2x6TGw5dFlYUldhV1YzSUQwZ2JXRjBOQzVqY21WaGRHVW9LVHRjYmlBZ0lDQjBhR2x6TGw5dFlYUlFjbTlxSUQwZ2JXRjBOQzVqY21WaGRHVW9LVHRjYmlBZ0lDQjBhR2x6TGw5dFlYUldhV1YzVUhKdmFpQTlJRzFoZERRdVkzSmxZWFJsS0NrN1hHNGdJQ0FnZEdocGN5NWZiV0YwU1c1MlZtbGxkMUJ5YjJvZ1BTQnRZWFEwTG1OeVpXRjBaU2dwTzF4dVhHNGdJQ0FnTHk4Z2MzUmhaMlZ6SUNZZ1puSmhiV1ZpZFdabVpYSmNiaUFnSUNCMGFHbHpMbDl6ZEdGblpYTWdQU0JiWFR0Y2JpQWdJQ0IwYUdsekxsOWpkV3hzYVc1blFubEpSQ0E5SUdaaGJITmxPMXh1SUNBZ0lIUm9hWE11WDJaeVlXMWxZblZtWm1WeUlEMGdiblZzYkR0Y2JseHVJQ0FnSUhSb2FYTXVYM05vWVdSdmQweHBaMmgwSUQwZ2JuVnNiRHNnTHk4Z1ZFOUVUem9nYzJodmRXeGtJRzV2ZENCeVpXWmxjaUJzYVdkb2RDQnBiaUIyYVdWM0xseHVYRzRnSUNBZ2RHaHBjeTVmWTNWc2JHbHVaMDFoYzJzZ1BTQXdlR1ptWm1abVptWm1PMXh1SUNCOVhHNWNiaUFnTHlvcVhHNGdJQ0FxSUVkbGRDQjBhR1VnZG1sbGR5ZHpJR1p2Y25kaGNtUWdaR2x5WldOMGFXOXVYRzRnSUNBcUlFQndZWEpoYlNCN1ZtVmpNMzBnYjNWMElIUm9aU0J5WldObGFYWnBibWNnZG1WamRHOXlYRzRnSUNBcUlFQnlaWFIxY201eklIdFdaV016ZlNCMGFHVWdjbVZqWldsMmFXNW5JSFpsWTNSdmNseHVJQ0FnS2k5Y2JpQWdaMlYwUm05eWQyRnlaQ2h2ZFhRcElIdGNiaUFnSUNCc1pYUWdiU0E5SUhSb2FYTXVYMjFoZEZacFpYY3ViVHRjYmlBZ0lDQnlaWFIxY200Z2RtVmpNeTV6WlhRb1hHNGdJQ0FnSUNCdmRYUXNYRzRnSUNBZ0lDQXRiVnN5WFN4Y2JpQWdJQ0FnSUMxdFd6WmRMRnh1SUNBZ0lDQWdMVzFiTVRCZFhHNGdJQ0FnS1R0Y2JpQWdmVnh1WEc0Z0lDOHFLbHh1SUNBZ0tpQkhaWFFnZEdobElIWnBaWGNuY3lCdlluTmxjblpwYm1jZ2JHOWpZWFJwYjI1Y2JpQWdJQ29nUUhCaGNtRnRJSHRXWldNemZTQnZkWFFnZEdobElISmxZMlZwZG1sdVp5QjJaV04wYjNKY2JpQWdJQ29nUUhKbGRIVnlibk1nZTFabFl6TjlJSFJvWlNCeVpXTmxhWFpwYm1jZ2RtVmpkRzl5WEc0Z0lDQXFMMXh1SUNCblpYUlFiM05wZEdsdmJpaHZkWFFwSUh0Y2JpQWdJQ0J0WVhRMExtbHVkbVZ5ZENoZmJUUmZkRzF3TENCMGFHbHpMbDl0WVhSV2FXVjNLVHRjYmlBZ0lDQnlaWFIxY200Z2JXRjBOQzVuWlhSVWNtRnVjMnhoZEdsdmJpaHZkWFFzSUY5dE5GOTBiWEFwTzF4dUlDQjlYRzU5WEc0aVhYMD0iXX0=